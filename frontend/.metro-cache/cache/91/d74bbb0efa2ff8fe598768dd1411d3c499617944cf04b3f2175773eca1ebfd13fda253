{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":134},"end":{"line":3,"column":70,"index":204}}],"key":"KPiafkkHXMyy0AQm6tuLQc7uw64=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/Users/pj/Desktop/Wow/frontend/src/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesSupabase = require(_dependencyMap[1], \"../services/supabase\");\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [session, setSession] = (0, _react.useState)(null);\n    const [user, setUser] = (0, _react.useState)(null);\n    const [profile, setProfile] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      if (!(0, _servicesSupabase.isSupabaseConfigured)()) {\n        console.log('âš ï¸ Supabase not configured');\n        setLoading(false);\n        return;\n      }\n\n      // Get initial session\n      _servicesSupabase.supabase.auth.getSession().then(({\n        data: {\n          session\n        }\n      }) => {\n        console.log('ðŸ” Initial session:', session?.user?.email);\n        setSession(session);\n        setUser(session?.user ?? null);\n        if (session?.user) {\n          fetchProfile(session.user.id);\n        } else {\n          setLoading(false);\n        }\n      });\n\n      // Listen for auth changes\n      const {\n        data: {\n          subscription\n        }\n      } = _servicesSupabase.supabase.auth.onAuthStateChange(async (event, session) => {\n        console.log('ðŸ” Auth state change:', event, session?.user?.email);\n        setSession(session);\n        setUser(session?.user ?? null);\n        if (session?.user) {\n          await fetchProfile(session.user.id);\n        } else {\n          setProfile(null);\n          setLoading(false);\n        }\n      });\n      return () => subscription.unsubscribe();\n    }, []);\n    const fetchProfile = async userId => {\n      try {\n        const {\n          data,\n          error\n        } = await _servicesSupabase.supabase.from('profiles').select('*').eq('id', userId).single();\n        if (data && !error) {\n          setProfile(data);\n        }\n      } catch (error) {\n        console.error('Error fetching profile:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const signOut = async () => {\n      try {\n        setSession(null);\n        setUser(null);\n        setProfile(null);\n        await _servicesSupabase.supabase.auth.signOut();\n      } catch (error) {\n        console.error('Error signing out:', error);\n      }\n    };\n    const value = {\n      session,\n      user,\n      profile,\n      loading,\n      signOut\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 12\n    }, this);\n  }\n  _s(AuthProvider, \"irauaxMOEWjG1lICmTthQs+tY9I=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":119,"map":[[10,2,15,0,"exports"],[10,9,15,0],[10,10,15,0,"AuthProvider"],[10,22,15,0],[10,25,15,0,"AuthProvider"],[10,37,15,0],[11,2,100,0,"exports"],[11,9,100,0],[11,10,100,0,"useAuth"],[11,17,100,0],[11,20,100,0,"useAuth"],[11,27,100,0],[12,2,1,0],[12,6,1,0,"_react"],[12,12,1,0],[12,15,1,0,"require"],[12,22,1,0],[12,23,1,0,"_dependencyMap"],[12,37,1,0],[13,2,3,0],[13,6,3,0,"_servicesSupabase"],[13,23,3,0],[13,26,3,0,"require"],[13,33,3,0],[13,34,3,0,"_dependencyMap"],[13,48,3,0],[14,2,3,70],[14,6,3,70,"_reactJsxDevRuntime"],[14,25,3,70],[14,28,3,70,"require"],[14,35,3,70],[14,36,3,70,"_dependencyMap"],[14,50,3,70],[15,2,13,0],[15,8,13,6,"AuthContext"],[15,19,13,17],[15,35,13,20],[15,39,13,20,"createContext"],[15,45,13,33],[15,46,13,33,"createContext"],[15,59,13,33],[15,61,13,63,"undefined"],[15,70,13,72],[15,71,13,73],[16,2,15,7],[16,11,15,16,"AuthProvider"],[16,23,15,28,"AuthProvider"],[16,24,15,29],[17,4,15,31,"children"],[18,2,15,71],[18,3,15,72],[18,5,15,74],[19,4,15,74,"_s"],[19,6,15,74],[20,4,16,4],[20,10,16,10],[20,11,16,11,"session"],[20,18,16,18],[20,20,16,20,"setSession"],[20,30,16,30],[20,31,16,31],[20,34,16,34],[20,38,16,34,"useState"],[20,44,16,42],[20,45,16,42,"useState"],[20,53,16,42],[20,55,16,59],[20,59,16,63],[20,60,16,64],[21,4,17,4],[21,10,17,10],[21,11,17,11,"user"],[21,15,17,15],[21,17,17,17,"setUser"],[21,24,17,24],[21,25,17,25],[21,28,17,28],[21,32,17,28,"useState"],[21,38,17,36],[21,39,17,36,"useState"],[21,47,17,36],[21,49,17,50],[21,53,17,54],[21,54,17,55],[22,4,18,4],[22,10,18,10],[22,11,18,11,"profile"],[22,18,18,18],[22,20,18,20,"setProfile"],[22,30,18,30],[22,31,18,31],[22,34,18,34],[22,38,18,34,"useState"],[22,44,18,42],[22,45,18,42,"useState"],[22,53,18,42],[22,55,18,55],[22,59,18,59],[22,60,18,60],[23,4,19,4],[23,10,19,10],[23,11,19,11,"loading"],[23,18,19,18],[23,20,19,20,"setLoading"],[23,30,19,30],[23,31,19,31],[23,34,19,34],[23,38,19,34,"useState"],[23,44,19,42],[23,45,19,42,"useState"],[23,53,19,42],[23,55,19,43],[23,59,19,47],[23,60,19,48],[24,4,21,4],[24,8,21,4,"useEffect"],[24,14,21,13],[24,15,21,13,"useEffect"],[24,24,21,13],[24,26,21,14],[24,32,21,20],[25,6,22,8],[25,10,22,12],[25,11,22,13],[25,15,22,13,"isSupabaseConfigured"],[25,32,22,33],[25,33,22,33,"isSupabaseConfigured"],[25,53,22,33],[25,55,22,34],[25,56,22,35],[25,58,22,37],[26,8,23,12,"console"],[26,15,23,19],[26,16,23,20,"log"],[26,19,23,23],[26,20,23,24],[26,48,23,52],[26,49,23,53],[27,8,24,12,"setLoading"],[27,18,24,22],[27,19,24,23],[27,24,24,28],[27,25,24,29],[28,8,25,12],[29,6,26,8],[31,6,28,8],[32,6,29,8,"supabase"],[32,23,29,16],[32,24,29,16,"supabase"],[32,32,29,16],[32,33,29,17,"auth"],[32,37,29,21],[32,38,29,22,"getSession"],[32,48,29,32],[32,49,29,33],[32,50,29,34],[32,51,29,35,"then"],[32,55,29,39],[32,56,29,40],[32,57,29,41],[33,8,29,43,"data"],[33,12,29,47],[33,14,29,49],[34,10,29,51,"session"],[35,8,29,59],[36,6,29,61],[36,7,29,62],[36,12,29,67],[37,8,30,12,"console"],[37,15,30,19],[37,16,30,20,"log"],[37,19,30,23],[37,20,30,24],[37,41,30,45],[37,43,30,47,"session"],[37,50,30,54],[37,52,30,56,"user"],[37,56,30,60],[37,58,30,62,"email"],[37,63,30,67],[37,64,30,68],[38,8,31,12,"setSession"],[38,18,31,22],[38,19,31,23,"session"],[38,26,31,30],[38,27,31,31],[39,8,32,12,"setUser"],[39,15,32,19],[39,16,32,20,"session"],[39,23,32,27],[39,25,32,29,"user"],[39,29,32,33],[39,33,32,37],[39,37,32,41],[39,38,32,42],[40,8,34,12],[40,12,34,16,"session"],[40,19,34,23],[40,21,34,25,"user"],[40,25,34,29],[40,27,34,31],[41,10,35,16,"fetchProfile"],[41,22,35,28],[41,23,35,29,"session"],[41,30,35,36],[41,31,35,37,"user"],[41,35,35,41],[41,36,35,42,"id"],[41,38,35,44],[41,39,35,45],[42,8,36,12],[42,9,36,13],[42,15,36,19],[43,10,37,16,"setLoading"],[43,20,37,26],[43,21,37,27],[43,26,37,32],[43,27,37,33],[44,8,38,12],[45,6,39,8],[45,7,39,9],[45,8,39,10],[47,6,41,8],[48,6,42,8],[48,12,42,14],[49,8,42,16,"data"],[49,12,42,20],[49,14,42,22],[50,10,42,24,"subscription"],[51,8,42,37],[52,6,42,39],[52,7,42,40],[52,10,42,43,"supabase"],[52,27,42,51],[52,28,42,51,"supabase"],[52,36,42,51],[52,37,42,52,"auth"],[52,41,42,56],[52,42,42,57,"onAuthStateChange"],[52,59,42,74],[52,60,43,12],[52,67,43,19,"event"],[52,72,43,24],[52,74,43,26,"session"],[52,81,43,33],[52,86,43,38],[53,8,44,16,"console"],[53,15,44,23],[53,16,44,24,"log"],[53,19,44,27],[53,20,44,28],[53,43,44,51],[53,45,44,53,"event"],[53,50,44,58],[53,52,44,60,"session"],[53,59,44,67],[53,61,44,69,"user"],[53,65,44,73],[53,67,44,75,"email"],[53,72,44,80],[53,73,44,81],[54,8,45,16,"setSession"],[54,18,45,26],[54,19,45,27,"session"],[54,26,45,34],[54,27,45,35],[55,8,46,16,"setUser"],[55,15,46,23],[55,16,46,24,"session"],[55,23,46,31],[55,25,46,33,"user"],[55,29,46,37],[55,33,46,41],[55,37,46,45],[55,38,46,46],[56,8,48,16],[56,12,48,20,"session"],[56,19,48,27],[56,21,48,29,"user"],[56,25,48,33],[56,27,48,35],[57,10,49,20],[57,16,49,26,"fetchProfile"],[57,28,49,38],[57,29,49,39,"session"],[57,36,49,46],[57,37,49,47,"user"],[57,41,49,51],[57,42,49,52,"id"],[57,44,49,54],[57,45,49,55],[58,8,50,16],[58,9,50,17],[58,15,50,23],[59,10,51,20,"setProfile"],[59,20,51,30],[59,21,51,31],[59,25,51,35],[59,26,51,36],[60,10,52,20,"setLoading"],[60,20,52,30],[60,21,52,31],[60,26,52,36],[60,27,52,37],[61,8,53,16],[62,6,54,12],[62,7,55,8],[62,8,55,9],[63,6,57,8],[63,13,57,15],[63,19,57,21,"subscription"],[63,31,57,33],[63,32,57,34,"unsubscribe"],[63,43,57,45],[63,44,57,46],[63,45,57,47],[64,4,58,4],[64,5,58,5],[64,7,58,7],[64,9,58,9],[64,10,58,10],[65,4,60,4],[65,10,60,10,"fetchProfile"],[65,22,60,22],[65,25,60,25],[65,31,60,32,"userId"],[65,37,60,46],[65,41,60,51],[66,6,61,8],[66,10,61,12],[67,8,62,12],[67,14,62,18],[68,10,62,20,"data"],[68,14,62,24],[69,10,62,26,"error"],[70,8,62,32],[70,9,62,33],[70,12,62,36],[70,18,62,42,"supabase"],[70,35,62,50],[70,36,62,50,"supabase"],[70,44,62,50],[70,45,63,17,"from"],[70,49,63,21],[70,50,63,22],[70,60,63,32],[70,61,63,33],[70,62,64,17,"select"],[70,68,64,23],[70,69,64,24],[70,72,64,27],[70,73,64,28],[70,74,65,17,"eq"],[70,76,65,19],[70,77,65,20],[70,81,65,24],[70,83,65,26,"userId"],[70,89,65,32],[70,90,65,33],[70,91,66,17,"single"],[70,97,66,23],[70,98,66,24],[70,99,66,25],[71,8,68,12],[71,12,68,16,"data"],[71,16,68,20],[71,20,68,24],[71,21,68,25,"error"],[71,26,68,30],[71,28,68,32],[72,10,69,16,"setProfile"],[72,20,69,26],[72,21,69,27,"data"],[72,25,69,31],[72,26,69,32],[73,8,70,12],[74,6,71,8],[74,7,71,9],[74,8,71,10],[74,15,71,17,"error"],[74,20,71,22],[74,22,71,24],[75,8,72,12,"console"],[75,15,72,19],[75,16,72,20,"error"],[75,21,72,25],[75,22,72,26],[75,47,72,51],[75,49,72,53,"error"],[75,54,72,58],[75,55,72,59],[76,6,73,8],[76,7,73,9],[76,16,73,18],[77,8,74,12,"setLoading"],[77,18,74,22],[77,19,74,23],[77,24,74,28],[77,25,74,29],[78,6,75,8],[79,4,76,4],[79,5,76,5],[80,4,78,4],[80,10,78,10,"signOut"],[80,17,78,17],[80,20,78,20],[80,26,78,20,"signOut"],[80,27,78,20],[80,32,78,32],[81,6,79,8],[81,10,79,12],[82,8,80,12,"setSession"],[82,18,80,22],[82,19,80,23],[82,23,80,27],[82,24,80,28],[83,8,81,12,"setUser"],[83,15,81,19],[83,16,81,20],[83,20,81,24],[83,21,81,25],[84,8,82,12,"setProfile"],[84,18,82,22],[84,19,82,23],[84,23,82,27],[84,24,82,28],[85,8,83,12],[85,14,83,18,"supabase"],[85,31,83,26],[85,32,83,26,"supabase"],[85,40,83,26],[85,41,83,27,"auth"],[85,45,83,31],[85,46,83,32,"signOut"],[85,53,83,39],[85,54,83,40],[85,55,83,41],[86,6,84,8],[86,7,84,9],[86,8,84,10],[86,15,84,17,"error"],[86,20,84,22],[86,22,84,24],[87,8,85,12,"console"],[87,15,85,19],[87,16,85,20,"error"],[87,21,85,25],[87,22,85,26],[87,42,85,46],[87,44,85,48,"error"],[87,49,85,53],[87,50,85,54],[88,6,86,8],[89,4,87,4],[89,5,87,5],[90,4,89,4],[90,10,89,10,"value"],[90,15,89,15],[90,18,89,18],[91,6,90,8,"session"],[91,13,90,15],[92,6,91,8,"user"],[92,10,91,12],[93,6,92,8,"profile"],[93,13,92,15],[94,6,93,8,"loading"],[94,13,93,15],[95,6,94,8,"signOut"],[96,4,95,4],[96,5,95,5],[97,4,97,4],[97,24,97,11],[97,28,97,11,"_reactJsxDevRuntime"],[97,47,97,11],[97,48,97,11,"jsxDEV"],[97,54,97,11],[97,56,97,12,"AuthContext"],[97,67,97,23],[97,68,97,24,"Provider"],[97,76,97,32],[98,6,97,33,"value"],[98,11,97,38],[98,13,97,40,"value"],[98,18,97,46],[99,6,97,46,"children"],[99,14,97,46],[99,16,97,48,"children"],[100,4,97,56],[101,6,97,56,"fileName"],[101,14,97,56],[101,16,97,56,"_jsxFileName"],[101,28,97,56],[102,6,97,56,"lineNumber"],[102,16,97,56],[103,6,97,56,"columnNumber"],[103,18,97,56],[104,4,97,56],[104,11,97,79],[104,12,97,80],[105,2,98,0],[106,2,98,1,"_s"],[106,4,98,1],[106,5,15,16,"AuthProvider"],[106,17,15,28],[107,2,15,28,"_c"],[107,4,15,28],[107,7,15,16,"AuthProvider"],[107,19,15,28],[108,2,100,7],[108,11,100,16,"useAuth"],[108,18,100,23,"useAuth"],[108,19,100,23],[108,21,100,26],[109,4,100,26,"_s2"],[109,7,100,26],[110,4,101,4],[110,10,101,10,"context"],[110,17,101,17],[110,20,101,20],[110,24,101,20,"useContext"],[110,30,101,30],[110,31,101,30,"useContext"],[110,41,101,30],[110,43,101,31,"AuthContext"],[110,54,101,42],[110,55,101,43],[111,4,102,4],[111,8,102,8,"context"],[111,15,102,15],[111,20,102,20,"undefined"],[111,29,102,29],[111,31,102,31],[112,6,103,8],[112,12,103,14],[112,16,103,18,"Error"],[112,21,103,23],[112,22,103,24],[112,67,103,69],[112,68,103,70],[113,4,104,4],[114,4,105,4],[114,11,105,11,"context"],[114,18,105,18],[115,2,106,0],[116,2,106,1,"_s2"],[116,5,106,1],[116,6,100,16,"useAuth"],[116,13,100,23],[117,2,100,23],[117,6,100,23,"_c"],[117,8,100,23],[118,2,100,23,"$RefreshReg$"],[118,14,100,23],[118,15,100,23,"_c"],[118,17,100,23],[119,0,100,23],[119,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","supabase.auth.getSession.then$argument_0","supabase.auth.onAuthStateChange$argument_0","<anonymous>","fetchProfile","signOut","useAuth"],"mappings":"AAA;OCc;cCM;wCCQ;SDU;YEI;aFW;eGG,gCH;KDC;yBKE;KLgB;oBME;KNS;CDW;OQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}