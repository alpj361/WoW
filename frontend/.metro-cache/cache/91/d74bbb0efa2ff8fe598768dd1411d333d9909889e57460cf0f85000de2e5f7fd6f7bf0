{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":86,"index":86}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":142},"end":{"line":3,"column":70,"index":212}}],"key":"KPiafkkHXMyy0AQm6tuLQc7uw64=","exportNames":["*"],"imports":1}},{"name":"../utils/authState","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":213},"end":{"line":4,"column":47,"index":260}}],"key":"NiKTyVyV9HlvikffeNdGsZOd0CQ=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/Users/pj/Desktop/Wow/frontend/src/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesSupabase = require(_dependencyMap[1], \"../services/supabase\");\n  var _utilsAuthState = require(_dependencyMap[2], \"../utils/authState\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [session, setSession] = (0, _react.useState)(null);\n    const [user, setUser] = (0, _react.useState)(null);\n    const [profile, setProfile] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      if (!(0, _servicesSupabase.isSupabaseConfigured)()) {\n        console.log('âš ï¸ Supabase not configured');\n        setLoading(false);\n        return;\n      }\n\n      // Get initial session\n      initializeAuth();\n\n      // Listen for auth changes\n      const {\n        data: {\n          subscription\n        }\n      } = _servicesSupabase.supabase.auth.onAuthStateChange(async (event, newSession) => {\n        console.log('ðŸ” Auth state change:', event, newSession?.user?.email);\n\n        // Check if auth-callback is processing - don't interfere\n        const isProcessing = _utilsAuthState.authState.getState().isProcessing;\n        if (isProcessing && event === 'SIGNED_IN') {\n          console.log('â³ Auth callback is processing, skipping profile check');\n          setSession(newSession);\n          // Don't set user yet - let auth-callback handle it\n          return;\n        }\n        if (event === 'SIGNED_IN' && newSession?.user) {\n          setSession(newSession);\n          // Check profile\n          const profileData = await fetchProfile(newSession.user.id);\n          if (profileData) {\n            console.log('âœ… Profile found in onAuthStateChange');\n            setUser(newSession.user);\n            setProfile(profileData);\n          } else {\n            // No profile = not fully registered\n            console.log('âŒ No profile in onAuthStateChange, user not set');\n            setUser(null);\n            setProfile(null);\n          }\n          setLoading(false);\n        } else if (event === 'SIGNED_OUT') {\n          console.log('ðŸšª SIGNED_OUT event received');\n          setSession(null);\n          setUser(null);\n          setProfile(null);\n          setLoading(false);\n        } else if (event === 'TOKEN_REFRESHED' && newSession?.user) {\n          // Token refresh - always re-fetch profile to ensure consistency\n          console.log('ðŸ”„ Token refreshed, re-validating profile');\n          setSession(newSession);\n          const profileData = await fetchProfile(newSession.user.id);\n          if (profileData) {\n            setUser(newSession.user);\n            setProfile(profileData);\n          } else {\n            console.warn('âš ï¸ Profile lost after token refresh, signing out');\n            signOut();\n          }\n        }\n      });\n      return () => subscription.unsubscribe();\n    }, []);\n\n    // Auto-recovery: Re-validate session when user returns to the page\n    (0, _react.useEffect)(() => {\n      if (typeof window === 'undefined') return; // Only on web\n\n      const handleVisibilityChange = async () => {\n        if (document.visibilityState === 'visible' && session) {\n          console.log('ðŸ‘ï¸ Page visible, re-validating session');\n          try {\n            const {\n              data: {\n                session: currentSession\n              },\n              error\n            } = await _servicesSupabase.supabase.auth.getSession();\n            if (error || !currentSession) {\n              console.warn('âš ï¸ Session expired while away, signing out');\n              signOut();\n            } else if (currentSession.user.id !== session.user.id) {\n              // Session changed (different user) - reload\n              console.log('ðŸ”„ Session changed, reloading');\n              window.location.reload();\n            }\n          } catch (error) {\n            console.error('Error checking session:', error);\n          }\n        }\n      };\n      document.addEventListener('visibilitychange', handleVisibilityChange);\n      return () => document.removeEventListener('visibilitychange', handleVisibilityChange);\n    }, [session]);\n    const initializeAuth = async () => {\n      try {\n        const {\n          data: {\n            session\n          }\n        } = await _servicesSupabase.supabase.auth.getSession();\n        console.log('ðŸ” Initial session:', session?.user?.email);\n        if (session?.user) {\n          setSession(session);\n          const profileData = await fetchProfile(session.user.id);\n          if (profileData) {\n            setUser(session.user);\n            setProfile(profileData);\n          } else {\n            console.log('âŒ No profile on init');\n            setUser(null);\n          }\n        }\n      } catch (error) {\n        // Ignore abort errors which happen on hot reload or fast navigation\n        if (error.name === 'AbortError' || error?.message?.includes('aborted')) {\n          console.log('âš ï¸ Auth init aborted (safe to ignore)');\n        } else {\n          console.error('Init auth error:', error);\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    // Fetch profile, returns profile data or null\n    const fetchProfile = async userId => {\n      // Retry logic with faster timeout for profile fetch\n      for (let i = 0; i < 2; i++) {\n        try {\n          console.log(`ðŸ” Fetching profile for: ${userId} (attempt ${i + 1})`);\n\n          // Set a 5 second timeout for each attempt\n          const timeoutPromise = new Promise((_, reject) => setTimeout(() => reject(new Error('Profile fetch timeout')), 5000));\n          const fetchPromise = _servicesSupabase.supabase.from('profiles').select('*').eq('id', userId).single();\n          const {\n            data,\n            error\n          } = await Promise.race([fetchPromise, timeoutPromise]);\n          if (error) {\n            // If it's a \"not found\" error, return null immediately (no retry)\n            if (error.code === 'PGRST116') {\n              console.log('âŒ No profile found (user not registered)');\n              return null;\n            }\n\n            // For other errors, retry\n            console.warn(`âš ï¸ Profile fetch error (attempt ${i + 1}):`, error.message);\n            if (i === 1) return null; // Give up after 2 tries\n            await new Promise(r => setTimeout(r, 500)); // Wait 500ms\n            continue;\n          }\n          if (data) {\n            console.log('âœ… Profile found:', data.email);\n            return data;\n          } else {\n            console.log('âŒ No profile found (data is null)');\n            return null;\n          }\n        } catch (error) {\n          console.error(`âŒ Profile fetch exception (attempt ${i + 1}):`, error.message);\n          if (i === 1) return null;\n          await new Promise(r => setTimeout(r, 500));\n        }\n      }\n      return null;\n    };\n    const refreshProfile = async () => {\n      if (session?.user) {\n        const profileData = await fetchProfile(session.user.id);\n        if (profileData) {\n          setProfile(profileData);\n          setUser(session.user);\n        }\n      }\n    };\n    const signOut = async () => {\n      try {\n        setSession(null);\n        setUser(null);\n        setProfile(null);\n        await _servicesSupabase.supabase.auth.signOut();\n      } catch (error) {\n        console.error('Sign out error:', error);\n      }\n    };\n    const value = {\n      session,\n      user,\n      profile,\n      loading,\n      signOut,\n      refreshProfile\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 12\n    }, this);\n  }\n  _s(AuthProvider, \"WJCb8HtvdJh0lGOiI5l4o29NOWQ=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":241,"map":[[10,2,17,0,"exports"],[10,9,17,0],[10,10,17,0,"AuthProvider"],[10,22,17,0],[10,25,17,0,"AuthProvider"],[10,37,17,0],[11,2,229,0,"exports"],[11,9,229,0],[11,10,229,0,"useAuth"],[11,17,229,0],[11,20,229,0,"useAuth"],[11,27,229,0],[12,2,1,0],[12,6,1,0,"_react"],[12,12,1,0],[12,15,1,0,"require"],[12,22,1,0],[12,23,1,0,"_dependencyMap"],[12,37,1,0],[13,2,3,0],[13,6,3,0,"_servicesSupabase"],[13,23,3,0],[13,26,3,0,"require"],[13,33,3,0],[13,34,3,0,"_dependencyMap"],[13,48,3,0],[14,2,4,0],[14,6,4,0,"_utilsAuthState"],[14,21,4,0],[14,24,4,0,"require"],[14,31,4,0],[14,32,4,0,"_dependencyMap"],[14,46,4,0],[15,2,4,47],[15,6,4,47,"_reactJsxDevRuntime"],[15,25,4,47],[15,28,4,47,"require"],[15,35,4,47],[15,36,4,47,"_dependencyMap"],[15,50,4,47],[16,2,15,0],[16,8,15,6,"AuthContext"],[16,19,15,17],[16,35,15,20],[16,39,15,20,"createContext"],[16,45,15,33],[16,46,15,33,"createContext"],[16,59,15,33],[16,61,15,63,"undefined"],[16,70,15,72],[16,71,15,73],[17,2,17,7],[17,11,17,16,"AuthProvider"],[17,23,17,28,"AuthProvider"],[17,24,17,29],[18,4,17,31,"children"],[19,2,17,71],[19,3,17,72],[19,5,17,74],[20,4,17,74,"_s"],[20,6,17,74],[21,4,18,4],[21,10,18,10],[21,11,18,11,"session"],[21,18,18,18],[21,20,18,20,"setSession"],[21,30,18,30],[21,31,18,31],[21,34,18,34],[21,38,18,34,"useState"],[21,44,18,42],[21,45,18,42,"useState"],[21,53,18,42],[21,55,18,59],[21,59,18,63],[21,60,18,64],[22,4,19,4],[22,10,19,10],[22,11,19,11,"user"],[22,15,19,15],[22,17,19,17,"setUser"],[22,24,19,24],[22,25,19,25],[22,28,19,28],[22,32,19,28,"useState"],[22,38,19,36],[22,39,19,36,"useState"],[22,47,19,36],[22,49,19,50],[22,53,19,54],[22,54,19,55],[23,4,20,4],[23,10,20,10],[23,11,20,11,"profile"],[23,18,20,18],[23,20,20,20,"setProfile"],[23,30,20,30],[23,31,20,31],[23,34,20,34],[23,38,20,34,"useState"],[23,44,20,42],[23,45,20,42,"useState"],[23,53,20,42],[23,55,20,55],[23,59,20,59],[23,60,20,60],[24,4,21,4],[24,10,21,10],[24,11,21,11,"loading"],[24,18,21,18],[24,20,21,20,"setLoading"],[24,30,21,30],[24,31,21,31],[24,34,21,34],[24,38,21,34,"useState"],[24,44,21,42],[24,45,21,42,"useState"],[24,53,21,42],[24,55,21,43],[24,59,21,47],[24,60,21,48],[25,4,23,4],[25,8,23,4,"useEffect"],[25,14,23,13],[25,15,23,13,"useEffect"],[25,24,23,13],[25,26,23,14],[25,32,23,20],[26,6,24,8],[26,10,24,12],[26,11,24,13],[26,15,24,13,"isSupabaseConfigured"],[26,32,24,33],[26,33,24,33,"isSupabaseConfigured"],[26,53,24,33],[26,55,24,34],[26,56,24,35],[26,58,24,37],[27,8,25,12,"console"],[27,15,25,19],[27,16,25,20,"log"],[27,19,25,23],[27,20,25,24],[27,48,25,52],[27,49,25,53],[28,8,26,12,"setLoading"],[28,18,26,22],[28,19,26,23],[28,24,26,28],[28,25,26,29],[29,8,27,12],[30,6,28,8],[32,6,30,8],[33,6,31,8,"initializeAuth"],[33,20,31,22],[33,21,31,23],[33,22,31,24],[35,6,33,8],[36,6,34,8],[36,12,34,14],[37,8,34,16,"data"],[37,12,34,20],[37,14,34,22],[38,10,34,24,"subscription"],[39,8,34,37],[40,6,34,39],[40,7,34,40],[40,10,34,43,"supabase"],[40,27,34,51],[40,28,34,51,"supabase"],[40,36,34,51],[40,37,34,52,"auth"],[40,41,34,56],[40,42,34,57,"onAuthStateChange"],[40,59,34,74],[40,60,35,12],[40,67,35,19,"event"],[40,72,35,24],[40,74,35,26,"newSession"],[40,84,35,36],[40,89,35,41],[41,8,36,16,"console"],[41,15,36,23],[41,16,36,24,"log"],[41,19,36,27],[41,20,36,28],[41,43,36,51],[41,45,36,53,"event"],[41,50,36,58],[41,52,36,60,"newSession"],[41,62,36,70],[41,64,36,72,"user"],[41,68,36,76],[41,70,36,78,"email"],[41,75,36,83],[41,76,36,84],[43,8,38,16],[44,8,39,16],[44,14,39,22,"isProcessing"],[44,26,39,34],[44,29,39,37,"authState"],[44,44,39,46],[44,45,39,46,"authState"],[44,54,39,46],[44,55,39,47,"getState"],[44,63,39,55],[44,64,39,56],[44,65,39,57],[44,66,39,58,"isProcessing"],[44,78,39,70],[45,8,40,16],[45,12,40,20,"isProcessing"],[45,24,40,32],[45,28,40,36,"event"],[45,33,40,41],[45,38,40,46],[45,49,40,57],[45,51,40,59],[46,10,41,20,"console"],[46,17,41,27],[46,18,41,28,"log"],[46,21,41,31],[46,22,41,32],[46,77,41,87],[46,78,41,88],[47,10,42,20,"setSession"],[47,20,42,30],[47,21,42,31,"newSession"],[47,31,42,41],[47,32,42,42],[48,10,43,20],[49,10,44,20],[50,8,45,16],[51,8,47,16],[51,12,47,20,"event"],[51,17,47,25],[51,22,47,30],[51,33,47,41],[51,37,47,45,"newSession"],[51,47,47,55],[51,49,47,57,"user"],[51,53,47,61],[51,55,47,63],[52,10,48,20,"setSession"],[52,20,48,30],[52,21,48,31,"newSession"],[52,31,48,41],[52,32,48,42],[53,10,49,20],[54,10,50,20],[54,16,50,26,"profileData"],[54,27,50,37],[54,30,50,40],[54,36,50,46,"fetchProfile"],[54,48,50,58],[54,49,50,59,"newSession"],[54,59,50,69],[54,60,50,70,"user"],[54,64,50,74],[54,65,50,75,"id"],[54,67,50,77],[54,68,50,78],[55,10,51,20],[55,14,51,24,"profileData"],[55,25,51,35],[55,27,51,37],[56,12,52,24,"console"],[56,19,52,31],[56,20,52,32,"log"],[56,23,52,35],[56,24,52,36],[56,62,52,74],[56,63,52,75],[57,12,53,24,"setUser"],[57,19,53,31],[57,20,53,32,"newSession"],[57,30,53,42],[57,31,53,43,"user"],[57,35,53,47],[57,36,53,48],[58,12,54,24,"setProfile"],[58,22,54,34],[58,23,54,35,"profileData"],[58,34,54,46],[58,35,54,47],[59,10,55,20],[59,11,55,21],[59,17,55,27],[60,12,56,24],[61,12,57,24,"console"],[61,19,57,31],[61,20,57,32,"log"],[61,23,57,35],[61,24,57,36],[61,73,57,85],[61,74,57,86],[62,12,58,24,"setUser"],[62,19,58,31],[62,20,58,32],[62,24,58,36],[62,25,58,37],[63,12,59,24,"setProfile"],[63,22,59,34],[63,23,59,35],[63,27,59,39],[63,28,59,40],[64,10,60,20],[65,10,61,20,"setLoading"],[65,20,61,30],[65,21,61,31],[65,26,61,36],[65,27,61,37],[66,8,62,16],[66,9,62,17],[66,15,62,23],[66,19,62,27,"event"],[66,24,62,32],[66,29,62,37],[66,41,62,49],[66,43,62,51],[67,10,63,20,"console"],[67,17,63,27],[67,18,63,28,"log"],[67,21,63,31],[67,22,63,32],[67,52,63,62],[67,53,63,63],[68,10,64,20,"setSession"],[68,20,64,30],[68,21,64,31],[68,25,64,35],[68,26,64,36],[69,10,65,20,"setUser"],[69,17,65,27],[69,18,65,28],[69,22,65,32],[69,23,65,33],[70,10,66,20,"setProfile"],[70,20,66,30],[70,21,66,31],[70,25,66,35],[70,26,66,36],[71,10,67,20,"setLoading"],[71,20,67,30],[71,21,67,31],[71,26,67,36],[71,27,67,37],[72,8,68,16],[72,9,68,17],[72,15,68,23],[72,19,68,27,"event"],[72,24,68,32],[72,29,68,37],[72,46,68,54],[72,50,68,58,"newSession"],[72,60,68,68],[72,62,68,70,"user"],[72,66,68,74],[72,68,68,76],[73,10,69,20],[74,10,70,20,"console"],[74,17,70,27],[74,18,70,28,"log"],[74,21,70,31],[74,22,70,32],[74,65,70,75],[74,66,70,76],[75,10,71,20,"setSession"],[75,20,71,30],[75,21,71,31,"newSession"],[75,31,71,41],[75,32,71,42],[76,10,72,20],[76,16,72,26,"profileData"],[76,27,72,37],[76,30,72,40],[76,36,72,46,"fetchProfile"],[76,48,72,58],[76,49,72,59,"newSession"],[76,59,72,69],[76,60,72,70,"user"],[76,64,72,74],[76,65,72,75,"id"],[76,67,72,77],[76,68,72,78],[77,10,73,20],[77,14,73,24,"profileData"],[77,25,73,35],[77,27,73,37],[78,12,74,24,"setUser"],[78,19,74,31],[78,20,74,32,"newSession"],[78,30,74,42],[78,31,74,43,"user"],[78,35,74,47],[78,36,74,48],[79,12,75,24,"setProfile"],[79,22,75,34],[79,23,75,35,"profileData"],[79,34,75,46],[79,35,75,47],[80,10,76,20],[80,11,76,21],[80,17,76,27],[81,12,77,24,"console"],[81,19,77,31],[81,20,77,32,"warn"],[81,24,77,36],[81,25,77,37],[81,75,77,87],[81,76,77,88],[82,12,78,24,"signOut"],[82,19,78,31],[82,20,78,32],[82,21,78,33],[83,10,79,20],[84,8,80,16],[85,6,81,12],[85,7,82,8],[85,8,82,9],[86,6,84,8],[86,13,84,15],[86,19,84,21,"subscription"],[86,31,84,33],[86,32,84,34,"unsubscribe"],[86,43,84,45],[86,44,84,46],[86,45,84,47],[87,4,85,4],[87,5,85,5],[87,7,85,7],[87,9,85,9],[87,10,85,10],[89,4,87,4],[90,4,88,4],[90,8,88,4,"useEffect"],[90,14,88,13],[90,15,88,13,"useEffect"],[90,24,88,13],[90,26,88,14],[90,32,88,20],[91,6,89,8],[91,10,89,12],[91,17,89,19,"window"],[91,23,89,25],[91,28,89,30],[91,39,89,41],[91,41,89,43],[91,48,89,50],[91,49,89,51],[93,6,91,8],[93,12,91,14,"handleVisibilityChange"],[93,34,91,36],[93,37,91,39],[93,43,91,39,"handleVisibilityChange"],[93,44,91,39],[93,49,91,51],[94,8,92,12],[94,12,92,16,"document"],[94,20,92,24],[94,21,92,25,"visibilityState"],[94,36,92,40],[94,41,92,45],[94,50,92,54],[94,54,92,58,"session"],[94,61,92,65],[94,63,92,67],[95,10,93,16,"console"],[95,17,93,23],[95,18,93,24,"log"],[95,21,93,27],[95,22,93,28],[95,63,93,69],[95,64,93,70],[96,10,94,16],[96,14,94,20],[97,12,95,20],[97,18,95,26],[98,14,95,28,"data"],[98,18,95,32],[98,20,95,34],[99,16,95,36,"session"],[99,23,95,43],[99,25,95,45,"currentSession"],[100,14,95,60],[100,15,95,61],[101,14,95,63,"error"],[102,12,95,69],[102,13,95,70],[102,16,95,73],[102,22,95,79,"supabase"],[102,39,95,87],[102,40,95,87,"supabase"],[102,48,95,87],[102,49,95,88,"auth"],[102,53,95,92],[102,54,95,93,"getSession"],[102,64,95,103],[102,65,95,104],[102,66,95,105],[103,12,97,20],[103,16,97,24,"error"],[103,21,97,29],[103,25,97,33],[103,26,97,34,"currentSession"],[103,40,97,48],[103,42,97,50],[104,14,98,24,"console"],[104,21,98,31],[104,22,98,32,"warn"],[104,26,98,36],[104,27,98,37],[104,71,98,81],[104,72,98,82],[105,14,99,24,"signOut"],[105,21,99,31],[105,22,99,32],[105,23,99,33],[106,12,100,20],[106,13,100,21],[106,19,100,27],[106,23,100,31,"currentSession"],[106,37,100,45],[106,38,100,46,"user"],[106,42,100,50],[106,43,100,51,"id"],[106,45,100,53],[106,50,100,58,"session"],[106,57,100,65],[106,58,100,66,"user"],[106,62,100,70],[106,63,100,71,"id"],[106,65,100,73],[106,67,100,75],[107,14,101,24],[108,14,102,24,"console"],[108,21,102,31],[108,22,102,32,"log"],[108,25,102,35],[108,26,102,36],[108,57,102,67],[108,58,102,68],[109,14,103,24,"window"],[109,20,103,30],[109,21,103,31,"location"],[109,29,103,39],[109,30,103,40,"reload"],[109,36,103,46],[109,37,103,47],[109,38,103,48],[110,12,104,20],[111,10,105,16],[111,11,105,17],[111,12,105,18],[111,19,105,25,"error"],[111,24,105,30],[111,26,105,32],[112,12,106,20,"console"],[112,19,106,27],[112,20,106,28,"error"],[112,25,106,33],[112,26,106,34],[112,51,106,59],[112,53,106,61,"error"],[112,58,106,66],[112,59,106,67],[113,10,107,16],[114,8,108,12],[115,6,109,8],[115,7,109,9],[116,6,111,8,"document"],[116,14,111,16],[116,15,111,17,"addEventListener"],[116,31,111,33],[116,32,111,34],[116,50,111,52],[116,52,111,54,"handleVisibilityChange"],[116,74,111,76],[116,75,111,77],[117,6,112,8],[117,13,112,15],[117,19,112,21,"document"],[117,27,112,29],[117,28,112,30,"removeEventListener"],[117,47,112,49],[117,48,112,50],[117,66,112,68],[117,68,112,70,"handleVisibilityChange"],[117,90,112,92],[117,91,112,93],[118,4,113,4],[118,5,113,5],[118,7,113,7],[118,8,113,8,"session"],[118,15,113,15],[118,16,113,16],[118,17,113,17],[119,4,115,4],[119,10,115,10,"initializeAuth"],[119,24,115,24],[119,27,115,27],[119,33,115,27,"initializeAuth"],[119,34,115,27],[119,39,115,39],[120,6,116,8],[120,10,116,12],[121,8,117,12],[121,14,117,18],[122,10,117,20,"data"],[122,14,117,24],[122,16,117,26],[123,12,117,28,"session"],[124,10,117,36],[125,8,117,38],[125,9,117,39],[125,12,117,42],[125,18,117,48,"supabase"],[125,35,117,56],[125,36,117,56,"supabase"],[125,44,117,56],[125,45,117,57,"auth"],[125,49,117,61],[125,50,117,62,"getSession"],[125,60,117,72],[125,61,117,73],[125,62,117,74],[126,8,118,12,"console"],[126,15,118,19],[126,16,118,20,"log"],[126,19,118,23],[126,20,118,24],[126,41,118,45],[126,43,118,47,"session"],[126,50,118,54],[126,52,118,56,"user"],[126,56,118,60],[126,58,118,62,"email"],[126,63,118,67],[126,64,118,68],[127,8,120,12],[127,12,120,16,"session"],[127,19,120,23],[127,21,120,25,"user"],[127,25,120,29],[127,27,120,31],[128,10,121,16,"setSession"],[128,20,121,26],[128,21,121,27,"session"],[128,28,121,34],[128,29,121,35],[129,10,122,16],[129,16,122,22,"profileData"],[129,27,122,33],[129,30,122,36],[129,36,122,42,"fetchProfile"],[129,48,122,54],[129,49,122,55,"session"],[129,56,122,62],[129,57,122,63,"user"],[129,61,122,67],[129,62,122,68,"id"],[129,64,122,70],[129,65,122,71],[130,10,123,16],[130,14,123,20,"profileData"],[130,25,123,31],[130,27,123,33],[131,12,124,20,"setUser"],[131,19,124,27],[131,20,124,28,"session"],[131,27,124,35],[131,28,124,36,"user"],[131,32,124,40],[131,33,124,41],[132,12,125,20,"setProfile"],[132,22,125,30],[132,23,125,31,"profileData"],[132,34,125,42],[132,35,125,43],[133,10,126,16],[133,11,126,17],[133,17,126,23],[134,12,127,20,"console"],[134,19,127,27],[134,20,127,28,"log"],[134,23,127,31],[134,24,127,32],[134,46,127,54],[134,47,127,55],[135,12,128,20,"setUser"],[135,19,128,27],[135,20,128,28],[135,24,128,32],[135,25,128,33],[136,10,129,16],[137,8,130,12],[138,6,131,8],[138,7,131,9],[138,8,131,10],[138,15,131,17,"error"],[138,20,131,27],[138,22,131,29],[139,8,132,12],[140,8,133,12],[140,12,133,16,"error"],[140,17,133,21],[140,18,133,22,"name"],[140,22,133,26],[140,27,133,31],[140,39,133,43],[140,43,133,47,"error"],[140,48,133,52],[140,50,133,54,"message"],[140,57,133,61],[140,59,133,63,"includes"],[140,67,133,71],[140,68,133,72],[140,77,133,81],[140,78,133,82],[140,80,133,84],[141,10,134,16,"console"],[141,17,134,23],[141,18,134,24,"log"],[141,21,134,27],[141,22,134,28],[141,61,134,67],[141,62,134,68],[142,8,135,12],[142,9,135,13],[142,15,135,19],[143,10,136,16,"console"],[143,17,136,23],[143,18,136,24,"error"],[143,23,136,29],[143,24,136,30],[143,42,136,48],[143,44,136,50,"error"],[143,49,136,55],[143,50,136,56],[144,8,137,12],[145,6,138,8],[145,7,138,9],[145,16,138,18],[146,8,139,12,"setLoading"],[146,18,139,22],[146,19,139,23],[146,24,139,28],[146,25,139,29],[147,6,140,8],[148,4,141,4],[148,5,141,5],[150,4,143,4],[151,4,144,4],[151,10,144,10,"fetchProfile"],[151,22,144,22],[151,25,144,25],[151,31,144,32,"userId"],[151,37,144,46],[151,41,144,72],[152,6,145,8],[153,6,146,8],[153,11,146,13],[153,15,146,17,"i"],[153,16,146,18],[153,19,146,21],[153,20,146,22],[153,22,146,24,"i"],[153,23,146,25],[153,26,146,28],[153,27,146,29],[153,29,146,31,"i"],[153,30,146,32],[153,32,146,34],[153,34,146,36],[154,8,147,12],[154,12,147,16],[155,10,148,16,"console"],[155,17,148,23],[155,18,148,24,"log"],[155,21,148,27],[155,22,148,28],[155,50,148,56,"userId"],[155,56,148,62],[155,69,148,75,"i"],[155,70,148,76],[155,73,148,79],[155,74,148,80],[155,77,148,83],[155,78,148,84],[157,10,150,16],[158,10,151,16],[158,16,151,22,"timeoutPromise"],[158,30,151,36],[158,33,151,39],[158,37,151,43,"Promise"],[158,44,151,50],[158,45,151,57],[158,46,151,58,"_"],[158,47,151,59],[158,49,151,61,"reject"],[158,55,151,67],[158,60,152,20,"setTimeout"],[158,70,152,30],[158,71,152,31],[158,77,152,37,"reject"],[158,83,152,43],[158,84,152,44],[158,88,152,48,"Error"],[158,93,152,53],[158,94,152,54],[158,117,152,77],[158,118,152,78],[158,119,152,79],[158,121,152,81],[158,125,152,85],[158,126,153,16],[158,127,153,17],[159,10,155,16],[159,16,155,22,"fetchPromise"],[159,28,155,34],[159,31,155,37,"supabase"],[159,48,155,45],[159,49,155,45,"supabase"],[159,57,155,45],[159,58,156,21,"from"],[159,62,156,25],[159,63,156,26],[159,73,156,36],[159,74,156,37],[159,75,157,21,"select"],[159,81,157,27],[159,82,157,28],[159,85,157,31],[159,86,157,32],[159,87,158,21,"eq"],[159,89,158,23],[159,90,158,24],[159,94,158,28],[159,96,158,30,"userId"],[159,102,158,36],[159,103,158,37],[159,104,159,21,"single"],[159,110,159,27],[159,111,159,28],[159,112,159,29],[160,10,161,16],[160,16,161,22],[161,12,161,24,"data"],[161,16,161,28],[162,12,161,30,"error"],[163,10,161,36],[163,11,161,37],[163,14,161,40],[163,20,161,46,"Promise"],[163,27,161,53],[163,28,161,54,"race"],[163,32,161,58],[163,33,161,59],[163,34,162,20,"fetchPromise"],[163,46,162,32],[163,48,163,20,"timeoutPromise"],[163,62,163,34],[163,63,164,17],[163,64,164,25],[164,10,166,16],[164,14,166,20,"error"],[164,19,166,25],[164,21,166,27],[165,12,167,20],[166,12,168,20],[166,16,168,24,"error"],[166,21,168,29],[166,22,168,30,"code"],[166,26,168,34],[166,31,168,39],[166,41,168,49],[166,43,168,51],[167,14,169,24,"console"],[167,21,169,31],[167,22,169,32,"log"],[167,25,169,35],[167,26,169,36],[167,68,169,78],[167,69,169,79],[168,14,170,24],[168,21,170,31],[168,25,170,35],[169,12,171,20],[171,12,173,20],[172,12,174,20,"console"],[172,19,174,27],[172,20,174,28,"warn"],[172,24,174,32],[172,25,174,33],[172,60,174,68,"i"],[172,61,174,69],[172,64,174,72],[172,65,174,73],[172,69,174,77],[172,71,174,79,"error"],[172,76,174,84],[172,77,174,85,"message"],[172,84,174,92],[172,85,174,93],[173,12,175,20],[173,16,175,24,"i"],[173,17,175,25],[173,22,175,30],[173,23,175,31],[173,25,175,33],[173,32,175,40],[173,36,175,44],[173,37,175,45],[173,38,175,46],[174,12,176,20],[174,18,176,26],[174,22,176,30,"Promise"],[174,29,176,37],[174,30,176,38,"r"],[174,31,176,39],[174,35,176,43,"setTimeout"],[174,45,176,53],[174,46,176,54,"r"],[174,47,176,55],[174,49,176,57],[174,52,176,60],[174,53,176,61],[174,54,176,62],[174,55,176,63],[174,56,176,64],[175,12,177,20],[176,10,178,16],[177,10,180,16],[177,14,180,20,"data"],[177,18,180,24],[177,20,180,26],[178,12,181,20,"console"],[178,19,181,27],[178,20,181,28,"log"],[178,23,181,31],[178,24,181,32],[178,42,181,50],[178,44,181,52,"data"],[178,48,181,56],[178,49,181,57,"email"],[178,54,181,62],[178,55,181,63],[179,12,182,20],[179,19,182,27,"data"],[179,23,182,31],[180,10,183,16],[180,11,183,17],[180,17,183,23],[181,12,184,20,"console"],[181,19,184,27],[181,20,184,28,"log"],[181,23,184,31],[181,24,184,32],[181,59,184,67],[181,60,184,68],[182,12,185,20],[182,19,185,27],[182,23,185,31],[183,10,186,16],[184,8,187,12],[184,9,187,13],[184,10,187,14],[184,17,187,21,"error"],[184,22,187,31],[184,24,187,33],[185,10,188,16,"console"],[185,17,188,23],[185,18,188,24,"error"],[185,23,188,29],[185,24,188,30],[185,62,188,68,"i"],[185,63,188,69],[185,66,188,72],[185,67,188,73],[185,71,188,77],[185,73,188,79,"error"],[185,78,188,84],[185,79,188,85,"message"],[185,86,188,92],[185,87,188,93],[186,10,189,16],[186,14,189,20,"i"],[186,15,189,21],[186,20,189,26],[186,21,189,27],[186,23,189,29],[186,30,189,36],[186,34,189,40],[187,10,190,16],[187,16,190,22],[187,20,190,26,"Promise"],[187,27,190,33],[187,28,190,34,"r"],[187,29,190,35],[187,33,190,39,"setTimeout"],[187,43,190,49],[187,44,190,50,"r"],[187,45,190,51],[187,47,190,53],[187,50,190,56],[187,51,190,57],[187,52,190,58],[188,8,191,12],[189,6,192,8],[190,6,193,8],[190,13,193,15],[190,17,193,19],[191,4,194,4],[191,5,194,5],[192,4,196,4],[192,10,196,10,"refreshProfile"],[192,24,196,24],[192,27,196,27],[192,33,196,27,"refreshProfile"],[192,34,196,27],[192,39,196,39],[193,6,197,8],[193,10,197,12,"session"],[193,17,197,19],[193,19,197,21,"user"],[193,23,197,25],[193,25,197,27],[194,8,198,12],[194,14,198,18,"profileData"],[194,25,198,29],[194,28,198,32],[194,34,198,38,"fetchProfile"],[194,46,198,50],[194,47,198,51,"session"],[194,54,198,58],[194,55,198,59,"user"],[194,59,198,63],[194,60,198,64,"id"],[194,62,198,66],[194,63,198,67],[195,8,199,12],[195,12,199,16,"profileData"],[195,23,199,27],[195,25,199,29],[196,10,200,16,"setProfile"],[196,20,200,26],[196,21,200,27,"profileData"],[196,32,200,38],[196,33,200,39],[197,10,201,16,"setUser"],[197,17,201,23],[197,18,201,24,"session"],[197,25,201,31],[197,26,201,32,"user"],[197,30,201,36],[197,31,201,37],[198,8,202,12],[199,6,203,8],[200,4,204,4],[200,5,204,5],[201,4,206,4],[201,10,206,10,"signOut"],[201,17,206,17],[201,20,206,20],[201,26,206,20,"signOut"],[201,27,206,20],[201,32,206,32],[202,6,207,8],[202,10,207,12],[203,8,208,12,"setSession"],[203,18,208,22],[203,19,208,23],[203,23,208,27],[203,24,208,28],[204,8,209,12,"setUser"],[204,15,209,19],[204,16,209,20],[204,20,209,24],[204,21,209,25],[205,8,210,12,"setProfile"],[205,18,210,22],[205,19,210,23],[205,23,210,27],[205,24,210,28],[206,8,211,12],[206,14,211,18,"supabase"],[206,31,211,26],[206,32,211,26,"supabase"],[206,40,211,26],[206,41,211,27,"auth"],[206,45,211,31],[206,46,211,32,"signOut"],[206,53,211,39],[206,54,211,40],[206,55,211,41],[207,6,212,8],[207,7,212,9],[207,8,212,10],[207,15,212,17,"error"],[207,20,212,22],[207,22,212,24],[208,8,213,12,"console"],[208,15,213,19],[208,16,213,20,"error"],[208,21,213,25],[208,22,213,26],[208,39,213,43],[208,41,213,45,"error"],[208,46,213,50],[208,47,213,51],[209,6,214,8],[210,4,215,4],[210,5,215,5],[211,4,217,4],[211,10,217,10,"value"],[211,15,217,15],[211,18,217,18],[212,6,218,8,"session"],[212,13,218,15],[213,6,219,8,"user"],[213,10,219,12],[214,6,220,8,"profile"],[214,13,220,15],[215,6,221,8,"loading"],[215,13,221,15],[216,6,222,8,"signOut"],[216,13,222,15],[217,6,223,8,"refreshProfile"],[218,4,224,4],[218,5,224,5],[219,4,226,4],[219,24,226,11],[219,28,226,11,"_reactJsxDevRuntime"],[219,47,226,11],[219,48,226,11,"jsxDEV"],[219,54,226,11],[219,56,226,12,"AuthContext"],[219,67,226,23],[219,68,226,24,"Provider"],[219,76,226,32],[220,6,226,33,"value"],[220,11,226,38],[220,13,226,40,"value"],[220,18,226,46],[221,6,226,46,"children"],[221,14,226,46],[221,16,226,48,"children"],[222,4,226,56],[223,6,226,56,"fileName"],[223,14,226,56],[223,16,226,56,"_jsxFileName"],[223,28,226,56],[224,6,226,56,"lineNumber"],[224,16,226,56],[225,6,226,56,"columnNumber"],[225,18,226,56],[226,4,226,56],[226,11,226,79],[226,12,226,80],[227,2,227,0],[228,2,227,1,"_s"],[228,4,227,1],[228,5,17,16,"AuthProvider"],[228,17,17,28],[229,2,17,28,"_c"],[229,4,17,28],[229,7,17,16,"AuthProvider"],[229,19,17,28],[230,2,229,7],[230,11,229,16,"useAuth"],[230,18,229,23,"useAuth"],[230,19,229,23],[230,21,229,26],[231,4,229,26,"_s2"],[231,7,229,26],[232,4,230,4],[232,10,230,10,"context"],[232,17,230,17],[232,20,230,20],[232,24,230,20,"useContext"],[232,30,230,30],[232,31,230,30,"useContext"],[232,41,230,30],[232,43,230,31,"AuthContext"],[232,54,230,42],[232,55,230,43],[233,4,231,4],[233,8,231,8,"context"],[233,15,231,15],[233,20,231,20,"undefined"],[233,29,231,29],[233,31,231,31],[234,6,232,8],[234,12,232,14],[234,16,232,18,"Error"],[234,21,232,23],[234,22,232,24],[234,67,232,69],[234,68,232,70],[235,4,233,4],[236,4,234,4],[236,11,234,11,"context"],[236,18,234,18],[237,2,235,0],[238,2,235,1,"_s2"],[238,5,235,1],[238,6,229,16,"useAuth"],[238,13,229,23],[239,2,229,23],[239,6,229,23,"_c"],[239,8,229,23],[240,2,229,23,"$RefreshReg$"],[240,14,229,23],[240,15,229,23,"_c"],[240,17,229,23],[241,0,229,23],[241,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","supabase.auth.onAuthStateChange$argument_0","<anonymous>","handleVisibilityChange","initializeAuth","fetchProfile","Promise$argument_0","setTimeout$argument_0","refreshProfile","signOut","useAuth"],"mappings":"AAA;OCgB;cCM;YCY;aD8C;eEG,gCF;KDC;cCG;uCGG;SHkB;eEG,8EF;KDC;2BKE;KL0B;yBMG;yDCO;+BCC,gDD,OD;sCCwB,uBD;kCCc,uBD;KNI;2BSE;KTQ;oBUE;KVS;CDY;OYE;CZM"},"hasCjsExports":false},"type":"js/module"}]}