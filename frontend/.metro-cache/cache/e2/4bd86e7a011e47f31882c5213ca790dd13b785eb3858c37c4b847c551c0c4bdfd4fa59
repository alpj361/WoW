{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":59,"index":59}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Text","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JKIzsQ5YQ0gDj0MIyY0Q7F1zJtU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":134},"end":{"line":3,"column":59,"index":193}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"../src/services/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":194},"end":{"line":4,"column":52,"index":246}}],"key":"tbMMijt1J/xDoCblWjjdZdowvzY=","exportNames":["*"],"imports":1}},{"name":"../src/utils/authState","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":247},"end":{"line":5,"column":51,"index":298}}],"key":"8LAcR/h9CcavCS5IrQlsvX79W9k=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/Users/pj/Desktop/Wow/frontend/app/auth-callback.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return AuthCallbackScreen;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[2], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsText = require(_dependencyMap[3], \"react-native-web/dist/exports/Text\");\n  var Text = _interopDefault(_reactNativeWebDistExportsText);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[4], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebDistExportsActivityIndicator = require(_dependencyMap[5], \"react-native-web/dist/exports/ActivityIndicator\");\n  var ActivityIndicator = _interopDefault(_reactNativeWebDistExportsActivityIndicator);\n  var _expoRouter = require(_dependencyMap[6], \"expo-router\");\n  var _srcServicesSupabase = require(_dependencyMap[7], \"../src/services/supabase\");\n  var _srcUtilsAuthState = require(_dependencyMap[8], \"../src/utils/authState\");\n  var _reactJsxDevRuntime = require(_dependencyMap[9], \"react/jsx-dev-runtime\");\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_API_URL || 'http://localhost:3001/api';\n  function AuthCallbackScreen() {\n    _s();\n    const params = (0, _expoRouter.useLocalSearchParams)();\n    const [status, setStatus] = (0, _react.useState)('Procesando...');\n    const [error, setError] = (0, _react.useState)(null);\n    const processingRef = (0, _react.useRef)(false);\n    (0, _react.useEffect)(() => {\n      // Prevent double processing\n      if (processingRef.current) return;\n      processingRef.current = true;\n      handleCallback();\n    }, []);\n    const handleCallback = async () => {\n      try {\n        // Mark as processing to prevent race conditions\n        _srcUtilsAuthState.authState.setProcessing(true);\n        const urlParam = params.url;\n        const code = params.code;\n        const isRegistration = !!code;\n        console.log('üîç AuthCallback - INICIO:', {\n          hasCode: isRegistration,\n          code: code || 'none',\n          url: urlParam ? 'present' : 'none'\n        });\n\n        // Extract tokens from OAuth URL\n        if (urlParam) {\n          console.log('üìù Processing OAuth URL');\n          const url = new URL(decodeURIComponent(urlParam));\n          const hashParams = new URLSearchParams(url.hash.substring(1));\n          const accessToken = hashParams.get('access_token');\n          const refreshToken = hashParams.get('refresh_token');\n          if (accessToken) {\n            console.log('üìù Setting session with access token');\n            const {\n              error: sessionError\n            } = await _srcServicesSupabase.supabase.auth.setSession({\n              access_token: accessToken,\n              refresh_token: refreshToken || ''\n            });\n            if (sessionError) {\n              console.error('‚ùå Session error:', sessionError);\n              throw sessionError;\n            }\n            console.log('‚úÖ Session set');\n          }\n        }\n\n        // Get session with retries\n        setStatus('Verificando sesi√≥n...');\n        let session = null;\n        for (let i = 0; i < 5; i++) {\n          console.log(`üîç Getting session attempt ${i + 1}`);\n          const {\n            data,\n            error: sessError\n          } = await _srcServicesSupabase.supabase.auth.getSession();\n          if (sessError) {\n            console.error('Session fetch error:', sessError);\n          }\n          if (data.session?.user) {\n            session = data.session;\n            console.log('‚úÖ Session found:', session.user.email);\n            break;\n          }\n          await new Promise(resolve => setTimeout(resolve, 1000));\n        }\n        if (!session) {\n          console.error('‚ùå No session after retries');\n          throw new Error('No se pudo obtener la sesi√≥n');\n        }\n\n        // REGISTRATION FLOW: Has code ‚Üí Create profile\n        if (isRegistration) {\n          setStatus('Creando cuenta...');\n          console.log('üìù Registration with code:', code);\n          const response = await fetch(`${API_URL}/auth/register`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              user_id: session.user.id,\n              email: session.user.email,\n              full_name: session.user.user_metadata?.full_name || session.user.user_metadata?.name,\n              avatar_url: session.user.user_metadata?.avatar_url,\n              code: code\n            })\n          });\n          const data = await response.json();\n          console.log('üìù Register response:', data);\n          if (data.success) {\n            console.log('‚úÖ Profile created, marking as verified');\n            setStatus('¬°Cuenta creada!');\n\n            // Mark user as verified BEFORE navigating\n            _srcUtilsAuthState.authState.setVerified(true);\n            _srcUtilsAuthState.authState.setProcessing(false);\n\n            // Small delay to ensure state propagates\n            await new Promise(resolve => setTimeout(resolve, 500));\n            _expoRouter.router.replace('/');\n          } else {\n            throw new Error(data.error || 'Error creando cuenta');\n          }\n          return;\n        }\n\n        // LOGIN FLOW: No code ‚Üí Check if user has profile via API\n        setStatus('Verificando cuenta...');\n        console.log('üîç Login attempt, checking profile via API for user:', session.user.id);\n        try {\n          const response = await fetch(`${API_URL}/auth/me?user_id=${session.user.id}`);\n          const data = await response.json();\n          console.log('üîç Profile check result:', data);\n          if (data.success && data.profile) {\n            console.log('‚úÖ User has profile, proceeding to home');\n            setStatus('¬°Bienvenido!');\n\n            // Mark user as verified\n            _srcUtilsAuthState.authState.setVerified(true);\n            _srcUtilsAuthState.authState.setProcessing(false);\n            await new Promise(resolve => setTimeout(resolve, 500));\n            _expoRouter.router.replace('/');\n          } else {\n            // User NOT registered - MUST sign out first before redirect\n            console.log('‚ùå No profile found - Usuario no registrado');\n            setStatus('Cuenta no encontrada...');\n\n            // Clear any verified state\n            _srcUtilsAuthState.authState.reset();\n\n            // Sign out FIRST and wait for it to complete\n            console.log('üö™ Cerrando sesi√≥n...');\n            await _srcServicesSupabase.supabase.auth.signOut();\n\n            // Wait for signOut to propagate\n            console.log('‚è≥ Esperando propagaci√≥n de signOut...');\n            await new Promise(resolve => setTimeout(resolve, 1000));\n\n            // Now redirect to auth with error\n            console.log('üîÑ Redirigiendo a /auth con error');\n            _expoRouter.router.replace('/auth?error=not_registered');\n          }\n        } catch (apiError) {\n          console.error('‚ùå API error checking profile:', apiError);\n\n          // Clear states and sign out\n          _srcUtilsAuthState.authState.reset();\n          await _srcServicesSupabase.supabase.auth.signOut();\n          await new Promise(resolve => setTimeout(resolve, 1000));\n          _expoRouter.router.replace('/auth?error=not_registered');\n        }\n      } catch (err) {\n        console.error('‚ùå AuthCallback error:', err);\n        setError(err.message || 'Error de autenticaci√≥n');\n\n        // Clear states\n        await AsyncStorage.removeItem(AUTH_VERIFIED_KEY);\n        await AsyncStorage.removeItem(AUTH_PROCESSING_KEY);\n\n        // Sign out and redirect\n        try {\n          await _srcServicesSupabase.supabase.auth.signOut();\n        } catch {}\n        setTimeout(() => _expoRouter.router.replace('/auth'), 2000);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n      style: styles.container,\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ActivityIndicator.default, {\n        size: \"large\",\n        color: \"#8B5CF6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 13\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(Text.default, {\n        style: styles.status,\n        children: status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }, this), error && /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(Text.default, {\n        style: styles.error,\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 23\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }, this);\n  }\n  _s(AuthCallbackScreen, \"Uve1OqN/uWnYG5tPm0BlHnuLeQ4=\", false, function () {\n    return [_expoRouter.useLocalSearchParams];\n  });\n  _c = AuthCallbackScreen;\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1,\n      backgroundColor: '#0F0F0F',\n      justifyContent: 'center',\n      alignItems: 'center',\n      padding: 24\n    },\n    status: {\n      color: '#fff',\n      fontSize: 16,\n      marginTop: 20,\n      textAlign: 'center'\n    },\n    error: {\n      color: '#EF4444',\n      fontSize: 14,\n      marginTop: 12,\n      textAlign: 'center'\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"AuthCallbackScreen\");\n});","lineCount":260,"map":[[14,2,9,15,"Object"],[14,8,9,15],[14,9,9,15,"defineProperty"],[14,23,9,15],[14,24,9,15,"exports"],[14,31,9,15],[15,4,9,15,"enumerable"],[15,14,9,15],[16,4,9,15,"get"],[16,7,9,15],[16,18,9,15,"get"],[16,19,9,15],[17,6,9,15],[17,13,9,15,"AuthCallbackScreen"],[17,31,9,15],[18,4,9,15],[19,2,9,15],[20,2,195,1],[20,6,195,1,"_expoVirtualEnv"],[20,21,195,1],[20,24,195,1,"require"],[20,31,195,1],[20,32,195,1,"_dependencyMap"],[20,46,195,1],[21,2,1,0],[21,6,1,0,"_react"],[21,12,1,0],[21,15,1,0,"require"],[21,22,1,0],[21,23,1,0,"_dependencyMap"],[21,37,1,0],[22,2,1,59],[22,6,1,59,"_reactNativeWebDistExportsView"],[22,36,1,59],[22,39,1,59,"require"],[22,46,1,59],[22,47,1,59,"_dependencyMap"],[22,61,1,59],[23,2,1,59],[23,6,1,59,"View"],[23,10,1,59],[23,13,1,59,"_interopDefault"],[23,28,1,59],[23,29,1,59,"_reactNativeWebDistExportsView"],[23,59,1,59],[24,2,1,59],[24,6,1,59,"_reactNativeWebDistExportsText"],[24,36,1,59],[24,39,1,59,"require"],[24,46,1,59],[24,47,1,59,"_dependencyMap"],[24,61,1,59],[25,2,1,59],[25,6,1,59,"Text"],[25,10,1,59],[25,13,1,59,"_interopDefault"],[25,28,1,59],[25,29,1,59,"_reactNativeWebDistExportsText"],[25,59,1,59],[26,2,1,59],[26,6,1,59,"_reactNativeWebDistExportsStyleSheet"],[26,42,1,59],[26,45,1,59,"require"],[26,52,1,59],[26,53,1,59,"_dependencyMap"],[26,67,1,59],[27,2,1,59],[27,6,1,59,"StyleSheet"],[27,16,1,59],[27,19,1,59,"_interopDefault"],[27,34,1,59],[27,35,1,59,"_reactNativeWebDistExportsStyleSheet"],[27,71,1,59],[28,2,1,59],[28,6,1,59,"_reactNativeWebDistExportsActivityIndicator"],[28,49,1,59],[28,52,1,59,"require"],[28,59,1,59],[28,60,1,59,"_dependencyMap"],[28,74,1,59],[29,2,1,59],[29,6,1,59,"ActivityIndicator"],[29,23,1,59],[29,26,1,59,"_interopDefault"],[29,41,1,59],[29,42,1,59,"_reactNativeWebDistExportsActivityIndicator"],[29,85,1,59],[30,2,3,0],[30,6,3,0,"_expoRouter"],[30,17,3,0],[30,20,3,0,"require"],[30,27,3,0],[30,28,3,0,"_dependencyMap"],[30,42,3,0],[31,2,4,0],[31,6,4,0,"_srcServicesSupabase"],[31,26,4,0],[31,29,4,0,"require"],[31,36,4,0],[31,37,4,0,"_dependencyMap"],[31,51,4,0],[32,2,5,0],[32,6,5,0,"_srcUtilsAuthState"],[32,24,5,0],[32,27,5,0,"require"],[32,34,5,0],[32,35,5,0,"_dependencyMap"],[32,49,5,0],[33,2,5,51],[33,6,5,51,"_reactJsxDevRuntime"],[33,25,5,51],[33,28,5,51,"require"],[33,35,5,51],[33,36,5,51,"_dependencyMap"],[33,50,5,51],[34,2,7,0],[34,8,7,6,"API_URL"],[34,15,7,13],[34,18,7,16,"_expoVirtualEnv"],[34,33,7,16],[34,34,7,16,"env"],[34,37,7,16],[34,38,7,16,"EXPO_PUBLIC_API_URL"],[34,57,7,16],[34,61,7,51],[34,88,7,78],[35,2,9,15],[35,11,9,24,"AuthCallbackScreen"],[35,29,9,42,"AuthCallbackScreen"],[35,30,9,42],[35,32,9,45],[36,4,9,45,"_s"],[36,6,9,45],[37,4,10,4],[37,10,10,10,"params"],[37,16,10,16],[37,19,10,19],[37,23,10,19,"useLocalSearchParams"],[37,34,10,39],[37,35,10,39,"useLocalSearchParams"],[37,55,10,39],[37,57,10,40],[37,58,10,41],[38,4,11,4],[38,10,11,10],[38,11,11,11,"status"],[38,17,11,17],[38,19,11,19,"setStatus"],[38,28,11,28],[38,29,11,29],[38,32,11,32],[38,36,11,32,"useState"],[38,42,11,40],[38,43,11,40,"useState"],[38,51,11,40],[38,53,11,41],[38,68,11,56],[38,69,11,57],[39,4,12,4],[39,10,12,10],[39,11,12,11,"error"],[39,16,12,16],[39,18,12,18,"setError"],[39,26,12,26],[39,27,12,27],[39,30,12,30],[39,34,12,30,"useState"],[39,40,12,38],[39,41,12,38,"useState"],[39,49,12,38],[39,51,12,54],[39,55,12,58],[39,56,12,59],[40,4,13,4],[40,10,13,10,"processingRef"],[40,23,13,23],[40,26,13,26],[40,30,13,26,"useRef"],[40,36,13,32],[40,37,13,32,"useRef"],[40,43,13,32],[40,45,13,33],[40,50,13,38],[40,51,13,39],[41,4,15,4],[41,8,15,4,"useEffect"],[41,14,15,13],[41,15,15,13,"useEffect"],[41,24,15,13],[41,26,15,14],[41,32,15,20],[42,6,16,8],[43,6,17,8],[43,10,17,12,"processingRef"],[43,23,17,25],[43,24,17,26,"current"],[43,31,17,33],[43,33,17,35],[44,6,18,8,"processingRef"],[44,19,18,21],[44,20,18,22,"current"],[44,27,18,29],[44,30,18,32],[44,34,18,36],[45,6,20,8,"handleCallback"],[45,20,20,22],[45,21,20,23],[45,22,20,24],[46,4,21,4],[46,5,21,5],[46,7,21,7],[46,9,21,9],[46,10,21,10],[47,4,23,4],[47,10,23,10,"handleCallback"],[47,24,23,24],[47,27,23,27],[47,33,23,27,"handleCallback"],[47,34,23,27],[47,39,23,39],[48,6,24,8],[48,10,24,12],[49,8,25,12],[50,8,26,12,"authState"],[50,26,26,21],[50,27,26,21,"authState"],[50,36,26,21],[50,37,26,22,"setProcessing"],[50,50,26,35],[50,51,26,36],[50,55,26,40],[50,56,26,41],[51,8,28,12],[51,14,28,18,"urlParam"],[51,22,28,26],[51,25,28,29,"params"],[51,31,28,35],[51,32,28,36,"url"],[51,35,28,49],[52,8,29,12],[52,14,29,18,"code"],[52,18,29,22],[52,21,29,25,"params"],[52,27,29,31],[52,28,29,32,"code"],[52,32,29,46],[53,8,30,12],[53,14,30,18,"isRegistration"],[53,28,30,32],[53,31,30,35],[53,32,30,36],[53,33,30,37,"code"],[53,37,30,41],[54,8,32,12,"console"],[54,15,32,19],[54,16,32,20,"log"],[54,19,32,23],[54,20,32,24],[54,47,32,51],[54,49,32,53],[55,10,33,16,"hasCode"],[55,17,33,23],[55,19,33,25,"isRegistration"],[55,33,33,39],[56,10,34,16,"code"],[56,14,34,20],[56,16,34,22,"code"],[56,20,34,26],[56,24,34,30],[56,30,34,36],[57,10,35,16,"url"],[57,13,35,19],[57,15,35,21,"urlParam"],[57,23,35,29],[57,26,35,32],[57,35,35,41],[57,38,35,44],[58,8,36,12],[58,9,36,13],[58,10,36,14],[60,8,38,12],[61,8,39,12],[61,12,39,16,"urlParam"],[61,20,39,24],[61,22,39,26],[62,10,40,16,"console"],[62,17,40,23],[62,18,40,24,"log"],[62,21,40,27],[62,22,40,28],[62,47,40,53],[62,48,40,54],[63,10,41,16],[63,16,41,22,"url"],[63,19,41,25],[63,22,41,28],[63,26,41,32,"URL"],[63,29,41,35],[63,30,41,36,"decodeURIComponent"],[63,48,41,54],[63,49,41,55,"urlParam"],[63,57,41,63],[63,58,41,64],[63,59,41,65],[64,10,42,16],[64,16,42,22,"hashParams"],[64,26,42,32],[64,29,42,35],[64,33,42,39,"URLSearchParams"],[64,48,42,54],[64,49,42,55,"url"],[64,52,42,58],[64,53,42,59,"hash"],[64,57,42,63],[64,58,42,64,"substring"],[64,67,42,73],[64,68,42,74],[64,69,42,75],[64,70,42,76],[64,71,42,77],[65,10,43,16],[65,16,43,22,"accessToken"],[65,27,43,33],[65,30,43,36,"hashParams"],[65,40,43,46],[65,41,43,47,"get"],[65,44,43,50],[65,45,43,51],[65,59,43,65],[65,60,43,66],[66,10,44,16],[66,16,44,22,"refreshToken"],[66,28,44,34],[66,31,44,37,"hashParams"],[66,41,44,47],[66,42,44,48,"get"],[66,45,44,51],[66,46,44,52],[66,61,44,67],[66,62,44,68],[67,10,46,16],[67,14,46,20,"accessToken"],[67,25,46,31],[67,27,46,33],[68,12,47,20,"console"],[68,19,47,27],[68,20,47,28,"log"],[68,23,47,31],[68,24,47,32],[68,62,47,70],[68,63,47,71],[69,12,48,20],[69,18,48,26],[70,14,48,28,"error"],[70,19,48,33],[70,21,48,35,"sessionError"],[71,12,48,48],[71,13,48,49],[71,16,48,52],[71,22,48,58,"supabase"],[71,42,48,66],[71,43,48,66,"supabase"],[71,51,48,66],[71,52,48,67,"auth"],[71,56,48,71],[71,57,48,72,"setSession"],[71,67,48,82],[71,68,48,83],[72,14,49,24,"access_token"],[72,26,49,36],[72,28,49,38,"accessToken"],[72,39,49,49],[73,14,50,24,"refresh_token"],[73,27,50,37],[73,29,50,39,"refreshToken"],[73,41,50,51],[73,45,50,55],[74,12,51,20],[74,13,51,21],[74,14,51,22],[75,12,53,20],[75,16,53,24,"sessionError"],[75,28,53,36],[75,30,53,38],[76,14,54,24,"console"],[76,21,54,31],[76,22,54,32,"error"],[76,27,54,37],[76,28,54,38],[76,46,54,56],[76,48,54,58,"sessionError"],[76,60,54,70],[76,61,54,71],[77,14,55,24],[77,20,55,30,"sessionError"],[77,32,55,42],[78,12,56,20],[79,12,57,20,"console"],[79,19,57,27],[79,20,57,28,"log"],[79,23,57,31],[79,24,57,32],[79,39,57,47],[79,40,57,48],[80,10,58,16],[81,8,59,12],[83,8,61,12],[84,8,62,12,"setStatus"],[84,17,62,21],[84,18,62,22],[84,41,62,45],[84,42,62,46],[85,8,63,12],[85,12,63,16,"session"],[85,19,63,23],[85,22,63,26],[85,26,63,30],[86,8,64,12],[86,13,64,17],[86,17,64,21,"i"],[86,18,64,22],[86,21,64,25],[86,22,64,26],[86,24,64,28,"i"],[86,25,64,29],[86,28,64,32],[86,29,64,33],[86,31,64,35,"i"],[86,32,64,36],[86,34,64,38],[86,36,64,40],[87,10,65,16,"console"],[87,17,65,23],[87,18,65,24,"log"],[87,21,65,27],[87,22,65,28],[87,52,65,58,"i"],[87,53,65,59],[87,56,65,62],[87,57,65,63],[87,59,65,65],[87,60,65,66],[88,10,66,16],[88,16,66,22],[89,12,66,24,"data"],[89,16,66,28],[90,12,66,30,"error"],[90,17,66,35],[90,19,66,37,"sessError"],[91,10,66,47],[91,11,66,48],[91,14,66,51],[91,20,66,57,"supabase"],[91,40,66,65],[91,41,66,65,"supabase"],[91,49,66,65],[91,50,66,66,"auth"],[91,54,66,70],[91,55,66,71,"getSession"],[91,65,66,81],[91,66,66,82],[91,67,66,83],[92,10,67,16],[92,14,67,20,"sessError"],[92,23,67,29],[92,25,67,31],[93,12,68,20,"console"],[93,19,68,27],[93,20,68,28,"error"],[93,25,68,33],[93,26,68,34],[93,48,68,56],[93,50,68,58,"sessError"],[93,59,68,67],[93,60,68,68],[94,10,69,16],[95,10,70,16],[95,14,70,20,"data"],[95,18,70,24],[95,19,70,25,"session"],[95,26,70,32],[95,28,70,34,"user"],[95,32,70,38],[95,34,70,40],[96,12,71,20,"session"],[96,19,71,27],[96,22,71,30,"data"],[96,26,71,34],[96,27,71,35,"session"],[96,34,71,42],[97,12,72,20,"console"],[97,19,72,27],[97,20,72,28,"log"],[97,23,72,31],[97,24,72,32],[97,42,72,50],[97,44,72,52,"session"],[97,51,72,59],[97,52,72,60,"user"],[97,56,72,64],[97,57,72,65,"email"],[97,62,72,70],[97,63,72,71],[98,12,73,20],[99,10,74,16],[100,10,75,16],[100,16,75,22],[100,20,75,26,"Promise"],[100,27,75,33],[100,28,75,34,"resolve"],[100,35,75,41],[100,39,75,45,"setTimeout"],[100,49,75,55],[100,50,75,56,"resolve"],[100,57,75,63],[100,59,75,65],[100,63,75,69],[100,64,75,70],[100,65,75,71],[101,8,76,12],[102,8,78,12],[102,12,78,16],[102,13,78,17,"session"],[102,20,78,24],[102,22,78,26],[103,10,79,16,"console"],[103,17,79,23],[103,18,79,24,"error"],[103,23,79,29],[103,24,79,30],[103,52,79,58],[103,53,79,59],[104,10,80,16],[104,16,80,22],[104,20,80,26,"Error"],[104,25,80,31],[104,26,80,32],[104,56,80,62],[104,57,80,63],[105,8,81,12],[107,8,83,12],[108,8,84,12],[108,12,84,16,"isRegistration"],[108,26,84,30],[108,28,84,32],[109,10,85,16,"setStatus"],[109,19,85,25],[109,20,85,26],[109,39,85,45],[109,40,85,46],[110,10,86,16,"console"],[110,17,86,23],[110,18,86,24,"log"],[110,21,86,27],[110,22,86,28],[110,50,86,56],[110,52,86,58,"code"],[110,56,86,62],[110,57,86,63],[111,10,88,16],[111,16,88,22,"response"],[111,24,88,30],[111,27,88,33],[111,33,88,39,"fetch"],[111,38,88,44],[111,39,88,45],[111,42,88,48,"API_URL"],[111,49,88,55],[111,65,88,71],[111,67,88,73],[112,12,89,20,"method"],[112,18,89,26],[112,20,89,28],[112,26,89,34],[113,12,90,20,"headers"],[113,19,90,27],[113,21,90,29],[114,14,90,31],[114,28,90,45],[114,30,90,47],[115,12,90,66],[115,13,90,67],[116,12,91,20,"body"],[116,16,91,24],[116,18,91,26,"JSON"],[116,22,91,30],[116,23,91,31,"stringify"],[116,32,91,40],[116,33,91,41],[117,14,92,24,"user_id"],[117,21,92,31],[117,23,92,33,"session"],[117,30,92,40],[117,31,92,41,"user"],[117,35,92,45],[117,36,92,46,"id"],[117,38,92,48],[118,14,93,24,"email"],[118,19,93,29],[118,21,93,31,"session"],[118,28,93,38],[118,29,93,39,"user"],[118,33,93,43],[118,34,93,44,"email"],[118,39,93,49],[119,14,94,24,"full_name"],[119,23,94,33],[119,25,94,35,"session"],[119,32,94,42],[119,33,94,43,"user"],[119,37,94,47],[119,38,94,48,"user_metadata"],[119,51,94,61],[119,53,94,63,"full_name"],[119,62,94,72],[119,66,94,76,"session"],[119,73,94,83],[119,74,94,84,"user"],[119,78,94,88],[119,79,94,89,"user_metadata"],[119,92,94,102],[119,94,94,104,"name"],[119,98,94,108],[120,14,95,24,"avatar_url"],[120,24,95,34],[120,26,95,36,"session"],[120,33,95,43],[120,34,95,44,"user"],[120,38,95,48],[120,39,95,49,"user_metadata"],[120,52,95,62],[120,54,95,64,"avatar_url"],[120,64,95,74],[121,14,96,24,"code"],[121,18,96,28],[121,20,96,30,"code"],[122,12,97,20],[122,13,97,21],[123,10,98,16],[123,11,98,17],[123,12,98,18],[124,10,100,16],[124,16,100,22,"data"],[124,20,100,26],[124,23,100,29],[124,29,100,35,"response"],[124,37,100,43],[124,38,100,44,"json"],[124,42,100,48],[124,43,100,49],[124,44,100,50],[125,10,101,16,"console"],[125,17,101,23],[125,18,101,24,"log"],[125,21,101,27],[125,22,101,28],[125,45,101,51],[125,47,101,53,"data"],[125,51,101,57],[125,52,101,58],[126,10,103,16],[126,14,103,20,"data"],[126,18,103,24],[126,19,103,25,"success"],[126,26,103,32],[126,28,103,34],[127,12,104,20,"console"],[127,19,104,27],[127,20,104,28,"log"],[127,23,104,31],[127,24,104,32],[127,64,104,72],[127,65,104,73],[128,12,105,20,"setStatus"],[128,21,105,29],[128,22,105,30],[128,39,105,47],[128,40,105,48],[130,12,107,20],[131,12,108,20,"authState"],[131,30,108,29],[131,31,108,29,"authState"],[131,40,108,29],[131,41,108,30,"setVerified"],[131,52,108,41],[131,53,108,42],[131,57,108,46],[131,58,108,47],[132,12,109,20,"authState"],[132,30,109,29],[132,31,109,29,"authState"],[132,40,109,29],[132,41,109,30,"setProcessing"],[132,54,109,43],[132,55,109,44],[132,60,109,49],[132,61,109,50],[134,12,111,20],[135,12,112,20],[135,18,112,26],[135,22,112,30,"Promise"],[135,29,112,37],[135,30,112,38,"resolve"],[135,37,112,45],[135,41,112,49,"setTimeout"],[135,51,112,59],[135,52,112,60,"resolve"],[135,59,112,67],[135,61,112,69],[135,64,112,72],[135,65,112,73],[135,66,112,74],[136,12,113,20,"router"],[136,23,113,26],[136,24,113,26,"router"],[136,30,113,26],[136,31,113,27,"replace"],[136,38,113,34],[136,39,113,35],[136,42,113,38],[136,43,113,39],[137,10,114,16],[137,11,114,17],[137,17,114,23],[138,12,115,20],[138,18,115,26],[138,22,115,30,"Error"],[138,27,115,35],[138,28,115,36,"data"],[138,32,115,40],[138,33,115,41,"error"],[138,38,115,46],[138,42,115,50],[138,64,115,72],[138,65,115,73],[139,10,116,16],[140,10,117,16],[141,8,118,12],[143,8,120,12],[144,8,121,12,"setStatus"],[144,17,121,21],[144,18,121,22],[144,41,121,45],[144,42,121,46],[145,8,122,12,"console"],[145,15,122,19],[145,16,122,20,"log"],[145,19,122,23],[145,20,122,24],[145,74,122,78],[145,76,122,80,"session"],[145,83,122,87],[145,84,122,88,"user"],[145,88,122,92],[145,89,122,93,"id"],[145,91,122,95],[145,92,122,96],[146,8,124,12],[146,12,124,16],[147,10,125,16],[147,16,125,22,"response"],[147,24,125,30],[147,27,125,33],[147,33,125,39,"fetch"],[147,38,125,44],[147,39,125,45],[147,42,125,48,"API_URL"],[147,49,125,55],[147,69,125,75,"session"],[147,76,125,82],[147,77,125,83,"user"],[147,81,125,87],[147,82,125,88,"id"],[147,84,125,90],[147,86,125,92],[147,87,125,93],[148,10,126,16],[148,16,126,22,"data"],[148,20,126,26],[148,23,126,29],[148,29,126,35,"response"],[148,37,126,43],[148,38,126,44,"json"],[148,42,126,48],[148,43,126,49],[148,44,126,50],[149,10,128,16,"console"],[149,17,128,23],[149,18,128,24,"log"],[149,21,128,27],[149,22,128,28],[149,48,128,54],[149,50,128,56,"data"],[149,54,128,60],[149,55,128,61],[150,10,130,16],[150,14,130,20,"data"],[150,18,130,24],[150,19,130,25,"success"],[150,26,130,32],[150,30,130,36,"data"],[150,34,130,40],[150,35,130,41,"profile"],[150,42,130,48],[150,44,130,50],[151,12,131,20,"console"],[151,19,131,27],[151,20,131,28,"log"],[151,23,131,31],[151,24,131,32],[151,64,131,72],[151,65,131,73],[152,12,132,20,"setStatus"],[152,21,132,29],[152,22,132,30],[152,36,132,44],[152,37,132,45],[154,12,134,20],[155,12,135,20,"authState"],[155,30,135,29],[155,31,135,29,"authState"],[155,40,135,29],[155,41,135,30,"setVerified"],[155,52,135,41],[155,53,135,42],[155,57,135,46],[155,58,135,47],[156,12,136,20,"authState"],[156,30,136,29],[156,31,136,29,"authState"],[156,40,136,29],[156,41,136,30,"setProcessing"],[156,54,136,43],[156,55,136,44],[156,60,136,49],[156,61,136,50],[157,12,138,20],[157,18,138,26],[157,22,138,30,"Promise"],[157,29,138,37],[157,30,138,38,"resolve"],[157,37,138,45],[157,41,138,49,"setTimeout"],[157,51,138,59],[157,52,138,60,"resolve"],[157,59,138,67],[157,61,138,69],[157,64,138,72],[157,65,138,73],[157,66,138,74],[158,12,139,20,"router"],[158,23,139,26],[158,24,139,26,"router"],[158,30,139,26],[158,31,139,27,"replace"],[158,38,139,34],[158,39,139,35],[158,42,139,38],[158,43,139,39],[159,10,140,16],[159,11,140,17],[159,17,140,23],[160,12,141,20],[161,12,142,20,"console"],[161,19,142,27],[161,20,142,28,"log"],[161,23,142,31],[161,24,142,32],[161,68,142,76],[161,69,142,77],[162,12,143,20,"setStatus"],[162,21,143,29],[162,22,143,30],[162,47,143,55],[162,48,143,56],[164,12,145,20],[165,12,146,20,"authState"],[165,30,146,29],[165,31,146,29,"authState"],[165,40,146,29],[165,41,146,30,"reset"],[165,46,146,35],[165,47,146,36],[165,48,146,37],[167,12,148,20],[168,12,149,20,"console"],[168,19,149,27],[168,20,149,28,"log"],[168,23,149,31],[168,24,149,32],[168,47,149,55],[168,48,149,56],[169,12,150,20],[169,18,150,26,"supabase"],[169,38,150,34],[169,39,150,34,"supabase"],[169,47,150,34],[169,48,150,35,"auth"],[169,52,150,39],[169,53,150,40,"signOut"],[169,60,150,47],[169,61,150,48],[169,62,150,49],[171,12,152,20],[172,12,153,20,"console"],[172,19,153,27],[172,20,153,28,"log"],[172,23,153,31],[172,24,153,32],[172,63,153,71],[172,64,153,72],[173,12,154,20],[173,18,154,26],[173,22,154,30,"Promise"],[173,29,154,37],[173,30,154,38,"resolve"],[173,37,154,45],[173,41,154,49,"setTimeout"],[173,51,154,59],[173,52,154,60,"resolve"],[173,59,154,67],[173,61,154,69],[173,65,154,73],[173,66,154,74],[173,67,154,75],[175,12,156,20],[176,12,157,20,"console"],[176,19,157,27],[176,20,157,28,"log"],[176,23,157,31],[176,24,157,32],[176,59,157,67],[176,60,157,68],[177,12,158,20,"router"],[177,23,158,26],[177,24,158,26,"router"],[177,30,158,26],[177,31,158,27,"replace"],[177,38,158,34],[177,39,158,35],[177,67,158,63],[177,68,158,64],[178,10,159,16],[179,8,160,12],[179,9,160,13],[179,10,160,14],[179,17,160,21,"apiError"],[179,25,160,29],[179,27,160,31],[180,10,161,16,"console"],[180,17,161,23],[180,18,161,24,"error"],[180,23,161,29],[180,24,161,30],[180,55,161,61],[180,57,161,63,"apiError"],[180,65,161,71],[180,66,161,72],[182,10,163,16],[183,10,164,16,"authState"],[183,28,164,25],[183,29,164,25,"authState"],[183,38,164,25],[183,39,164,26,"reset"],[183,44,164,31],[183,45,164,32],[183,46,164,33],[184,10,165,16],[184,16,165,22,"supabase"],[184,36,165,30],[184,37,165,30,"supabase"],[184,45,165,30],[184,46,165,31,"auth"],[184,50,165,35],[184,51,165,36,"signOut"],[184,58,165,43],[184,59,165,44],[184,60,165,45],[185,10,166,16],[185,16,166,22],[185,20,166,26,"Promise"],[185,27,166,33],[185,28,166,34,"resolve"],[185,35,166,41],[185,39,166,45,"setTimeout"],[185,49,166,55],[185,50,166,56,"resolve"],[185,57,166,63],[185,59,166,65],[185,63,166,69],[185,64,166,70],[185,65,166,71],[186,10,168,16,"router"],[186,21,168,22],[186,22,168,22,"router"],[186,28,168,22],[186,29,168,23,"replace"],[186,36,168,30],[186,37,168,31],[186,65,168,59],[186,66,168,60],[187,8,169,12],[188,6,171,8],[188,7,171,9],[188,8,171,10],[188,15,171,17,"err"],[188,18,171,25],[188,20,171,27],[189,8,172,12,"console"],[189,15,172,19],[189,16,172,20,"error"],[189,21,172,25],[189,22,172,26],[189,45,172,49],[189,47,172,51,"err"],[189,50,172,54],[189,51,172,55],[190,8,173,12,"setError"],[190,16,173,20],[190,17,173,21,"err"],[190,20,173,24],[190,21,173,25,"message"],[190,28,173,32],[190,32,173,36],[190,56,173,60],[190,57,173,61],[192,8,175,12],[193,8,176,12],[193,14,176,18,"AsyncStorage"],[193,26,176,30],[193,27,176,31,"removeItem"],[193,37,176,41],[193,38,176,42,"AUTH_VERIFIED_KEY"],[193,55,176,59],[193,56,176,60],[194,8,177,12],[194,14,177,18,"AsyncStorage"],[194,26,177,30],[194,27,177,31,"removeItem"],[194,37,177,41],[194,38,177,42,"AUTH_PROCESSING_KEY"],[194,57,177,61],[194,58,177,62],[196,8,179,12],[197,8,180,12],[197,12,180,16],[198,10,181,16],[198,16,181,22,"supabase"],[198,36,181,30],[198,37,181,30,"supabase"],[198,45,181,30],[198,46,181,31,"auth"],[198,50,181,35],[198,51,181,36,"signOut"],[198,58,181,43],[198,59,181,44],[198,60,181,45],[199,8,182,12],[199,9,182,13],[199,10,182,14],[199,16,182,20],[199,17,182,22],[200,8,184,12,"setTimeout"],[200,18,184,22],[200,19,184,23],[200,25,184,29,"router"],[200,36,184,35],[200,37,184,35,"router"],[200,43,184,35],[200,44,184,36,"replace"],[200,51,184,43],[200,52,184,44],[200,59,184,51],[200,60,184,52],[200,62,184,54],[200,66,184,58],[200,67,184,59],[201,6,185,8],[202,4,186,4],[202,5,186,5],[203,4,188,4],[203,24,189,8],[203,28,189,8,"_reactJsxDevRuntime"],[203,47,189,8],[203,48,189,8,"jsxDEV"],[203,54,189,8],[203,56,189,9,"View"],[203,60,189,13],[203,61,189,13,"default"],[203,68,189,13],[204,6,189,14,"style"],[204,11,189,19],[204,13,189,21,"styles"],[204,19,189,27],[204,20,189,28,"container"],[204,29,189,38],[205,6,189,38,"children"],[205,14,189,38],[205,30,190,12],[205,34,190,12,"_reactJsxDevRuntime"],[205,53,190,12],[205,54,190,12,"jsxDEV"],[205,60,190,12],[205,62,190,13,"ActivityIndicator"],[205,79,190,30],[205,80,190,30,"default"],[205,87,190,30],[206,8,190,31,"size"],[206,12,190,35],[206,14,190,36],[206,21,190,43],[207,8,190,44,"color"],[207,13,190,49],[207,15,190,50],[208,6,190,59],[209,8,190,59,"fileName"],[209,16,190,59],[209,18,190,59,"_jsxFileName"],[209,30,190,59],[210,8,190,59,"lineNumber"],[210,18,190,59],[211,8,190,59,"columnNumber"],[211,20,190,59],[212,6,190,59],[212,13,190,61],[212,14,190,62],[212,29,191,12],[212,33,191,12,"_reactJsxDevRuntime"],[212,52,191,12],[212,53,191,12,"jsxDEV"],[212,59,191,12],[212,61,191,13,"Text"],[212,65,191,17],[212,66,191,17,"default"],[212,73,191,17],[213,8,191,18,"style"],[213,13,191,23],[213,15,191,25,"styles"],[213,21,191,31],[213,22,191,32,"status"],[213,28,191,39],[214,8,191,39,"children"],[214,16,191,39],[214,18,191,41,"status"],[215,6,191,47],[216,8,191,47,"fileName"],[216,16,191,47],[216,18,191,47,"_jsxFileName"],[216,30,191,47],[217,8,191,47,"lineNumber"],[217,18,191,47],[218,8,191,47,"columnNumber"],[218,20,191,47],[219,6,191,47],[219,13,191,54],[219,14,191,55],[219,16,192,13,"error"],[219,21,192,18],[219,38,192,22],[219,42,192,22,"_reactJsxDevRuntime"],[219,61,192,22],[219,62,192,22,"jsxDEV"],[219,68,192,22],[219,70,192,23,"Text"],[219,74,192,27],[219,75,192,27,"default"],[219,82,192,27],[220,8,192,28,"style"],[220,13,192,33],[220,15,192,35,"styles"],[220,21,192,41],[220,22,192,42,"error"],[220,27,192,48],[221,8,192,48,"children"],[221,16,192,48],[221,18,192,50,"error"],[222,6,192,55],[223,8,192,55,"fileName"],[223,16,192,55],[223,18,192,55,"_jsxFileName"],[223,30,192,55],[224,8,192,55,"lineNumber"],[224,18,192,55],[225,8,192,55,"columnNumber"],[225,20,192,55],[226,6,192,55],[226,13,192,62],[226,14,192,63],[227,4,192,63],[228,6,192,63,"fileName"],[228,14,192,63],[228,16,192,63,"_jsxFileName"],[228,28,192,63],[229,6,192,63,"lineNumber"],[229,16,192,63],[230,6,192,63,"columnNumber"],[230,18,192,63],[231,4,192,63],[231,11,193,14],[231,12,193,15],[232,2,195,0],[233,2,195,1,"_s"],[233,4,195,1],[233,5,9,24,"AuthCallbackScreen"],[233,23,9,42],[234,4,9,42],[234,12,10,19,"useLocalSearchParams"],[234,23,10,39],[234,24,10,39,"useLocalSearchParams"],[234,44,10,39],[235,2,10,39],[236,2,10,39,"_c"],[236,4,10,39],[236,7,9,24,"AuthCallbackScreen"],[236,25,9,42],[237,2,197,0],[237,8,197,6,"styles"],[237,14,197,12],[237,17,197,15,"StyleSheet"],[237,27,197,25],[237,28,197,25,"default"],[237,35,197,25],[237,36,197,26,"create"],[237,42,197,32],[237,43,197,33],[238,4,198,4,"container"],[238,13,198,13],[238,15,198,15],[239,6,199,8,"flex"],[239,10,199,12],[239,12,199,14],[239,13,199,15],[240,6,200,8,"backgroundColor"],[240,21,200,23],[240,23,200,25],[240,32,200,34],[241,6,201,8,"justifyContent"],[241,20,201,22],[241,22,201,24],[241,30,201,32],[242,6,202,8,"alignItems"],[242,16,202,18],[242,18,202,20],[242,26,202,28],[243,6,203,8,"padding"],[243,13,203,15],[243,15,203,17],[244,4,204,4],[244,5,204,5],[245,4,205,4,"status"],[245,10,205,10],[245,12,205,12],[246,6,206,8,"color"],[246,11,206,13],[246,13,206,15],[246,19,206,21],[247,6,207,8,"fontSize"],[247,14,207,16],[247,16,207,18],[247,18,207,20],[248,6,208,8,"marginTop"],[248,15,208,17],[248,17,208,19],[248,19,208,21],[249,6,209,8,"textAlign"],[249,15,209,17],[249,17,209,19],[250,4,210,4],[250,5,210,5],[251,4,211,4,"error"],[251,9,211,9],[251,11,211,11],[252,6,212,8,"color"],[252,11,212,13],[252,13,212,15],[252,22,212,24],[253,6,213,8,"fontSize"],[253,14,213,16],[253,16,213,18],[253,18,213,20],[254,6,214,8,"marginTop"],[254,15,214,17],[254,17,214,19],[254,19,214,21],[255,6,215,8,"textAlign"],[255,15,215,17],[255,17,215,19],[256,4,216,4],[257,2,217,0],[257,3,217,1],[257,4,217,2],[258,2,217,3],[258,6,217,3,"_c"],[258,8,217,3],[259,2,217,3,"$RefreshReg$"],[259,14,217,3],[259,15,217,3,"_c"],[259,17,217,3],[260,0,217,3],[260,3]],"functionMap":{"names":["<global>","AuthCallbackScreen","useEffect$argument_0","handleCallback","Promise$argument_0","setTimeout$argument_0"],"mappings":"AAA;eCQ;cCM;KDM;2BEE;kCCoD,oCD;sCCqC,mCD;sCC0B,mCD;sCCgB,oCD;kCCY,oCD;uBEkB,6BF;KFE;CDS"},"hasCjsExports":false},"type":"js/module"}]}