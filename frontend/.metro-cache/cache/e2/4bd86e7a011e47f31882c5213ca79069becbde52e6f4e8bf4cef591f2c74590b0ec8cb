{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":59,"index":59}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Text","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JKIzsQ5YQ0gDj0MIyY0Q7F1zJtU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":134},"end":{"line":3,"column":59,"index":193}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"../src/services/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":194},"end":{"line":4,"column":52,"index":246}}],"key":"tbMMijt1J/xDoCblWjjdZdowvzY=","exportNames":["*"],"imports":1}},{"name":"../src/utils/authState","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":247},"end":{"line":5,"column":51,"index":298}}],"key":"8LAcR/h9CcavCS5IrQlsvX79W9k=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/Users/pj/Desktop/Wow/frontend/app/auth-callback.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return AuthCallbackScreen;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[2], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsText = require(_dependencyMap[3], \"react-native-web/dist/exports/Text\");\n  var Text = _interopDefault(_reactNativeWebDistExportsText);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[4], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebDistExportsActivityIndicator = require(_dependencyMap[5], \"react-native-web/dist/exports/ActivityIndicator\");\n  var ActivityIndicator = _interopDefault(_reactNativeWebDistExportsActivityIndicator);\n  var _expoRouter = require(_dependencyMap[6], \"expo-router\");\n  var _srcServicesSupabase = require(_dependencyMap[7], \"../src/services/supabase\");\n  var _srcUtilsAuthState = require(_dependencyMap[8], \"../src/utils/authState\");\n  var _reactJsxDevRuntime = require(_dependencyMap[9], \"react/jsx-dev-runtime\");\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_API_URL || 'http://localhost:3001/api';\n  function AuthCallbackScreen() {\n    _s();\n    const params = (0, _expoRouter.useLocalSearchParams)();\n    const [status, setStatus] = (0, _react.useState)('Procesando...');\n    const [error, setError] = (0, _react.useState)(null);\n    const processingRef = (0, _react.useRef)(false);\n    (0, _react.useEffect)(() => {\n      // Prevent double processing\n      if (processingRef.current) return;\n      processingRef.current = true;\n      handleCallback();\n    }, []);\n    const handleCallback = async () => {\n      try {\n        // Mark as processing to prevent race conditions\n        _srcUtilsAuthState.authState.setProcessing(true);\n        const urlParam = params.url;\n        const code = params.code;\n        const isRegistration = !!code;\n        console.log('üîç AuthCallback - INICIO:', {\n          hasCode: isRegistration,\n          code: code || 'none',\n          url: urlParam ? 'present' : 'none'\n        });\n\n        // Extract tokens from OAuth URL\n        if (urlParam) {\n          console.log('üìù Processing OAuth URL');\n          const url = new URL(decodeURIComponent(urlParam));\n          const hashParams = new URLSearchParams(url.hash.substring(1));\n          const accessToken = hashParams.get('access_token');\n          const refreshToken = hashParams.get('refresh_token');\n          if (accessToken) {\n            console.log('üìù Setting session with access token');\n            const {\n              error: sessionError\n            } = await _srcServicesSupabase.supabase.auth.setSession({\n              access_token: accessToken,\n              refresh_token: refreshToken || ''\n            });\n            if (sessionError) {\n              console.error('‚ùå Session error:', sessionError);\n              throw sessionError;\n            }\n            console.log('‚úÖ Session set');\n          }\n        }\n\n        // Get session with retries\n        setStatus('Verificando sesi√≥n...');\n        let session = null;\n        for (let i = 0; i < 5; i++) {\n          console.log(`üîç Getting session attempt ${i + 1}`);\n          const {\n            data,\n            error: sessError\n          } = await _srcServicesSupabase.supabase.auth.getSession();\n          if (sessError) {\n            console.error('Session fetch error:', sessError);\n          }\n          if (data.session?.user) {\n            session = data.session;\n            console.log('‚úÖ Session found:', session.user.email);\n            break;\n          }\n          await new Promise(resolve => setTimeout(resolve, 1000));\n        }\n        if (!session) {\n          console.error('‚ùå No session after retries');\n          throw new Error('No se pudo obtener la sesi√≥n');\n        }\n\n        // REGISTRATION FLOW: Has code ‚Üí Create profile\n        if (isRegistration) {\n          setStatus('Creando cuenta...');\n          console.log('üìù Registration with code:', code);\n          const response = await fetch(`${API_URL}/auth/register`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              user_id: session.user.id,\n              email: session.user.email,\n              full_name: session.user.user_metadata?.full_name || session.user.user_metadata?.name,\n              avatar_url: session.user.user_metadata?.avatar_url,\n              code: code\n            })\n          });\n          const data = await response.json();\n          console.log('üìù Register response:', data);\n          if (data.success) {\n            console.log('‚úÖ Profile created, marking as verified');\n            setStatus('¬°Cuenta creada!');\n\n            // Mark user as verified BEFORE navigating\n            _srcUtilsAuthState.authState.setVerified(true);\n            _srcUtilsAuthState.authState.setProcessing(false);\n\n            // Small delay to ensure state propagates\n            await new Promise(resolve => setTimeout(resolve, 500));\n            _expoRouter.router.replace('/');\n          } else {\n            throw new Error(data.error || 'Error creando cuenta');\n          }\n          return;\n        }\n\n        // LOGIN FLOW: No code ‚Üí Check if user has profile via API\n        setStatus('Verificando cuenta...');\n        console.log('üîç Login attempt, checking profile via API for user:', session.user.id);\n        try {\n          const response = await fetch(`${API_URL}/auth/me?user_id=${session.user.id}`);\n          const data = await response.json();\n          console.log('üîç Profile check result:', data);\n          if (data.success && data.profile) {\n            console.log('‚úÖ User has profile, proceeding to home');\n            setStatus('¬°Bienvenido!');\n\n            // Mark user as verified\n            await AsyncStorage.setItem(AUTH_VERIFIED_KEY, 'true');\n            await AsyncStorage.removeItem(AUTH_PROCESSING_KEY);\n            await new Promise(resolve => setTimeout(resolve, 500));\n            _expoRouter.router.replace('/');\n          } else {\n            // User NOT registered - MUST sign out first before redirect\n            console.log('‚ùå No profile found - Usuario no registrado');\n            setStatus('Cuenta no encontrada...');\n\n            // Clear any verified state\n            await AsyncStorage.removeItem(AUTH_VERIFIED_KEY);\n            await AsyncStorage.removeItem(AUTH_PROCESSING_KEY);\n\n            // Sign out FIRST and wait for it to complete\n            console.log('üö™ Cerrando sesi√≥n...');\n            await _srcServicesSupabase.supabase.auth.signOut();\n\n            // Wait for signOut to propagate\n            console.log('‚è≥ Esperando propagaci√≥n de signOut...');\n            await new Promise(resolve => setTimeout(resolve, 1000));\n\n            // Now redirect to auth with error\n            console.log('üîÑ Redirigiendo a /auth con error');\n            _expoRouter.router.replace('/auth?error=not_registered');\n          }\n        } catch (apiError) {\n          console.error('‚ùå API error checking profile:', apiError);\n\n          // Clear states and sign out\n          await AsyncStorage.removeItem(AUTH_VERIFIED_KEY);\n          await AsyncStorage.removeItem(AUTH_PROCESSING_KEY);\n          await _srcServicesSupabase.supabase.auth.signOut();\n          await new Promise(resolve => setTimeout(resolve, 1000));\n          _expoRouter.router.replace('/auth?error=not_registered');\n        }\n      } catch (err) {\n        console.error('‚ùå AuthCallback error:', err);\n        setError(err.message || 'Error de autenticaci√≥n');\n\n        // Clear states\n        await AsyncStorage.removeItem(AUTH_VERIFIED_KEY);\n        await AsyncStorage.removeItem(AUTH_PROCESSING_KEY);\n\n        // Sign out and redirect\n        try {\n          await _srcServicesSupabase.supabase.auth.signOut();\n        } catch {}\n        setTimeout(() => _expoRouter.router.replace('/auth'), 2000);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n      style: styles.container,\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ActivityIndicator.default, {\n        size: \"large\",\n        color: \"#8B5CF6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 13\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(Text.default, {\n        style: styles.status,\n        children: status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 13\n      }, this), error && /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(Text.default, {\n        style: styles.error,\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 23\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }, this);\n  }\n  _s(AuthCallbackScreen, \"Uve1OqN/uWnYG5tPm0BlHnuLeQ4=\", false, function () {\n    return [_expoRouter.useLocalSearchParams];\n  });\n  _c = AuthCallbackScreen;\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1,\n      backgroundColor: '#0F0F0F',\n      justifyContent: 'center',\n      alignItems: 'center',\n      padding: 24\n    },\n    status: {\n      color: '#fff',\n      fontSize: 16,\n      marginTop: 20,\n      textAlign: 'center'\n    },\n    error: {\n      color: '#EF4444',\n      fontSize: 14,\n      marginTop: 12,\n      textAlign: 'center'\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"AuthCallbackScreen\");\n});","lineCount":262,"map":[[14,2,9,15,"Object"],[14,8,9,15],[14,9,9,15,"defineProperty"],[14,23,9,15],[14,24,9,15,"exports"],[14,31,9,15],[15,4,9,15,"enumerable"],[15,14,9,15],[16,4,9,15,"get"],[16,7,9,15],[16,18,9,15,"get"],[16,19,9,15],[17,6,9,15],[17,13,9,15,"AuthCallbackScreen"],[17,31,9,15],[18,4,9,15],[19,2,9,15],[20,2,197,1],[20,6,197,1,"_expoVirtualEnv"],[20,21,197,1],[20,24,197,1,"require"],[20,31,197,1],[20,32,197,1,"_dependencyMap"],[20,46,197,1],[21,2,1,0],[21,6,1,0,"_react"],[21,12,1,0],[21,15,1,0,"require"],[21,22,1,0],[21,23,1,0,"_dependencyMap"],[21,37,1,0],[22,2,1,59],[22,6,1,59,"_reactNativeWebDistExportsView"],[22,36,1,59],[22,39,1,59,"require"],[22,46,1,59],[22,47,1,59,"_dependencyMap"],[22,61,1,59],[23,2,1,59],[23,6,1,59,"View"],[23,10,1,59],[23,13,1,59,"_interopDefault"],[23,28,1,59],[23,29,1,59,"_reactNativeWebDistExportsView"],[23,59,1,59],[24,2,1,59],[24,6,1,59,"_reactNativeWebDistExportsText"],[24,36,1,59],[24,39,1,59,"require"],[24,46,1,59],[24,47,1,59,"_dependencyMap"],[24,61,1,59],[25,2,1,59],[25,6,1,59,"Text"],[25,10,1,59],[25,13,1,59,"_interopDefault"],[25,28,1,59],[25,29,1,59,"_reactNativeWebDistExportsText"],[25,59,1,59],[26,2,1,59],[26,6,1,59,"_reactNativeWebDistExportsStyleSheet"],[26,42,1,59],[26,45,1,59,"require"],[26,52,1,59],[26,53,1,59,"_dependencyMap"],[26,67,1,59],[27,2,1,59],[27,6,1,59,"StyleSheet"],[27,16,1,59],[27,19,1,59,"_interopDefault"],[27,34,1,59],[27,35,1,59,"_reactNativeWebDistExportsStyleSheet"],[27,71,1,59],[28,2,1,59],[28,6,1,59,"_reactNativeWebDistExportsActivityIndicator"],[28,49,1,59],[28,52,1,59,"require"],[28,59,1,59],[28,60,1,59,"_dependencyMap"],[28,74,1,59],[29,2,1,59],[29,6,1,59,"ActivityIndicator"],[29,23,1,59],[29,26,1,59,"_interopDefault"],[29,41,1,59],[29,42,1,59,"_reactNativeWebDistExportsActivityIndicator"],[29,85,1,59],[30,2,3,0],[30,6,3,0,"_expoRouter"],[30,17,3,0],[30,20,3,0,"require"],[30,27,3,0],[30,28,3,0,"_dependencyMap"],[30,42,3,0],[31,2,4,0],[31,6,4,0,"_srcServicesSupabase"],[31,26,4,0],[31,29,4,0,"require"],[31,36,4,0],[31,37,4,0,"_dependencyMap"],[31,51,4,0],[32,2,5,0],[32,6,5,0,"_srcUtilsAuthState"],[32,24,5,0],[32,27,5,0,"require"],[32,34,5,0],[32,35,5,0,"_dependencyMap"],[32,49,5,0],[33,2,5,51],[33,6,5,51,"_reactJsxDevRuntime"],[33,25,5,51],[33,28,5,51,"require"],[33,35,5,51],[33,36,5,51,"_dependencyMap"],[33,50,5,51],[34,2,7,0],[34,8,7,6,"API_URL"],[34,15,7,13],[34,18,7,16,"_expoVirtualEnv"],[34,33,7,16],[34,34,7,16,"env"],[34,37,7,16],[34,38,7,16,"EXPO_PUBLIC_API_URL"],[34,57,7,16],[34,61,7,51],[34,88,7,78],[35,2,9,15],[35,11,9,24,"AuthCallbackScreen"],[35,29,9,42,"AuthCallbackScreen"],[35,30,9,42],[35,32,9,45],[36,4,9,45,"_s"],[36,6,9,45],[37,4,10,4],[37,10,10,10,"params"],[37,16,10,16],[37,19,10,19],[37,23,10,19,"useLocalSearchParams"],[37,34,10,39],[37,35,10,39,"useLocalSearchParams"],[37,55,10,39],[37,57,10,40],[37,58,10,41],[38,4,11,4],[38,10,11,10],[38,11,11,11,"status"],[38,17,11,17],[38,19,11,19,"setStatus"],[38,28,11,28],[38,29,11,29],[38,32,11,32],[38,36,11,32,"useState"],[38,42,11,40],[38,43,11,40,"useState"],[38,51,11,40],[38,53,11,41],[38,68,11,56],[38,69,11,57],[39,4,12,4],[39,10,12,10],[39,11,12,11,"error"],[39,16,12,16],[39,18,12,18,"setError"],[39,26,12,26],[39,27,12,27],[39,30,12,30],[39,34,12,30,"useState"],[39,40,12,38],[39,41,12,38,"useState"],[39,49,12,38],[39,51,12,54],[39,55,12,58],[39,56,12,59],[40,4,13,4],[40,10,13,10,"processingRef"],[40,23,13,23],[40,26,13,26],[40,30,13,26,"useRef"],[40,36,13,32],[40,37,13,32,"useRef"],[40,43,13,32],[40,45,13,33],[40,50,13,38],[40,51,13,39],[41,4,15,4],[41,8,15,4,"useEffect"],[41,14,15,13],[41,15,15,13,"useEffect"],[41,24,15,13],[41,26,15,14],[41,32,15,20],[42,6,16,8],[43,6,17,8],[43,10,17,12,"processingRef"],[43,23,17,25],[43,24,17,26,"current"],[43,31,17,33],[43,33,17,35],[44,6,18,8,"processingRef"],[44,19,18,21],[44,20,18,22,"current"],[44,27,18,29],[44,30,18,32],[44,34,18,36],[45,6,20,8,"handleCallback"],[45,20,20,22],[45,21,20,23],[45,22,20,24],[46,4,21,4],[46,5,21,5],[46,7,21,7],[46,9,21,9],[46,10,21,10],[47,4,23,4],[47,10,23,10,"handleCallback"],[47,24,23,24],[47,27,23,27],[47,33,23,27,"handleCallback"],[47,34,23,27],[47,39,23,39],[48,6,24,8],[48,10,24,12],[49,8,25,12],[50,8,26,12,"authState"],[50,26,26,21],[50,27,26,21,"authState"],[50,36,26,21],[50,37,26,22,"setProcessing"],[50,50,26,35],[50,51,26,36],[50,55,26,40],[50,56,26,41],[51,8,28,12],[51,14,28,18,"urlParam"],[51,22,28,26],[51,25,28,29,"params"],[51,31,28,35],[51,32,28,36,"url"],[51,35,28,49],[52,8,29,12],[52,14,29,18,"code"],[52,18,29,22],[52,21,29,25,"params"],[52,27,29,31],[52,28,29,32,"code"],[52,32,29,46],[53,8,30,12],[53,14,30,18,"isRegistration"],[53,28,30,32],[53,31,30,35],[53,32,30,36],[53,33,30,37,"code"],[53,37,30,41],[54,8,32,12,"console"],[54,15,32,19],[54,16,32,20,"log"],[54,19,32,23],[54,20,32,24],[54,47,32,51],[54,49,32,53],[55,10,33,16,"hasCode"],[55,17,33,23],[55,19,33,25,"isRegistration"],[55,33,33,39],[56,10,34,16,"code"],[56,14,34,20],[56,16,34,22,"code"],[56,20,34,26],[56,24,34,30],[56,30,34,36],[57,10,35,16,"url"],[57,13,35,19],[57,15,35,21,"urlParam"],[57,23,35,29],[57,26,35,32],[57,35,35,41],[57,38,35,44],[58,8,36,12],[58,9,36,13],[58,10,36,14],[60,8,38,12],[61,8,39,12],[61,12,39,16,"urlParam"],[61,20,39,24],[61,22,39,26],[62,10,40,16,"console"],[62,17,40,23],[62,18,40,24,"log"],[62,21,40,27],[62,22,40,28],[62,47,40,53],[62,48,40,54],[63,10,41,16],[63,16,41,22,"url"],[63,19,41,25],[63,22,41,28],[63,26,41,32,"URL"],[63,29,41,35],[63,30,41,36,"decodeURIComponent"],[63,48,41,54],[63,49,41,55,"urlParam"],[63,57,41,63],[63,58,41,64],[63,59,41,65],[64,10,42,16],[64,16,42,22,"hashParams"],[64,26,42,32],[64,29,42,35],[64,33,42,39,"URLSearchParams"],[64,48,42,54],[64,49,42,55,"url"],[64,52,42,58],[64,53,42,59,"hash"],[64,57,42,63],[64,58,42,64,"substring"],[64,67,42,73],[64,68,42,74],[64,69,42,75],[64,70,42,76],[64,71,42,77],[65,10,43,16],[65,16,43,22,"accessToken"],[65,27,43,33],[65,30,43,36,"hashParams"],[65,40,43,46],[65,41,43,47,"get"],[65,44,43,50],[65,45,43,51],[65,59,43,65],[65,60,43,66],[66,10,44,16],[66,16,44,22,"refreshToken"],[66,28,44,34],[66,31,44,37,"hashParams"],[66,41,44,47],[66,42,44,48,"get"],[66,45,44,51],[66,46,44,52],[66,61,44,67],[66,62,44,68],[67,10,46,16],[67,14,46,20,"accessToken"],[67,25,46,31],[67,27,46,33],[68,12,47,20,"console"],[68,19,47,27],[68,20,47,28,"log"],[68,23,47,31],[68,24,47,32],[68,62,47,70],[68,63,47,71],[69,12,48,20],[69,18,48,26],[70,14,48,28,"error"],[70,19,48,33],[70,21,48,35,"sessionError"],[71,12,48,48],[71,13,48,49],[71,16,48,52],[71,22,48,58,"supabase"],[71,42,48,66],[71,43,48,66,"supabase"],[71,51,48,66],[71,52,48,67,"auth"],[71,56,48,71],[71,57,48,72,"setSession"],[71,67,48,82],[71,68,48,83],[72,14,49,24,"access_token"],[72,26,49,36],[72,28,49,38,"accessToken"],[72,39,49,49],[73,14,50,24,"refresh_token"],[73,27,50,37],[73,29,50,39,"refreshToken"],[73,41,50,51],[73,45,50,55],[74,12,51,20],[74,13,51,21],[74,14,51,22],[75,12,53,20],[75,16,53,24,"sessionError"],[75,28,53,36],[75,30,53,38],[76,14,54,24,"console"],[76,21,54,31],[76,22,54,32,"error"],[76,27,54,37],[76,28,54,38],[76,46,54,56],[76,48,54,58,"sessionError"],[76,60,54,70],[76,61,54,71],[77,14,55,24],[77,20,55,30,"sessionError"],[77,32,55,42],[78,12,56,20],[79,12,57,20,"console"],[79,19,57,27],[79,20,57,28,"log"],[79,23,57,31],[79,24,57,32],[79,39,57,47],[79,40,57,48],[80,10,58,16],[81,8,59,12],[83,8,61,12],[84,8,62,12,"setStatus"],[84,17,62,21],[84,18,62,22],[84,41,62,45],[84,42,62,46],[85,8,63,12],[85,12,63,16,"session"],[85,19,63,23],[85,22,63,26],[85,26,63,30],[86,8,64,12],[86,13,64,17],[86,17,64,21,"i"],[86,18,64,22],[86,21,64,25],[86,22,64,26],[86,24,64,28,"i"],[86,25,64,29],[86,28,64,32],[86,29,64,33],[86,31,64,35,"i"],[86,32,64,36],[86,34,64,38],[86,36,64,40],[87,10,65,16,"console"],[87,17,65,23],[87,18,65,24,"log"],[87,21,65,27],[87,22,65,28],[87,52,65,58,"i"],[87,53,65,59],[87,56,65,62],[87,57,65,63],[87,59,65,65],[87,60,65,66],[88,10,66,16],[88,16,66,22],[89,12,66,24,"data"],[89,16,66,28],[90,12,66,30,"error"],[90,17,66,35],[90,19,66,37,"sessError"],[91,10,66,47],[91,11,66,48],[91,14,66,51],[91,20,66,57,"supabase"],[91,40,66,65],[91,41,66,65,"supabase"],[91,49,66,65],[91,50,66,66,"auth"],[91,54,66,70],[91,55,66,71,"getSession"],[91,65,66,81],[91,66,66,82],[91,67,66,83],[92,10,67,16],[92,14,67,20,"sessError"],[92,23,67,29],[92,25,67,31],[93,12,68,20,"console"],[93,19,68,27],[93,20,68,28,"error"],[93,25,68,33],[93,26,68,34],[93,48,68,56],[93,50,68,58,"sessError"],[93,59,68,67],[93,60,68,68],[94,10,69,16],[95,10,70,16],[95,14,70,20,"data"],[95,18,70,24],[95,19,70,25,"session"],[95,26,70,32],[95,28,70,34,"user"],[95,32,70,38],[95,34,70,40],[96,12,71,20,"session"],[96,19,71,27],[96,22,71,30,"data"],[96,26,71,34],[96,27,71,35,"session"],[96,34,71,42],[97,12,72,20,"console"],[97,19,72,27],[97,20,72,28,"log"],[97,23,72,31],[97,24,72,32],[97,42,72,50],[97,44,72,52,"session"],[97,51,72,59],[97,52,72,60,"user"],[97,56,72,64],[97,57,72,65,"email"],[97,62,72,70],[97,63,72,71],[98,12,73,20],[99,10,74,16],[100,10,75,16],[100,16,75,22],[100,20,75,26,"Promise"],[100,27,75,33],[100,28,75,34,"resolve"],[100,35,75,41],[100,39,75,45,"setTimeout"],[100,49,75,55],[100,50,75,56,"resolve"],[100,57,75,63],[100,59,75,65],[100,63,75,69],[100,64,75,70],[100,65,75,71],[101,8,76,12],[102,8,78,12],[102,12,78,16],[102,13,78,17,"session"],[102,20,78,24],[102,22,78,26],[103,10,79,16,"console"],[103,17,79,23],[103,18,79,24,"error"],[103,23,79,29],[103,24,79,30],[103,52,79,58],[103,53,79,59],[104,10,80,16],[104,16,80,22],[104,20,80,26,"Error"],[104,25,80,31],[104,26,80,32],[104,56,80,62],[104,57,80,63],[105,8,81,12],[107,8,83,12],[108,8,84,12],[108,12,84,16,"isRegistration"],[108,26,84,30],[108,28,84,32],[109,10,85,16,"setStatus"],[109,19,85,25],[109,20,85,26],[109,39,85,45],[109,40,85,46],[110,10,86,16,"console"],[110,17,86,23],[110,18,86,24,"log"],[110,21,86,27],[110,22,86,28],[110,50,86,56],[110,52,86,58,"code"],[110,56,86,62],[110,57,86,63],[111,10,88,16],[111,16,88,22,"response"],[111,24,88,30],[111,27,88,33],[111,33,88,39,"fetch"],[111,38,88,44],[111,39,88,45],[111,42,88,48,"API_URL"],[111,49,88,55],[111,65,88,71],[111,67,88,73],[112,12,89,20,"method"],[112,18,89,26],[112,20,89,28],[112,26,89,34],[113,12,90,20,"headers"],[113,19,90,27],[113,21,90,29],[114,14,90,31],[114,28,90,45],[114,30,90,47],[115,12,90,66],[115,13,90,67],[116,12,91,20,"body"],[116,16,91,24],[116,18,91,26,"JSON"],[116,22,91,30],[116,23,91,31,"stringify"],[116,32,91,40],[116,33,91,41],[117,14,92,24,"user_id"],[117,21,92,31],[117,23,92,33,"session"],[117,30,92,40],[117,31,92,41,"user"],[117,35,92,45],[117,36,92,46,"id"],[117,38,92,48],[118,14,93,24,"email"],[118,19,93,29],[118,21,93,31,"session"],[118,28,93,38],[118,29,93,39,"user"],[118,33,93,43],[118,34,93,44,"email"],[118,39,93,49],[119,14,94,24,"full_name"],[119,23,94,33],[119,25,94,35,"session"],[119,32,94,42],[119,33,94,43,"user"],[119,37,94,47],[119,38,94,48,"user_metadata"],[119,51,94,61],[119,53,94,63,"full_name"],[119,62,94,72],[119,66,94,76,"session"],[119,73,94,83],[119,74,94,84,"user"],[119,78,94,88],[119,79,94,89,"user_metadata"],[119,92,94,102],[119,94,94,104,"name"],[119,98,94,108],[120,14,95,24,"avatar_url"],[120,24,95,34],[120,26,95,36,"session"],[120,33,95,43],[120,34,95,44,"user"],[120,38,95,48],[120,39,95,49,"user_metadata"],[120,52,95,62],[120,54,95,64,"avatar_url"],[120,64,95,74],[121,14,96,24,"code"],[121,18,96,28],[121,20,96,30,"code"],[122,12,97,20],[122,13,97,21],[123,10,98,16],[123,11,98,17],[123,12,98,18],[124,10,100,16],[124,16,100,22,"data"],[124,20,100,26],[124,23,100,29],[124,29,100,35,"response"],[124,37,100,43],[124,38,100,44,"json"],[124,42,100,48],[124,43,100,49],[124,44,100,50],[125,10,101,16,"console"],[125,17,101,23],[125,18,101,24,"log"],[125,21,101,27],[125,22,101,28],[125,45,101,51],[125,47,101,53,"data"],[125,51,101,57],[125,52,101,58],[126,10,103,16],[126,14,103,20,"data"],[126,18,103,24],[126,19,103,25,"success"],[126,26,103,32],[126,28,103,34],[127,12,104,20,"console"],[127,19,104,27],[127,20,104,28,"log"],[127,23,104,31],[127,24,104,32],[127,64,104,72],[127,65,104,73],[128,12,105,20,"setStatus"],[128,21,105,29],[128,22,105,30],[128,39,105,47],[128,40,105,48],[130,12,107,20],[131,12,108,20,"authState"],[131,30,108,29],[131,31,108,29,"authState"],[131,40,108,29],[131,41,108,30,"setVerified"],[131,52,108,41],[131,53,108,42],[131,57,108,46],[131,58,108,47],[132,12,109,20,"authState"],[132,30,109,29],[132,31,109,29,"authState"],[132,40,109,29],[132,41,109,30,"setProcessing"],[132,54,109,43],[132,55,109,44],[132,60,109,49],[132,61,109,50],[134,12,111,20],[135,12,112,20],[135,18,112,26],[135,22,112,30,"Promise"],[135,29,112,37],[135,30,112,38,"resolve"],[135,37,112,45],[135,41,112,49,"setTimeout"],[135,51,112,59],[135,52,112,60,"resolve"],[135,59,112,67],[135,61,112,69],[135,64,112,72],[135,65,112,73],[135,66,112,74],[136,12,113,20,"router"],[136,23,113,26],[136,24,113,26,"router"],[136,30,113,26],[136,31,113,27,"replace"],[136,38,113,34],[136,39,113,35],[136,42,113,38],[136,43,113,39],[137,10,114,16],[137,11,114,17],[137,17,114,23],[138,12,115,20],[138,18,115,26],[138,22,115,30,"Error"],[138,27,115,35],[138,28,115,36,"data"],[138,32,115,40],[138,33,115,41,"error"],[138,38,115,46],[138,42,115,50],[138,64,115,72],[138,65,115,73],[139,10,116,16],[140,10,117,16],[141,8,118,12],[143,8,120,12],[144,8,121,12,"setStatus"],[144,17,121,21],[144,18,121,22],[144,41,121,45],[144,42,121,46],[145,8,122,12,"console"],[145,15,122,19],[145,16,122,20,"log"],[145,19,122,23],[145,20,122,24],[145,74,122,78],[145,76,122,80,"session"],[145,83,122,87],[145,84,122,88,"user"],[145,88,122,92],[145,89,122,93,"id"],[145,91,122,95],[145,92,122,96],[146,8,124,12],[146,12,124,16],[147,10,125,16],[147,16,125,22,"response"],[147,24,125,30],[147,27,125,33],[147,33,125,39,"fetch"],[147,38,125,44],[147,39,125,45],[147,42,125,48,"API_URL"],[147,49,125,55],[147,69,125,75,"session"],[147,76,125,82],[147,77,125,83,"user"],[147,81,125,87],[147,82,125,88,"id"],[147,84,125,90],[147,86,125,92],[147,87,125,93],[148,10,126,16],[148,16,126,22,"data"],[148,20,126,26],[148,23,126,29],[148,29,126,35,"response"],[148,37,126,43],[148,38,126,44,"json"],[148,42,126,48],[148,43,126,49],[148,44,126,50],[149,10,128,16,"console"],[149,17,128,23],[149,18,128,24,"log"],[149,21,128,27],[149,22,128,28],[149,48,128,54],[149,50,128,56,"data"],[149,54,128,60],[149,55,128,61],[150,10,130,16],[150,14,130,20,"data"],[150,18,130,24],[150,19,130,25,"success"],[150,26,130,32],[150,30,130,36,"data"],[150,34,130,40],[150,35,130,41,"profile"],[150,42,130,48],[150,44,130,50],[151,12,131,20,"console"],[151,19,131,27],[151,20,131,28,"log"],[151,23,131,31],[151,24,131,32],[151,64,131,72],[151,65,131,73],[152,12,132,20,"setStatus"],[152,21,132,29],[152,22,132,30],[152,36,132,44],[152,37,132,45],[154,12,134,20],[155,12,135,20],[155,18,135,26,"AsyncStorage"],[155,30,135,38],[155,31,135,39,"setItem"],[155,38,135,46],[155,39,135,47,"AUTH_VERIFIED_KEY"],[155,56,135,64],[155,58,135,66],[155,64,135,72],[155,65,135,73],[156,12,136,20],[156,18,136,26,"AsyncStorage"],[156,30,136,38],[156,31,136,39,"removeItem"],[156,41,136,49],[156,42,136,50,"AUTH_PROCESSING_KEY"],[156,61,136,69],[156,62,136,70],[157,12,138,20],[157,18,138,26],[157,22,138,30,"Promise"],[157,29,138,37],[157,30,138,38,"resolve"],[157,37,138,45],[157,41,138,49,"setTimeout"],[157,51,138,59],[157,52,138,60,"resolve"],[157,59,138,67],[157,61,138,69],[157,64,138,72],[157,65,138,73],[157,66,138,74],[158,12,139,20,"router"],[158,23,139,26],[158,24,139,26,"router"],[158,30,139,26],[158,31,139,27,"replace"],[158,38,139,34],[158,39,139,35],[158,42,139,38],[158,43,139,39],[159,10,140,16],[159,11,140,17],[159,17,140,23],[160,12,141,20],[161,12,142,20,"console"],[161,19,142,27],[161,20,142,28,"log"],[161,23,142,31],[161,24,142,32],[161,68,142,76],[161,69,142,77],[162,12,143,20,"setStatus"],[162,21,143,29],[162,22,143,30],[162,47,143,55],[162,48,143,56],[164,12,145,20],[165,12,146,20],[165,18,146,26,"AsyncStorage"],[165,30,146,38],[165,31,146,39,"removeItem"],[165,41,146,49],[165,42,146,50,"AUTH_VERIFIED_KEY"],[165,59,146,67],[165,60,146,68],[166,12,147,20],[166,18,147,26,"AsyncStorage"],[166,30,147,38],[166,31,147,39,"removeItem"],[166,41,147,49],[166,42,147,50,"AUTH_PROCESSING_KEY"],[166,61,147,69],[166,62,147,70],[168,12,149,20],[169,12,150,20,"console"],[169,19,150,27],[169,20,150,28,"log"],[169,23,150,31],[169,24,150,32],[169,47,150,55],[169,48,150,56],[170,12,151,20],[170,18,151,26,"supabase"],[170,38,151,34],[170,39,151,34,"supabase"],[170,47,151,34],[170,48,151,35,"auth"],[170,52,151,39],[170,53,151,40,"signOut"],[170,60,151,47],[170,61,151,48],[170,62,151,49],[172,12,153,20],[173,12,154,20,"console"],[173,19,154,27],[173,20,154,28,"log"],[173,23,154,31],[173,24,154,32],[173,63,154,71],[173,64,154,72],[174,12,155,20],[174,18,155,26],[174,22,155,30,"Promise"],[174,29,155,37],[174,30,155,38,"resolve"],[174,37,155,45],[174,41,155,49,"setTimeout"],[174,51,155,59],[174,52,155,60,"resolve"],[174,59,155,67],[174,61,155,69],[174,65,155,73],[174,66,155,74],[174,67,155,75],[176,12,157,20],[177,12,158,20,"console"],[177,19,158,27],[177,20,158,28,"log"],[177,23,158,31],[177,24,158,32],[177,59,158,67],[177,60,158,68],[178,12,159,20,"router"],[178,23,159,26],[178,24,159,26,"router"],[178,30,159,26],[178,31,159,27,"replace"],[178,38,159,34],[178,39,159,35],[178,67,159,63],[178,68,159,64],[179,10,160,16],[180,8,161,12],[180,9,161,13],[180,10,161,14],[180,17,161,21,"apiError"],[180,25,161,29],[180,27,161,31],[181,10,162,16,"console"],[181,17,162,23],[181,18,162,24,"error"],[181,23,162,29],[181,24,162,30],[181,55,162,61],[181,57,162,63,"apiError"],[181,65,162,71],[181,66,162,72],[183,10,164,16],[184,10,165,16],[184,16,165,22,"AsyncStorage"],[184,28,165,34],[184,29,165,35,"removeItem"],[184,39,165,45],[184,40,165,46,"AUTH_VERIFIED_KEY"],[184,57,165,63],[184,58,165,64],[185,10,166,16],[185,16,166,22,"AsyncStorage"],[185,28,166,34],[185,29,166,35,"removeItem"],[185,39,166,45],[185,40,166,46,"AUTH_PROCESSING_KEY"],[185,59,166,65],[185,60,166,66],[186,10,167,16],[186,16,167,22,"supabase"],[186,36,167,30],[186,37,167,30,"supabase"],[186,45,167,30],[186,46,167,31,"auth"],[186,50,167,35],[186,51,167,36,"signOut"],[186,58,167,43],[186,59,167,44],[186,60,167,45],[187,10,168,16],[187,16,168,22],[187,20,168,26,"Promise"],[187,27,168,33],[187,28,168,34,"resolve"],[187,35,168,41],[187,39,168,45,"setTimeout"],[187,49,168,55],[187,50,168,56,"resolve"],[187,57,168,63],[187,59,168,65],[187,63,168,69],[187,64,168,70],[187,65,168,71],[188,10,170,16,"router"],[188,21,170,22],[188,22,170,22,"router"],[188,28,170,22],[188,29,170,23,"replace"],[188,36,170,30],[188,37,170,31],[188,65,170,59],[188,66,170,60],[189,8,171,12],[190,6,173,8],[190,7,173,9],[190,8,173,10],[190,15,173,17,"err"],[190,18,173,25],[190,20,173,27],[191,8,174,12,"console"],[191,15,174,19],[191,16,174,20,"error"],[191,21,174,25],[191,22,174,26],[191,45,174,49],[191,47,174,51,"err"],[191,50,174,54],[191,51,174,55],[192,8,175,12,"setError"],[192,16,175,20],[192,17,175,21,"err"],[192,20,175,24],[192,21,175,25,"message"],[192,28,175,32],[192,32,175,36],[192,56,175,60],[192,57,175,61],[194,8,177,12],[195,8,178,12],[195,14,178,18,"AsyncStorage"],[195,26,178,30],[195,27,178,31,"removeItem"],[195,37,178,41],[195,38,178,42,"AUTH_VERIFIED_KEY"],[195,55,178,59],[195,56,178,60],[196,8,179,12],[196,14,179,18,"AsyncStorage"],[196,26,179,30],[196,27,179,31,"removeItem"],[196,37,179,41],[196,38,179,42,"AUTH_PROCESSING_KEY"],[196,57,179,61],[196,58,179,62],[198,8,181,12],[199,8,182,12],[199,12,182,16],[200,10,183,16],[200,16,183,22,"supabase"],[200,36,183,30],[200,37,183,30,"supabase"],[200,45,183,30],[200,46,183,31,"auth"],[200,50,183,35],[200,51,183,36,"signOut"],[200,58,183,43],[200,59,183,44],[200,60,183,45],[201,8,184,12],[201,9,184,13],[201,10,184,14],[201,16,184,20],[201,17,184,22],[202,8,186,12,"setTimeout"],[202,18,186,22],[202,19,186,23],[202,25,186,29,"router"],[202,36,186,35],[202,37,186,35,"router"],[202,43,186,35],[202,44,186,36,"replace"],[202,51,186,43],[202,52,186,44],[202,59,186,51],[202,60,186,52],[202,62,186,54],[202,66,186,58],[202,67,186,59],[203,6,187,8],[204,4,188,4],[204,5,188,5],[205,4,190,4],[205,24,191,8],[205,28,191,8,"_reactJsxDevRuntime"],[205,47,191,8],[205,48,191,8,"jsxDEV"],[205,54,191,8],[205,56,191,9,"View"],[205,60,191,13],[205,61,191,13,"default"],[205,68,191,13],[206,6,191,14,"style"],[206,11,191,19],[206,13,191,21,"styles"],[206,19,191,27],[206,20,191,28,"container"],[206,29,191,38],[207,6,191,38,"children"],[207,14,191,38],[207,30,192,12],[207,34,192,12,"_reactJsxDevRuntime"],[207,53,192,12],[207,54,192,12,"jsxDEV"],[207,60,192,12],[207,62,192,13,"ActivityIndicator"],[207,79,192,30],[207,80,192,30,"default"],[207,87,192,30],[208,8,192,31,"size"],[208,12,192,35],[208,14,192,36],[208,21,192,43],[209,8,192,44,"color"],[209,13,192,49],[209,15,192,50],[210,6,192,59],[211,8,192,59,"fileName"],[211,16,192,59],[211,18,192,59,"_jsxFileName"],[211,30,192,59],[212,8,192,59,"lineNumber"],[212,18,192,59],[213,8,192,59,"columnNumber"],[213,20,192,59],[214,6,192,59],[214,13,192,61],[214,14,192,62],[214,29,193,12],[214,33,193,12,"_reactJsxDevRuntime"],[214,52,193,12],[214,53,193,12,"jsxDEV"],[214,59,193,12],[214,61,193,13,"Text"],[214,65,193,17],[214,66,193,17,"default"],[214,73,193,17],[215,8,193,18,"style"],[215,13,193,23],[215,15,193,25,"styles"],[215,21,193,31],[215,22,193,32,"status"],[215,28,193,39],[216,8,193,39,"children"],[216,16,193,39],[216,18,193,41,"status"],[217,6,193,47],[218,8,193,47,"fileName"],[218,16,193,47],[218,18,193,47,"_jsxFileName"],[218,30,193,47],[219,8,193,47,"lineNumber"],[219,18,193,47],[220,8,193,47,"columnNumber"],[220,20,193,47],[221,6,193,47],[221,13,193,54],[221,14,193,55],[221,16,194,13,"error"],[221,21,194,18],[221,38,194,22],[221,42,194,22,"_reactJsxDevRuntime"],[221,61,194,22],[221,62,194,22,"jsxDEV"],[221,68,194,22],[221,70,194,23,"Text"],[221,74,194,27],[221,75,194,27,"default"],[221,82,194,27],[222,8,194,28,"style"],[222,13,194,33],[222,15,194,35,"styles"],[222,21,194,41],[222,22,194,42,"error"],[222,27,194,48],[223,8,194,48,"children"],[223,16,194,48],[223,18,194,50,"error"],[224,6,194,55],[225,8,194,55,"fileName"],[225,16,194,55],[225,18,194,55,"_jsxFileName"],[225,30,194,55],[226,8,194,55,"lineNumber"],[226,18,194,55],[227,8,194,55,"columnNumber"],[227,20,194,55],[228,6,194,55],[228,13,194,62],[228,14,194,63],[229,4,194,63],[230,6,194,63,"fileName"],[230,14,194,63],[230,16,194,63,"_jsxFileName"],[230,28,194,63],[231,6,194,63,"lineNumber"],[231,16,194,63],[232,6,194,63,"columnNumber"],[232,18,194,63],[233,4,194,63],[233,11,195,14],[233,12,195,15],[234,2,197,0],[235,2,197,1,"_s"],[235,4,197,1],[235,5,9,24,"AuthCallbackScreen"],[235,23,9,42],[236,4,9,42],[236,12,10,19,"useLocalSearchParams"],[236,23,10,39],[236,24,10,39,"useLocalSearchParams"],[236,44,10,39],[237,2,10,39],[238,2,10,39,"_c"],[238,4,10,39],[238,7,9,24,"AuthCallbackScreen"],[238,25,9,42],[239,2,199,0],[239,8,199,6,"styles"],[239,14,199,12],[239,17,199,15,"StyleSheet"],[239,27,199,25],[239,28,199,25,"default"],[239,35,199,25],[239,36,199,26,"create"],[239,42,199,32],[239,43,199,33],[240,4,200,4,"container"],[240,13,200,13],[240,15,200,15],[241,6,201,8,"flex"],[241,10,201,12],[241,12,201,14],[241,13,201,15],[242,6,202,8,"backgroundColor"],[242,21,202,23],[242,23,202,25],[242,32,202,34],[243,6,203,8,"justifyContent"],[243,20,203,22],[243,22,203,24],[243,30,203,32],[244,6,204,8,"alignItems"],[244,16,204,18],[244,18,204,20],[244,26,204,28],[245,6,205,8,"padding"],[245,13,205,15],[245,15,205,17],[246,4,206,4],[246,5,206,5],[247,4,207,4,"status"],[247,10,207,10],[247,12,207,12],[248,6,208,8,"color"],[248,11,208,13],[248,13,208,15],[248,19,208,21],[249,6,209,8,"fontSize"],[249,14,209,16],[249,16,209,18],[249,18,209,20],[250,6,210,8,"marginTop"],[250,15,210,17],[250,17,210,19],[250,19,210,21],[251,6,211,8,"textAlign"],[251,15,211,17],[251,17,211,19],[252,4,212,4],[252,5,212,5],[253,4,213,4,"error"],[253,9,213,9],[253,11,213,11],[254,6,214,8,"color"],[254,11,214,13],[254,13,214,15],[254,22,214,24],[255,6,215,8,"fontSize"],[255,14,215,16],[255,16,215,18],[255,18,215,20],[256,6,216,8,"marginTop"],[256,15,216,17],[256,17,216,19],[256,19,216,21],[257,6,217,8,"textAlign"],[257,15,217,17],[257,17,217,19],[258,4,218,4],[259,2,219,0],[259,3,219,1],[259,4,219,2],[260,2,219,3],[260,6,219,3,"_c"],[260,8,219,3],[261,2,219,3,"$RefreshReg$"],[261,14,219,3],[261,15,219,3,"_c"],[261,17,219,3],[262,0,219,3],[262,3]],"functionMap":{"names":["<global>","AuthCallbackScreen","useEffect$argument_0","handleCallback","Promise$argument_0","setTimeout$argument_0"],"mappings":"AAA;eCQ;cCM;KDM;2BEE;kCCoD,oCD;sCCqC,mCD;sCC0B,mCD;sCCiB,oCD;kCCa,oCD;uBEkB,6BF;KFE;CDS"},"hasCjsExports":false},"type":"js/module"}]}