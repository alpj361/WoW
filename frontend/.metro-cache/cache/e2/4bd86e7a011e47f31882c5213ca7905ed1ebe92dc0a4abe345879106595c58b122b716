{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":59,"index":59}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Text","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JKIzsQ5YQ0gDj0MIyY0Q7F1zJtU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":134},"end":{"line":3,"column":59,"index":193}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"../src/services/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":194},"end":{"line":4,"column":52,"index":246}}],"key":"tbMMijt1J/xDoCblWjjdZdowvzY=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/Users/pj/Desktop/Wow/frontend/app/auth-callback.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return AuthCallbackScreen;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[2], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsText = require(_dependencyMap[3], \"react-native-web/dist/exports/Text\");\n  var Text = _interopDefault(_reactNativeWebDistExportsText);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[4], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebDistExportsActivityIndicator = require(_dependencyMap[5], \"react-native-web/dist/exports/ActivityIndicator\");\n  var ActivityIndicator = _interopDefault(_reactNativeWebDistExportsActivityIndicator);\n  var _expoRouter = require(_dependencyMap[6], \"expo-router\");\n  var _srcServicesSupabase = require(_dependencyMap[7], \"../src/services/supabase\");\n  var _reactJsxDevRuntime = require(_dependencyMap[8], \"react/jsx-dev-runtime\");\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_API_URL || 'http://localhost:3001/api';\n  function AuthCallbackScreen() {\n    _s();\n    const params = (0, _expoRouter.useLocalSearchParams)();\n    const [status, setStatus] = (0, _react.useState)('Procesando...');\n    const [error, setError] = (0, _react.useState)(null);\n    const processingRef = (0, _react.useRef)(false);\n    (0, _react.useEffect)(() => {\n      // Prevent double processing\n      if (processingRef.current) return;\n      processingRef.current = true;\n      handleCallback();\n    }, []);\n    const handleCallback = async () => {\n      try {\n        // Mark as processing to prevent race conditions\n        await AsyncStorage.setItem(AUTH_PROCESSING_KEY, 'true');\n        const urlParam = params.url;\n        const code = params.code;\n        const isRegistration = !!code;\n        console.log('üîç AuthCallback - INICIO:', {\n          hasCode: isRegistration,\n          code: code || 'none',\n          url: urlParam ? 'present' : 'none'\n        });\n\n        // Extract tokens from OAuth URL\n        if (urlParam) {\n          console.log('üìù Processing OAuth URL');\n          const url = new URL(decodeURIComponent(urlParam));\n          const hashParams = new URLSearchParams(url.hash.substring(1));\n          const accessToken = hashParams.get('access_token');\n          const refreshToken = hashParams.get('refresh_token');\n          if (accessToken) {\n            console.log('üìù Setting session with access token');\n            const {\n              error: sessionError\n            } = await _srcServicesSupabase.supabase.auth.setSession({\n              access_token: accessToken,\n              refresh_token: refreshToken || ''\n            });\n            if (sessionError) {\n              console.error('‚ùå Session error:', sessionError);\n              throw sessionError;\n            }\n            console.log('‚úÖ Session set');\n          }\n        }\n\n        // Get session with retries\n        setStatus('Verificando sesi√≥n...');\n        let session = null;\n        for (let i = 0; i < 5; i++) {\n          console.log(`üîç Getting session attempt ${i + 1}`);\n          const {\n            data,\n            error: sessError\n          } = await _srcServicesSupabase.supabase.auth.getSession();\n          if (sessError) {\n            console.error('Session fetch error:', sessError);\n          }\n          if (data.session?.user) {\n            session = data.session;\n            console.log('‚úÖ Session found:', session.user.email);\n            break;\n          }\n          await new Promise(resolve => setTimeout(resolve, 1000));\n        }\n        if (!session) {\n          console.error('‚ùå No session after retries');\n          throw new Error('No se pudo obtener la sesi√≥n');\n        }\n\n        // REGISTRATION FLOW: Has code ‚Üí Create profile\n        if (isRegistration) {\n          setStatus('Creando cuenta...');\n          console.log('üìù Registration with code:', code);\n          const response = await fetch(`${API_URL}/auth/register`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              user_id: session.user.id,\n              email: session.user.email,\n              full_name: session.user.user_metadata?.full_name || session.user.user_metadata?.name,\n              avatar_url: session.user.user_metadata?.avatar_url,\n              code: code\n            })\n          });\n          const data = await response.json();\n          console.log('üìù Register response:', data);\n          if (data.success) {\n            console.log('‚úÖ Profile created, marking as verified');\n            setStatus('¬°Cuenta creada!');\n\n            // Mark user as verified BEFORE navigating\n            await AsyncStorage.setItem(AUTH_VERIFIED_KEY, 'true');\n            await AsyncStorage.removeItem(AUTH_PROCESSING_KEY);\n\n            // Small delay to ensure state propagates\n            await new Promise(resolve => setTimeout(resolve, 500));\n            _expoRouter.router.replace('/');\n          } else {\n            throw new Error(data.error || 'Error creando cuenta');\n          }\n          return;\n        }\n\n        // LOGIN FLOW: No code ‚Üí Check if user has profile via API\n        setStatus('Verificando cuenta...');\n        console.log('üîç Login attempt, checking profile via API for user:', session.user.id);\n        try {\n          const response = await fetch(`${API_URL}/auth/me?user_id=${session.user.id}`);\n          const data = await response.json();\n          console.log('üîç Profile check result:', data);\n          if (data.success && data.profile) {\n            console.log('‚úÖ User has profile, proceeding to home');\n            setStatus('¬°Bienvenido!');\n\n            // Mark user as verified\n            await AsyncStorage.setItem(AUTH_VERIFIED_KEY, 'true');\n            await AsyncStorage.removeItem(AUTH_PROCESSING_KEY);\n            await new Promise(resolve => setTimeout(resolve, 500));\n            _expoRouter.router.replace('/');\n          } else {\n            // User NOT registered - MUST sign out first before redirect\n            console.log('‚ùå No profile found - Usuario no registrado');\n            setStatus('Cuenta no encontrada...');\n\n            // Clear any verified state\n            await AsyncStorage.removeItem(AUTH_VERIFIED_KEY);\n            await AsyncStorage.removeItem(AUTH_PROCESSING_KEY);\n\n            // Sign out FIRST and wait for it to complete\n            console.log('üö™ Cerrando sesi√≥n...');\n            await _srcServicesSupabase.supabase.auth.signOut();\n\n            // Wait for signOut to propagate\n            console.log('‚è≥ Esperando propagaci√≥n de signOut...');\n            await new Promise(resolve => setTimeout(resolve, 1000));\n\n            // Now redirect to auth with error\n            console.log('üîÑ Redirigiendo a /auth con error');\n            _expoRouter.router.replace('/auth?error=not_registered');\n          }\n        } catch (apiError) {\n          console.error('‚ùå API error checking profile:', apiError);\n\n          // Clear states and sign out\n          await AsyncStorage.removeItem(AUTH_VERIFIED_KEY);\n          await AsyncStorage.removeItem(AUTH_PROCESSING_KEY);\n          await _srcServicesSupabase.supabase.auth.signOut();\n          await new Promise(resolve => setTimeout(resolve, 1000));\n          _expoRouter.router.replace('/auth?error=not_registered');\n        }\n      } catch (err) {\n        console.error('‚ùå AuthCallback error:', err);\n        setError(err.message || 'Error de autenticaci√≥n');\n\n        // Clear states\n        await AsyncStorage.removeItem(AUTH_VERIFIED_KEY);\n        await AsyncStorage.removeItem(AUTH_PROCESSING_KEY);\n\n        // Sign out and redirect\n        try {\n          await _srcServicesSupabase.supabase.auth.signOut();\n        } catch {}\n        setTimeout(() => _expoRouter.router.replace('/auth'), 2000);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n      style: styles.container,\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ActivityIndicator.default, {\n        size: \"large\",\n        color: \"#8B5CF6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 13\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(Text.default, {\n        style: styles.status,\n        children: status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 13\n      }, this), error && /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(Text.default, {\n        style: styles.error,\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 23\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }, this);\n  }\n  _s(AuthCallbackScreen, \"Uve1OqN/uWnYG5tPm0BlHnuLeQ4=\", false, function () {\n    return [_expoRouter.useLocalSearchParams];\n  });\n  _c = AuthCallbackScreen;\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1,\n      backgroundColor: '#0F0F0F',\n      justifyContent: 'center',\n      alignItems: 'center',\n      padding: 24\n    },\n    status: {\n      color: '#fff',\n      fontSize: 16,\n      marginTop: 20,\n      textAlign: 'center'\n    },\n    error: {\n      color: '#EF4444',\n      fontSize: 14,\n      marginTop: 12,\n      textAlign: 'center'\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"AuthCallbackScreen\");\n});","lineCount":261,"map":[[14,2,9,15,"Object"],[14,8,9,15],[14,9,9,15,"defineProperty"],[14,23,9,15],[14,24,9,15,"exports"],[14,31,9,15],[15,4,9,15,"enumerable"],[15,14,9,15],[16,4,9,15,"get"],[16,7,9,15],[16,18,9,15,"get"],[16,19,9,15],[17,6,9,15],[17,13,9,15,"AuthCallbackScreen"],[17,31,9,15],[18,4,9,15],[19,2,9,15],[20,2,197,1],[20,6,197,1,"_expoVirtualEnv"],[20,21,197,1],[20,24,197,1,"require"],[20,31,197,1],[20,32,197,1,"_dependencyMap"],[20,46,197,1],[21,2,1,0],[21,6,1,0,"_react"],[21,12,1,0],[21,15,1,0,"require"],[21,22,1,0],[21,23,1,0,"_dependencyMap"],[21,37,1,0],[22,2,1,59],[22,6,1,59,"_reactNativeWebDistExportsView"],[22,36,1,59],[22,39,1,59,"require"],[22,46,1,59],[22,47,1,59,"_dependencyMap"],[22,61,1,59],[23,2,1,59],[23,6,1,59,"View"],[23,10,1,59],[23,13,1,59,"_interopDefault"],[23,28,1,59],[23,29,1,59,"_reactNativeWebDistExportsView"],[23,59,1,59],[24,2,1,59],[24,6,1,59,"_reactNativeWebDistExportsText"],[24,36,1,59],[24,39,1,59,"require"],[24,46,1,59],[24,47,1,59,"_dependencyMap"],[24,61,1,59],[25,2,1,59],[25,6,1,59,"Text"],[25,10,1,59],[25,13,1,59,"_interopDefault"],[25,28,1,59],[25,29,1,59,"_reactNativeWebDistExportsText"],[25,59,1,59],[26,2,1,59],[26,6,1,59,"_reactNativeWebDistExportsStyleSheet"],[26,42,1,59],[26,45,1,59,"require"],[26,52,1,59],[26,53,1,59,"_dependencyMap"],[26,67,1,59],[27,2,1,59],[27,6,1,59,"StyleSheet"],[27,16,1,59],[27,19,1,59,"_interopDefault"],[27,34,1,59],[27,35,1,59,"_reactNativeWebDistExportsStyleSheet"],[27,71,1,59],[28,2,1,59],[28,6,1,59,"_reactNativeWebDistExportsActivityIndicator"],[28,49,1,59],[28,52,1,59,"require"],[28,59,1,59],[28,60,1,59,"_dependencyMap"],[28,74,1,59],[29,2,1,59],[29,6,1,59,"ActivityIndicator"],[29,23,1,59],[29,26,1,59,"_interopDefault"],[29,41,1,59],[29,42,1,59,"_reactNativeWebDistExportsActivityIndicator"],[29,85,1,59],[30,2,3,0],[30,6,3,0,"_expoRouter"],[30,17,3,0],[30,20,3,0,"require"],[30,27,3,0],[30,28,3,0,"_dependencyMap"],[30,42,3,0],[31,2,4,0],[31,6,4,0,"_srcServicesSupabase"],[31,26,4,0],[31,29,4,0,"require"],[31,36,4,0],[31,37,4,0,"_dependencyMap"],[31,51,4,0],[32,2,4,52],[32,6,4,52,"_reactJsxDevRuntime"],[32,25,4,52],[32,28,4,52,"require"],[32,35,4,52],[32,36,4,52,"_dependencyMap"],[32,50,4,52],[33,2,7,0],[33,8,7,6,"API_URL"],[33,15,7,13],[33,18,7,16,"_expoVirtualEnv"],[33,33,7,16],[33,34,7,16,"env"],[33,37,7,16],[33,38,7,16,"EXPO_PUBLIC_API_URL"],[33,57,7,16],[33,61,7,51],[33,88,7,78],[34,2,9,15],[34,11,9,24,"AuthCallbackScreen"],[34,29,9,42,"AuthCallbackScreen"],[34,30,9,42],[34,32,9,45],[35,4,9,45,"_s"],[35,6,9,45],[36,4,10,4],[36,10,10,10,"params"],[36,16,10,16],[36,19,10,19],[36,23,10,19,"useLocalSearchParams"],[36,34,10,39],[36,35,10,39,"useLocalSearchParams"],[36,55,10,39],[36,57,10,40],[36,58,10,41],[37,4,11,4],[37,10,11,10],[37,11,11,11,"status"],[37,17,11,17],[37,19,11,19,"setStatus"],[37,28,11,28],[37,29,11,29],[37,32,11,32],[37,36,11,32,"useState"],[37,42,11,40],[37,43,11,40,"useState"],[37,51,11,40],[37,53,11,41],[37,68,11,56],[37,69,11,57],[38,4,12,4],[38,10,12,10],[38,11,12,11,"error"],[38,16,12,16],[38,18,12,18,"setError"],[38,26,12,26],[38,27,12,27],[38,30,12,30],[38,34,12,30,"useState"],[38,40,12,38],[38,41,12,38,"useState"],[38,49,12,38],[38,51,12,54],[38,55,12,58],[38,56,12,59],[39,4,13,4],[39,10,13,10,"processingRef"],[39,23,13,23],[39,26,13,26],[39,30,13,26,"useRef"],[39,36,13,32],[39,37,13,32,"useRef"],[39,43,13,32],[39,45,13,33],[39,50,13,38],[39,51,13,39],[40,4,15,4],[40,8,15,4,"useEffect"],[40,14,15,13],[40,15,15,13,"useEffect"],[40,24,15,13],[40,26,15,14],[40,32,15,20],[41,6,16,8],[42,6,17,8],[42,10,17,12,"processingRef"],[42,23,17,25],[42,24,17,26,"current"],[42,31,17,33],[42,33,17,35],[43,6,18,8,"processingRef"],[43,19,18,21],[43,20,18,22,"current"],[43,27,18,29],[43,30,18,32],[43,34,18,36],[44,6,20,8,"handleCallback"],[44,20,20,22],[44,21,20,23],[44,22,20,24],[45,4,21,4],[45,5,21,5],[45,7,21,7],[45,9,21,9],[45,10,21,10],[46,4,23,4],[46,10,23,10,"handleCallback"],[46,24,23,24],[46,27,23,27],[46,33,23,27,"handleCallback"],[46,34,23,27],[46,39,23,39],[47,6,24,8],[47,10,24,12],[48,8,25,12],[49,8,26,12],[49,14,26,18,"AsyncStorage"],[49,26,26,30],[49,27,26,31,"setItem"],[49,34,26,38],[49,35,26,39,"AUTH_PROCESSING_KEY"],[49,54,26,58],[49,56,26,60],[49,62,26,66],[49,63,26,67],[50,8,28,12],[50,14,28,18,"urlParam"],[50,22,28,26],[50,25,28,29,"params"],[50,31,28,35],[50,32,28,36,"url"],[50,35,28,49],[51,8,29,12],[51,14,29,18,"code"],[51,18,29,22],[51,21,29,25,"params"],[51,27,29,31],[51,28,29,32,"code"],[51,32,29,46],[52,8,30,12],[52,14,30,18,"isRegistration"],[52,28,30,32],[52,31,30,35],[52,32,30,36],[52,33,30,37,"code"],[52,37,30,41],[53,8,32,12,"console"],[53,15,32,19],[53,16,32,20,"log"],[53,19,32,23],[53,20,32,24],[53,47,32,51],[53,49,32,53],[54,10,33,16,"hasCode"],[54,17,33,23],[54,19,33,25,"isRegistration"],[54,33,33,39],[55,10,34,16,"code"],[55,14,34,20],[55,16,34,22,"code"],[55,20,34,26],[55,24,34,30],[55,30,34,36],[56,10,35,16,"url"],[56,13,35,19],[56,15,35,21,"urlParam"],[56,23,35,29],[56,26,35,32],[56,35,35,41],[56,38,35,44],[57,8,36,12],[57,9,36,13],[57,10,36,14],[59,8,38,12],[60,8,39,12],[60,12,39,16,"urlParam"],[60,20,39,24],[60,22,39,26],[61,10,40,16,"console"],[61,17,40,23],[61,18,40,24,"log"],[61,21,40,27],[61,22,40,28],[61,47,40,53],[61,48,40,54],[62,10,41,16],[62,16,41,22,"url"],[62,19,41,25],[62,22,41,28],[62,26,41,32,"URL"],[62,29,41,35],[62,30,41,36,"decodeURIComponent"],[62,48,41,54],[62,49,41,55,"urlParam"],[62,57,41,63],[62,58,41,64],[62,59,41,65],[63,10,42,16],[63,16,42,22,"hashParams"],[63,26,42,32],[63,29,42,35],[63,33,42,39,"URLSearchParams"],[63,48,42,54],[63,49,42,55,"url"],[63,52,42,58],[63,53,42,59,"hash"],[63,57,42,63],[63,58,42,64,"substring"],[63,67,42,73],[63,68,42,74],[63,69,42,75],[63,70,42,76],[63,71,42,77],[64,10,43,16],[64,16,43,22,"accessToken"],[64,27,43,33],[64,30,43,36,"hashParams"],[64,40,43,46],[64,41,43,47,"get"],[64,44,43,50],[64,45,43,51],[64,59,43,65],[64,60,43,66],[65,10,44,16],[65,16,44,22,"refreshToken"],[65,28,44,34],[65,31,44,37,"hashParams"],[65,41,44,47],[65,42,44,48,"get"],[65,45,44,51],[65,46,44,52],[65,61,44,67],[65,62,44,68],[66,10,46,16],[66,14,46,20,"accessToken"],[66,25,46,31],[66,27,46,33],[67,12,47,20,"console"],[67,19,47,27],[67,20,47,28,"log"],[67,23,47,31],[67,24,47,32],[67,62,47,70],[67,63,47,71],[68,12,48,20],[68,18,48,26],[69,14,48,28,"error"],[69,19,48,33],[69,21,48,35,"sessionError"],[70,12,48,48],[70,13,48,49],[70,16,48,52],[70,22,48,58,"supabase"],[70,42,48,66],[70,43,48,66,"supabase"],[70,51,48,66],[70,52,48,67,"auth"],[70,56,48,71],[70,57,48,72,"setSession"],[70,67,48,82],[70,68,48,83],[71,14,49,24,"access_token"],[71,26,49,36],[71,28,49,38,"accessToken"],[71,39,49,49],[72,14,50,24,"refresh_token"],[72,27,50,37],[72,29,50,39,"refreshToken"],[72,41,50,51],[72,45,50,55],[73,12,51,20],[73,13,51,21],[73,14,51,22],[74,12,53,20],[74,16,53,24,"sessionError"],[74,28,53,36],[74,30,53,38],[75,14,54,24,"console"],[75,21,54,31],[75,22,54,32,"error"],[75,27,54,37],[75,28,54,38],[75,46,54,56],[75,48,54,58,"sessionError"],[75,60,54,70],[75,61,54,71],[76,14,55,24],[76,20,55,30,"sessionError"],[76,32,55,42],[77,12,56,20],[78,12,57,20,"console"],[78,19,57,27],[78,20,57,28,"log"],[78,23,57,31],[78,24,57,32],[78,39,57,47],[78,40,57,48],[79,10,58,16],[80,8,59,12],[82,8,61,12],[83,8,62,12,"setStatus"],[83,17,62,21],[83,18,62,22],[83,41,62,45],[83,42,62,46],[84,8,63,12],[84,12,63,16,"session"],[84,19,63,23],[84,22,63,26],[84,26,63,30],[85,8,64,12],[85,13,64,17],[85,17,64,21,"i"],[85,18,64,22],[85,21,64,25],[85,22,64,26],[85,24,64,28,"i"],[85,25,64,29],[85,28,64,32],[85,29,64,33],[85,31,64,35,"i"],[85,32,64,36],[85,34,64,38],[85,36,64,40],[86,10,65,16,"console"],[86,17,65,23],[86,18,65,24,"log"],[86,21,65,27],[86,22,65,28],[86,52,65,58,"i"],[86,53,65,59],[86,56,65,62],[86,57,65,63],[86,59,65,65],[86,60,65,66],[87,10,66,16],[87,16,66,22],[88,12,66,24,"data"],[88,16,66,28],[89,12,66,30,"error"],[89,17,66,35],[89,19,66,37,"sessError"],[90,10,66,47],[90,11,66,48],[90,14,66,51],[90,20,66,57,"supabase"],[90,40,66,65],[90,41,66,65,"supabase"],[90,49,66,65],[90,50,66,66,"auth"],[90,54,66,70],[90,55,66,71,"getSession"],[90,65,66,81],[90,66,66,82],[90,67,66,83],[91,10,67,16],[91,14,67,20,"sessError"],[91,23,67,29],[91,25,67,31],[92,12,68,20,"console"],[92,19,68,27],[92,20,68,28,"error"],[92,25,68,33],[92,26,68,34],[92,48,68,56],[92,50,68,58,"sessError"],[92,59,68,67],[92,60,68,68],[93,10,69,16],[94,10,70,16],[94,14,70,20,"data"],[94,18,70,24],[94,19,70,25,"session"],[94,26,70,32],[94,28,70,34,"user"],[94,32,70,38],[94,34,70,40],[95,12,71,20,"session"],[95,19,71,27],[95,22,71,30,"data"],[95,26,71,34],[95,27,71,35,"session"],[95,34,71,42],[96,12,72,20,"console"],[96,19,72,27],[96,20,72,28,"log"],[96,23,72,31],[96,24,72,32],[96,42,72,50],[96,44,72,52,"session"],[96,51,72,59],[96,52,72,60,"user"],[96,56,72,64],[96,57,72,65,"email"],[96,62,72,70],[96,63,72,71],[97,12,73,20],[98,10,74,16],[99,10,75,16],[99,16,75,22],[99,20,75,26,"Promise"],[99,27,75,33],[99,28,75,34,"resolve"],[99,35,75,41],[99,39,75,45,"setTimeout"],[99,49,75,55],[99,50,75,56,"resolve"],[99,57,75,63],[99,59,75,65],[99,63,75,69],[99,64,75,70],[99,65,75,71],[100,8,76,12],[101,8,78,12],[101,12,78,16],[101,13,78,17,"session"],[101,20,78,24],[101,22,78,26],[102,10,79,16,"console"],[102,17,79,23],[102,18,79,24,"error"],[102,23,79,29],[102,24,79,30],[102,52,79,58],[102,53,79,59],[103,10,80,16],[103,16,80,22],[103,20,80,26,"Error"],[103,25,80,31],[103,26,80,32],[103,56,80,62],[103,57,80,63],[104,8,81,12],[106,8,83,12],[107,8,84,12],[107,12,84,16,"isRegistration"],[107,26,84,30],[107,28,84,32],[108,10,85,16,"setStatus"],[108,19,85,25],[108,20,85,26],[108,39,85,45],[108,40,85,46],[109,10,86,16,"console"],[109,17,86,23],[109,18,86,24,"log"],[109,21,86,27],[109,22,86,28],[109,50,86,56],[109,52,86,58,"code"],[109,56,86,62],[109,57,86,63],[110,10,88,16],[110,16,88,22,"response"],[110,24,88,30],[110,27,88,33],[110,33,88,39,"fetch"],[110,38,88,44],[110,39,88,45],[110,42,88,48,"API_URL"],[110,49,88,55],[110,65,88,71],[110,67,88,73],[111,12,89,20,"method"],[111,18,89,26],[111,20,89,28],[111,26,89,34],[112,12,90,20,"headers"],[112,19,90,27],[112,21,90,29],[113,14,90,31],[113,28,90,45],[113,30,90,47],[114,12,90,66],[114,13,90,67],[115,12,91,20,"body"],[115,16,91,24],[115,18,91,26,"JSON"],[115,22,91,30],[115,23,91,31,"stringify"],[115,32,91,40],[115,33,91,41],[116,14,92,24,"user_id"],[116,21,92,31],[116,23,92,33,"session"],[116,30,92,40],[116,31,92,41,"user"],[116,35,92,45],[116,36,92,46,"id"],[116,38,92,48],[117,14,93,24,"email"],[117,19,93,29],[117,21,93,31,"session"],[117,28,93,38],[117,29,93,39,"user"],[117,33,93,43],[117,34,93,44,"email"],[117,39,93,49],[118,14,94,24,"full_name"],[118,23,94,33],[118,25,94,35,"session"],[118,32,94,42],[118,33,94,43,"user"],[118,37,94,47],[118,38,94,48,"user_metadata"],[118,51,94,61],[118,53,94,63,"full_name"],[118,62,94,72],[118,66,94,76,"session"],[118,73,94,83],[118,74,94,84,"user"],[118,78,94,88],[118,79,94,89,"user_metadata"],[118,92,94,102],[118,94,94,104,"name"],[118,98,94,108],[119,14,95,24,"avatar_url"],[119,24,95,34],[119,26,95,36,"session"],[119,33,95,43],[119,34,95,44,"user"],[119,38,95,48],[119,39,95,49,"user_metadata"],[119,52,95,62],[119,54,95,64,"avatar_url"],[119,64,95,74],[120,14,96,24,"code"],[120,18,96,28],[120,20,96,30,"code"],[121,12,97,20],[121,13,97,21],[122,10,98,16],[122,11,98,17],[122,12,98,18],[123,10,100,16],[123,16,100,22,"data"],[123,20,100,26],[123,23,100,29],[123,29,100,35,"response"],[123,37,100,43],[123,38,100,44,"json"],[123,42,100,48],[123,43,100,49],[123,44,100,50],[124,10,101,16,"console"],[124,17,101,23],[124,18,101,24,"log"],[124,21,101,27],[124,22,101,28],[124,45,101,51],[124,47,101,53,"data"],[124,51,101,57],[124,52,101,58],[125,10,103,16],[125,14,103,20,"data"],[125,18,103,24],[125,19,103,25,"success"],[125,26,103,32],[125,28,103,34],[126,12,104,20,"console"],[126,19,104,27],[126,20,104,28,"log"],[126,23,104,31],[126,24,104,32],[126,64,104,72],[126,65,104,73],[127,12,105,20,"setStatus"],[127,21,105,29],[127,22,105,30],[127,39,105,47],[127,40,105,48],[129,12,107,20],[130,12,108,20],[130,18,108,26,"AsyncStorage"],[130,30,108,38],[130,31,108,39,"setItem"],[130,38,108,46],[130,39,108,47,"AUTH_VERIFIED_KEY"],[130,56,108,64],[130,58,108,66],[130,64,108,72],[130,65,108,73],[131,12,109,20],[131,18,109,26,"AsyncStorage"],[131,30,109,38],[131,31,109,39,"removeItem"],[131,41,109,49],[131,42,109,50,"AUTH_PROCESSING_KEY"],[131,61,109,69],[131,62,109,70],[133,12,111,20],[134,12,112,20],[134,18,112,26],[134,22,112,30,"Promise"],[134,29,112,37],[134,30,112,38,"resolve"],[134,37,112,45],[134,41,112,49,"setTimeout"],[134,51,112,59],[134,52,112,60,"resolve"],[134,59,112,67],[134,61,112,69],[134,64,112,72],[134,65,112,73],[134,66,112,74],[135,12,113,20,"router"],[135,23,113,26],[135,24,113,26,"router"],[135,30,113,26],[135,31,113,27,"replace"],[135,38,113,34],[135,39,113,35],[135,42,113,38],[135,43,113,39],[136,10,114,16],[136,11,114,17],[136,17,114,23],[137,12,115,20],[137,18,115,26],[137,22,115,30,"Error"],[137,27,115,35],[137,28,115,36,"data"],[137,32,115,40],[137,33,115,41,"error"],[137,38,115,46],[137,42,115,50],[137,64,115,72],[137,65,115,73],[138,10,116,16],[139,10,117,16],[140,8,118,12],[142,8,120,12],[143,8,121,12,"setStatus"],[143,17,121,21],[143,18,121,22],[143,41,121,45],[143,42,121,46],[144,8,122,12,"console"],[144,15,122,19],[144,16,122,20,"log"],[144,19,122,23],[144,20,122,24],[144,74,122,78],[144,76,122,80,"session"],[144,83,122,87],[144,84,122,88,"user"],[144,88,122,92],[144,89,122,93,"id"],[144,91,122,95],[144,92,122,96],[145,8,124,12],[145,12,124,16],[146,10,125,16],[146,16,125,22,"response"],[146,24,125,30],[146,27,125,33],[146,33,125,39,"fetch"],[146,38,125,44],[146,39,125,45],[146,42,125,48,"API_URL"],[146,49,125,55],[146,69,125,75,"session"],[146,76,125,82],[146,77,125,83,"user"],[146,81,125,87],[146,82,125,88,"id"],[146,84,125,90],[146,86,125,92],[146,87,125,93],[147,10,126,16],[147,16,126,22,"data"],[147,20,126,26],[147,23,126,29],[147,29,126,35,"response"],[147,37,126,43],[147,38,126,44,"json"],[147,42,126,48],[147,43,126,49],[147,44,126,50],[148,10,128,16,"console"],[148,17,128,23],[148,18,128,24,"log"],[148,21,128,27],[148,22,128,28],[148,48,128,54],[148,50,128,56,"data"],[148,54,128,60],[148,55,128,61],[149,10,130,16],[149,14,130,20,"data"],[149,18,130,24],[149,19,130,25,"success"],[149,26,130,32],[149,30,130,36,"data"],[149,34,130,40],[149,35,130,41,"profile"],[149,42,130,48],[149,44,130,50],[150,12,131,20,"console"],[150,19,131,27],[150,20,131,28,"log"],[150,23,131,31],[150,24,131,32],[150,64,131,72],[150,65,131,73],[151,12,132,20,"setStatus"],[151,21,132,29],[151,22,132,30],[151,36,132,44],[151,37,132,45],[153,12,134,20],[154,12,135,20],[154,18,135,26,"AsyncStorage"],[154,30,135,38],[154,31,135,39,"setItem"],[154,38,135,46],[154,39,135,47,"AUTH_VERIFIED_KEY"],[154,56,135,64],[154,58,135,66],[154,64,135,72],[154,65,135,73],[155,12,136,20],[155,18,136,26,"AsyncStorage"],[155,30,136,38],[155,31,136,39,"removeItem"],[155,41,136,49],[155,42,136,50,"AUTH_PROCESSING_KEY"],[155,61,136,69],[155,62,136,70],[156,12,138,20],[156,18,138,26],[156,22,138,30,"Promise"],[156,29,138,37],[156,30,138,38,"resolve"],[156,37,138,45],[156,41,138,49,"setTimeout"],[156,51,138,59],[156,52,138,60,"resolve"],[156,59,138,67],[156,61,138,69],[156,64,138,72],[156,65,138,73],[156,66,138,74],[157,12,139,20,"router"],[157,23,139,26],[157,24,139,26,"router"],[157,30,139,26],[157,31,139,27,"replace"],[157,38,139,34],[157,39,139,35],[157,42,139,38],[157,43,139,39],[158,10,140,16],[158,11,140,17],[158,17,140,23],[159,12,141,20],[160,12,142,20,"console"],[160,19,142,27],[160,20,142,28,"log"],[160,23,142,31],[160,24,142,32],[160,68,142,76],[160,69,142,77],[161,12,143,20,"setStatus"],[161,21,143,29],[161,22,143,30],[161,47,143,55],[161,48,143,56],[163,12,145,20],[164,12,146,20],[164,18,146,26,"AsyncStorage"],[164,30,146,38],[164,31,146,39,"removeItem"],[164,41,146,49],[164,42,146,50,"AUTH_VERIFIED_KEY"],[164,59,146,67],[164,60,146,68],[165,12,147,20],[165,18,147,26,"AsyncStorage"],[165,30,147,38],[165,31,147,39,"removeItem"],[165,41,147,49],[165,42,147,50,"AUTH_PROCESSING_KEY"],[165,61,147,69],[165,62,147,70],[167,12,149,20],[168,12,150,20,"console"],[168,19,150,27],[168,20,150,28,"log"],[168,23,150,31],[168,24,150,32],[168,47,150,55],[168,48,150,56],[169,12,151,20],[169,18,151,26,"supabase"],[169,38,151,34],[169,39,151,34,"supabase"],[169,47,151,34],[169,48,151,35,"auth"],[169,52,151,39],[169,53,151,40,"signOut"],[169,60,151,47],[169,61,151,48],[169,62,151,49],[171,12,153,20],[172,12,154,20,"console"],[172,19,154,27],[172,20,154,28,"log"],[172,23,154,31],[172,24,154,32],[172,63,154,71],[172,64,154,72],[173,12,155,20],[173,18,155,26],[173,22,155,30,"Promise"],[173,29,155,37],[173,30,155,38,"resolve"],[173,37,155,45],[173,41,155,49,"setTimeout"],[173,51,155,59],[173,52,155,60,"resolve"],[173,59,155,67],[173,61,155,69],[173,65,155,73],[173,66,155,74],[173,67,155,75],[175,12,157,20],[176,12,158,20,"console"],[176,19,158,27],[176,20,158,28,"log"],[176,23,158,31],[176,24,158,32],[176,59,158,67],[176,60,158,68],[177,12,159,20,"router"],[177,23,159,26],[177,24,159,26,"router"],[177,30,159,26],[177,31,159,27,"replace"],[177,38,159,34],[177,39,159,35],[177,67,159,63],[177,68,159,64],[178,10,160,16],[179,8,161,12],[179,9,161,13],[179,10,161,14],[179,17,161,21,"apiError"],[179,25,161,29],[179,27,161,31],[180,10,162,16,"console"],[180,17,162,23],[180,18,162,24,"error"],[180,23,162,29],[180,24,162,30],[180,55,162,61],[180,57,162,63,"apiError"],[180,65,162,71],[180,66,162,72],[182,10,164,16],[183,10,165,16],[183,16,165,22,"AsyncStorage"],[183,28,165,34],[183,29,165,35,"removeItem"],[183,39,165,45],[183,40,165,46,"AUTH_VERIFIED_KEY"],[183,57,165,63],[183,58,165,64],[184,10,166,16],[184,16,166,22,"AsyncStorage"],[184,28,166,34],[184,29,166,35,"removeItem"],[184,39,166,45],[184,40,166,46,"AUTH_PROCESSING_KEY"],[184,59,166,65],[184,60,166,66],[185,10,167,16],[185,16,167,22,"supabase"],[185,36,167,30],[185,37,167,30,"supabase"],[185,45,167,30],[185,46,167,31,"auth"],[185,50,167,35],[185,51,167,36,"signOut"],[185,58,167,43],[185,59,167,44],[185,60,167,45],[186,10,168,16],[186,16,168,22],[186,20,168,26,"Promise"],[186,27,168,33],[186,28,168,34,"resolve"],[186,35,168,41],[186,39,168,45,"setTimeout"],[186,49,168,55],[186,50,168,56,"resolve"],[186,57,168,63],[186,59,168,65],[186,63,168,69],[186,64,168,70],[186,65,168,71],[187,10,170,16,"router"],[187,21,170,22],[187,22,170,22,"router"],[187,28,170,22],[187,29,170,23,"replace"],[187,36,170,30],[187,37,170,31],[187,65,170,59],[187,66,170,60],[188,8,171,12],[189,6,173,8],[189,7,173,9],[189,8,173,10],[189,15,173,17,"err"],[189,18,173,25],[189,20,173,27],[190,8,174,12,"console"],[190,15,174,19],[190,16,174,20,"error"],[190,21,174,25],[190,22,174,26],[190,45,174,49],[190,47,174,51,"err"],[190,50,174,54],[190,51,174,55],[191,8,175,12,"setError"],[191,16,175,20],[191,17,175,21,"err"],[191,20,175,24],[191,21,175,25,"message"],[191,28,175,32],[191,32,175,36],[191,56,175,60],[191,57,175,61],[193,8,177,12],[194,8,178,12],[194,14,178,18,"AsyncStorage"],[194,26,178,30],[194,27,178,31,"removeItem"],[194,37,178,41],[194,38,178,42,"AUTH_VERIFIED_KEY"],[194,55,178,59],[194,56,178,60],[195,8,179,12],[195,14,179,18,"AsyncStorage"],[195,26,179,30],[195,27,179,31,"removeItem"],[195,37,179,41],[195,38,179,42,"AUTH_PROCESSING_KEY"],[195,57,179,61],[195,58,179,62],[197,8,181,12],[198,8,182,12],[198,12,182,16],[199,10,183,16],[199,16,183,22,"supabase"],[199,36,183,30],[199,37,183,30,"supabase"],[199,45,183,30],[199,46,183,31,"auth"],[199,50,183,35],[199,51,183,36,"signOut"],[199,58,183,43],[199,59,183,44],[199,60,183,45],[200,8,184,12],[200,9,184,13],[200,10,184,14],[200,16,184,20],[200,17,184,22],[201,8,186,12,"setTimeout"],[201,18,186,22],[201,19,186,23],[201,25,186,29,"router"],[201,36,186,35],[201,37,186,35,"router"],[201,43,186,35],[201,44,186,36,"replace"],[201,51,186,43],[201,52,186,44],[201,59,186,51],[201,60,186,52],[201,62,186,54],[201,66,186,58],[201,67,186,59],[202,6,187,8],[203,4,188,4],[203,5,188,5],[204,4,190,4],[204,24,191,8],[204,28,191,8,"_reactJsxDevRuntime"],[204,47,191,8],[204,48,191,8,"jsxDEV"],[204,54,191,8],[204,56,191,9,"View"],[204,60,191,13],[204,61,191,13,"default"],[204,68,191,13],[205,6,191,14,"style"],[205,11,191,19],[205,13,191,21,"styles"],[205,19,191,27],[205,20,191,28,"container"],[205,29,191,38],[206,6,191,38,"children"],[206,14,191,38],[206,30,192,12],[206,34,192,12,"_reactJsxDevRuntime"],[206,53,192,12],[206,54,192,12,"jsxDEV"],[206,60,192,12],[206,62,192,13,"ActivityIndicator"],[206,79,192,30],[206,80,192,30,"default"],[206,87,192,30],[207,8,192,31,"size"],[207,12,192,35],[207,14,192,36],[207,21,192,43],[208,8,192,44,"color"],[208,13,192,49],[208,15,192,50],[209,6,192,59],[210,8,192,59,"fileName"],[210,16,192,59],[210,18,192,59,"_jsxFileName"],[210,30,192,59],[211,8,192,59,"lineNumber"],[211,18,192,59],[212,8,192,59,"columnNumber"],[212,20,192,59],[213,6,192,59],[213,13,192,61],[213,14,192,62],[213,29,193,12],[213,33,193,12,"_reactJsxDevRuntime"],[213,52,193,12],[213,53,193,12,"jsxDEV"],[213,59,193,12],[213,61,193,13,"Text"],[213,65,193,17],[213,66,193,17,"default"],[213,73,193,17],[214,8,193,18,"style"],[214,13,193,23],[214,15,193,25,"styles"],[214,21,193,31],[214,22,193,32,"status"],[214,28,193,39],[215,8,193,39,"children"],[215,16,193,39],[215,18,193,41,"status"],[216,6,193,47],[217,8,193,47,"fileName"],[217,16,193,47],[217,18,193,47,"_jsxFileName"],[217,30,193,47],[218,8,193,47,"lineNumber"],[218,18,193,47],[219,8,193,47,"columnNumber"],[219,20,193,47],[220,6,193,47],[220,13,193,54],[220,14,193,55],[220,16,194,13,"error"],[220,21,194,18],[220,38,194,22],[220,42,194,22,"_reactJsxDevRuntime"],[220,61,194,22],[220,62,194,22,"jsxDEV"],[220,68,194,22],[220,70,194,23,"Text"],[220,74,194,27],[220,75,194,27,"default"],[220,82,194,27],[221,8,194,28,"style"],[221,13,194,33],[221,15,194,35,"styles"],[221,21,194,41],[221,22,194,42,"error"],[221,27,194,48],[222,8,194,48,"children"],[222,16,194,48],[222,18,194,50,"error"],[223,6,194,55],[224,8,194,55,"fileName"],[224,16,194,55],[224,18,194,55,"_jsxFileName"],[224,30,194,55],[225,8,194,55,"lineNumber"],[225,18,194,55],[226,8,194,55,"columnNumber"],[226,20,194,55],[227,6,194,55],[227,13,194,62],[227,14,194,63],[228,4,194,63],[229,6,194,63,"fileName"],[229,14,194,63],[229,16,194,63,"_jsxFileName"],[229,28,194,63],[230,6,194,63,"lineNumber"],[230,16,194,63],[231,6,194,63,"columnNumber"],[231,18,194,63],[232,4,194,63],[232,11,195,14],[232,12,195,15],[233,2,197,0],[234,2,197,1,"_s"],[234,4,197,1],[234,5,9,24,"AuthCallbackScreen"],[234,23,9,42],[235,4,9,42],[235,12,10,19,"useLocalSearchParams"],[235,23,10,39],[235,24,10,39,"useLocalSearchParams"],[235,44,10,39],[236,2,10,39],[237,2,10,39,"_c"],[237,4,10,39],[237,7,9,24,"AuthCallbackScreen"],[237,25,9,42],[238,2,199,0],[238,8,199,6,"styles"],[238,14,199,12],[238,17,199,15,"StyleSheet"],[238,27,199,25],[238,28,199,25,"default"],[238,35,199,25],[238,36,199,26,"create"],[238,42,199,32],[238,43,199,33],[239,4,200,4,"container"],[239,13,200,13],[239,15,200,15],[240,6,201,8,"flex"],[240,10,201,12],[240,12,201,14],[240,13,201,15],[241,6,202,8,"backgroundColor"],[241,21,202,23],[241,23,202,25],[241,32,202,34],[242,6,203,8,"justifyContent"],[242,20,203,22],[242,22,203,24],[242,30,203,32],[243,6,204,8,"alignItems"],[243,16,204,18],[243,18,204,20],[243,26,204,28],[244,6,205,8,"padding"],[244,13,205,15],[244,15,205,17],[245,4,206,4],[245,5,206,5],[246,4,207,4,"status"],[246,10,207,10],[246,12,207,12],[247,6,208,8,"color"],[247,11,208,13],[247,13,208,15],[247,19,208,21],[248,6,209,8,"fontSize"],[248,14,209,16],[248,16,209,18],[248,18,209,20],[249,6,210,8,"marginTop"],[249,15,210,17],[249,17,210,19],[249,19,210,21],[250,6,211,8,"textAlign"],[250,15,211,17],[250,17,211,19],[251,4,212,4],[251,5,212,5],[252,4,213,4,"error"],[252,9,213,9],[252,11,213,11],[253,6,214,8,"color"],[253,11,214,13],[253,13,214,15],[253,22,214,24],[254,6,215,8,"fontSize"],[254,14,215,16],[254,16,215,18],[254,18,215,20],[255,6,216,8,"marginTop"],[255,15,216,17],[255,17,216,19],[255,19,216,21],[256,6,217,8,"textAlign"],[256,15,217,17],[256,17,217,19],[257,4,218,4],[258,2,219,0],[258,3,219,1],[258,4,219,2],[259,2,219,3],[259,6,219,3,"_c"],[259,8,219,3],[260,2,219,3,"$RefreshReg$"],[260,14,219,3],[260,15,219,3,"_c"],[260,17,219,3],[261,0,219,3],[261,3]],"functionMap":{"names":["<global>","AuthCallbackScreen","useEffect$argument_0","handleCallback","Promise$argument_0","setTimeout$argument_0"],"mappings":"AAA;eCQ;cCM;KDM;2BEE;kCCoD,oCD;sCCqC,mCD;sCC0B,mCD;sCCiB,oCD;kCCa,oCD;uBEkB,6BF;KFE;CDS"},"hasCjsExports":false},"type":"js/module"}]}