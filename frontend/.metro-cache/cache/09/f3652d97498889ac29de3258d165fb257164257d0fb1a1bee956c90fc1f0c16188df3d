{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":66},"end":{"line":2,"column":33,"index":99}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../services/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":100},"end":{"line":3,"column":48,"index":148}}],"key":"KPiafkkHXMyy0AQm6tuLQc7uw64=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":149},"end":{"line":4,"column":69,"index":218}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useExtractionStore\", {\n    enumerable: true,\n    get: function () {\n      return useExtractionStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _servicesSupabase = require(_dependencyMap[1], \"../services/supabase\");\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  // Unified extraction store with Supabase persistence and polling\n\n  // Map Supabase row to Extraction interface\n  const mapToExtraction = row => ({\n    id: row.id,\n    url: row.source_url,\n    status: row.status,\n    images: row.extracted_images || undefined,\n    selectedImage: row.selected_image_url || undefined,\n    analysis: row.analysis_result || undefined,\n    error: row.error_message || undefined,\n    createdAt: new Date(row.created_at).getTime(),\n    updatedAt: new Date(row.updated_at).getTime()\n  });\n  const useExtractionStore = (0, _zustand.create)()((set, get) => ({\n    extractions: [],\n    isPolling: false,\n    pollingInterval: null,\n    queueExtraction: async (url, userId) => {\n      try {\n        // Insert into Supabase\n        const {\n          data,\n          error\n        } = await _servicesSupabase.supabase.from('extraction_jobs').insert({\n          user_id: userId,\n          source_url: url,\n          status: 'pending'\n        }).select().single();\n        if (error) {\n          console.error('[EXTRACTION_STORE] Failed to create job:', error);\n          return null;\n        }\n\n        // Add to local state immediately\n        const newExtraction = mapToExtraction(data);\n        set(state => ({\n          extractions: [newExtraction, ...state.extractions]\n        }));\n\n        // Fire-and-forget trigger to backend\n        (0, _servicesApi.triggerExtraction)(data.id);\n        return data.id;\n      } catch (error) {\n        console.error('[EXTRACTION_STORE] Queue extraction error:', error);\n        return null;\n      }\n    },\n    fetchExtractions: async userId => {\n      try {\n        const {\n          data,\n          error\n        } = await _servicesSupabase.supabase.from('extraction_jobs').select('*').eq('user_id', userId).order('created_at', {\n          ascending: false\n        }).limit(50);\n        if (error) {\n          console.error('[EXTRACTION_STORE] Failed to fetch extractions:', error);\n          return;\n        }\n        const extractions = (data || []).map(mapToExtraction);\n        set({\n          extractions\n        });\n      } catch (error) {\n        console.error('[EXTRACTION_STORE] Fetch error:', error);\n      }\n    },\n    startPolling: userId => {\n      const {\n        isPolling,\n        pollingInterval\n      } = get();\n\n      // Don't start if already polling\n      if (isPolling || pollingInterval) return;\n      console.log('[EXTRACTION_STORE] Starting polling for user:', userId);\n      set({\n        isPolling: true\n      });\n\n      // Initial fetch\n      get().fetchExtractions(userId);\n\n      // Poll every 3 seconds - always fetch to catch updates\n      const interval = setInterval(() => {\n        console.log('[EXTRACTION_STORE] Polling...');\n        get().fetchExtractions(userId);\n      }, 3000);\n      set({\n        pollingInterval: interval\n      });\n    },\n    stopPolling: () => {\n      const {\n        pollingInterval\n      } = get();\n      if (pollingInterval) {\n        console.log('[EXTRACTION_STORE] Stopping polling');\n        clearInterval(pollingInterval);\n        set({\n          isPolling: false,\n          pollingInterval: null\n        });\n      }\n    },\n    selectImage: async (id, imageUrl) => {\n      const extraction = get().extractions.find(e => e.id === id);\n      // Allow selection if status is 'ready' OR 'failed' with images (retry scenario)\n      if (!extraction) return;\n      if (extraction.status !== 'ready' && extraction.status !== 'failed') return;\n      if (!extraction.images?.length) return;\n\n      // Optimistically update local state\n      set(state => ({\n        extractions: state.extractions.map(e => e.id === id ? {\n          ...e,\n          status: 'analyzing',\n          selectedImage: imageUrl,\n          error: undefined,\n          updatedAt: Date.now()\n        } : e)\n      }));\n\n      // Update Supabase to reset error and set analyzing status\n      await _servicesSupabase.supabase.from('extraction_jobs').update({\n        status: 'analyzing',\n        selected_image_url: imageUrl,\n        error_message: null\n      }).eq('id', id);\n\n      // Fire-and-forget trigger to backend\n      (0, _servicesApi.triggerAnalysis)(id, imageUrl);\n    },\n    retryExtraction: async id => {\n      const extraction = get().extractions.find(e => e.id === id);\n      if (!extraction || extraction.status !== 'failed') return;\n\n      // If has images, reset to 'ready' so user can select again\n      if (extraction.images?.length) {\n        set(state => ({\n          extractions: state.extractions.map(e => e.id === id ? {\n            ...e,\n            status: 'ready',\n            error: undefined,\n            updatedAt: Date.now()\n          } : e)\n        }));\n\n        // Update Supabase\n        await _servicesSupabase.supabase.from('extraction_jobs').update({\n          status: 'ready',\n          error_message: null\n        }).eq('id', id);\n      } else {\n        // No images, need to re-extract - reset to pending\n        set(state => ({\n          extractions: state.extractions.map(e => e.id === id ? {\n            ...e,\n            status: 'pending',\n            error: undefined,\n            updatedAt: Date.now()\n          } : e)\n        }));\n\n        // Update Supabase and trigger extraction again\n        await _servicesSupabase.supabase.from('extraction_jobs').update({\n          status: 'pending',\n          error_message: null\n        }).eq('id', id);\n        (0, _servicesApi.triggerExtraction)(id);\n      }\n    },\n    removeExtraction: async id => {\n      try {\n        // Delete from Supabase\n        const {\n          error\n        } = await _servicesSupabase.supabase.from('extraction_jobs').delete().eq('id', id);\n        if (error) {\n          console.error('[EXTRACTION_STORE] Failed to delete:', error);\n          return;\n        }\n\n        // Remove from local state\n        set(state => ({\n          extractions: state.extractions.filter(e => e.id !== id)\n        }));\n      } catch (error) {\n        console.error('[EXTRACTION_STORE] Delete error:', error);\n      }\n    },\n    clearCompleted: async userId => {\n      try {\n        // Delete completed/failed from Supabase\n        const {\n          error\n        } = await _servicesSupabase.supabase.from('extraction_jobs').delete().eq('user_id', userId).in('status', ['completed', 'failed']);\n        if (error) {\n          console.error('[EXTRACTION_STORE] Failed to clear completed:', error);\n          return;\n        }\n\n        // Remove from local state\n        set(state => ({\n          extractions: state.extractions.filter(e => e.status !== 'completed' && e.status !== 'failed')\n        }));\n      } catch (error) {\n        console.error('[EXTRACTION_STORE] Clear completed error:', error);\n      }\n    },\n    getExtraction: id => get().extractions.find(e => e.id === id)\n  }));\n});","lineCount":229,"map":[[7,2,85,0,"Object"],[7,8,85,0],[7,9,85,0,"defineProperty"],[7,23,85,0],[7,24,85,0,"exports"],[7,31,85,0],[8,4,85,0,"enumerable"],[8,14,85,0],[9,4,85,0,"get"],[9,7,85,0],[9,18,85,0,"get"],[9,19,85,0],[10,6,85,0],[10,13,85,0,"useExtractionStore"],[10,31,85,0],[11,4,85,0],[12,2,85,0],[13,2,2,0],[13,6,2,0,"_zustand"],[13,14,2,0],[13,17,2,0,"require"],[13,24,2,0],[13,25,2,0,"_dependencyMap"],[13,39,2,0],[14,2,3,0],[14,6,3,0,"_servicesSupabase"],[14,23,3,0],[14,26,3,0,"require"],[14,33,3,0],[14,34,3,0,"_dependencyMap"],[14,48,3,0],[15,2,4,0],[15,6,4,0,"_servicesApi"],[15,18,4,0],[15,21,4,0,"require"],[15,28,4,0],[15,29,4,0,"_dependencyMap"],[15,43,4,0],[16,2,1,0],[18,2,72,0],[19,2,73,0],[19,8,73,6,"mapToExtraction"],[19,23,73,21],[19,26,73,25,"row"],[19,29,73,33],[19,34,73,51],[20,4,74,4,"id"],[20,6,74,6],[20,8,74,8,"row"],[20,11,74,11],[20,12,74,12,"id"],[20,14,74,14],[21,4,75,4,"url"],[21,7,75,7],[21,9,75,9,"row"],[21,12,75,12],[21,13,75,13,"source_url"],[21,23,75,23],[22,4,76,4,"status"],[22,10,76,10],[22,12,76,12,"row"],[22,15,76,15],[22,16,76,16,"status"],[22,22,76,42],[23,4,77,4,"images"],[23,10,77,10],[23,12,77,12,"row"],[23,15,77,15],[23,16,77,16,"extracted_images"],[23,32,77,32],[23,36,77,36,"undefined"],[23,45,77,45],[24,4,78,4,"selectedImage"],[24,17,78,17],[24,19,78,19,"row"],[24,22,78,22],[24,23,78,23,"selected_image_url"],[24,41,78,41],[24,45,78,45,"undefined"],[24,54,78,54],[25,4,79,4,"analysis"],[25,12,79,12],[25,14,79,14,"row"],[25,17,79,17],[25,18,79,18,"analysis_result"],[25,33,79,33],[25,37,79,37,"undefined"],[25,46,79,46],[26,4,80,4,"error"],[26,9,80,9],[26,11,80,11,"row"],[26,14,80,14],[26,15,80,15,"error_message"],[26,28,80,28],[26,32,80,32,"undefined"],[26,41,80,41],[27,4,81,4,"createdAt"],[27,13,81,13],[27,15,81,15],[27,19,81,19,"Date"],[27,23,81,23],[27,24,81,24,"row"],[27,27,81,27],[27,28,81,28,"created_at"],[27,38,81,38],[27,39,81,39],[27,40,81,40,"getTime"],[27,47,81,47],[27,48,81,48],[27,49,81,49],[28,4,82,4,"updatedAt"],[28,13,82,13],[28,15,82,15],[28,19,82,19,"Date"],[28,23,82,23],[28,24,82,24,"row"],[28,27,82,27],[28,28,82,28,"updated_at"],[28,38,82,38],[28,39,82,39],[28,40,82,40,"getTime"],[28,47,82,47],[28,48,82,48],[29,2,83,0],[29,3,83,1],[29,4,83,2],[30,2,85,7],[30,8,85,13,"useExtractionStore"],[30,26,85,31],[30,29,85,34],[30,33,85,34,"create"],[30,41,85,40],[30,42,85,40,"create"],[30,48,85,40],[30,50,85,58],[30,51,85,59],[30,52,85,60],[30,53,85,61,"set"],[30,56,85,64],[30,58,85,66,"get"],[30,61,85,69],[30,67,85,75],[31,4,86,4,"extractions"],[31,15,86,15],[31,17,86,17],[31,19,86,19],[32,4,87,4,"isPolling"],[32,13,87,13],[32,15,87,15],[32,20,87,20],[33,4,88,4,"pollingInterval"],[33,19,88,19],[33,21,88,21],[33,25,88,25],[34,4,90,4,"queueExtraction"],[34,19,90,19],[34,21,90,21],[34,27,90,21,"queueExtraction"],[34,28,90,28,"url"],[34,31,90,39],[34,33,90,41,"userId"],[34,39,90,55],[34,44,90,60],[35,6,91,8],[35,10,91,12],[36,8,92,12],[37,8,93,12],[37,14,93,18],[38,10,93,20,"data"],[38,14,93,24],[39,10,93,26,"error"],[40,8,93,32],[40,9,93,33],[40,12,93,36],[40,18,93,42,"supabase"],[40,35,93,50],[40,36,93,50,"supabase"],[40,44,93,50],[40,45,94,17,"from"],[40,49,94,21],[40,50,94,22],[40,67,94,39],[40,68,94,40],[40,69,95,17,"insert"],[40,75,95,23],[40,76,95,24],[41,10,96,20,"user_id"],[41,17,96,27],[41,19,96,29,"userId"],[41,25,96,35],[42,10,97,20,"source_url"],[42,20,97,30],[42,22,97,32,"url"],[42,25,97,35],[43,10,98,20,"status"],[43,16,98,26],[43,18,98,28],[44,8,99,16],[44,9,99,17],[44,10,99,18],[44,11,100,17,"select"],[44,17,100,23],[44,18,100,24],[44,19,100,25],[44,20,101,17,"single"],[44,26,101,23],[44,27,101,24],[44,28,101,25],[45,8,103,12],[45,12,103,16,"error"],[45,17,103,21],[45,19,103,23],[46,10,104,16,"console"],[46,17,104,23],[46,18,104,24,"error"],[46,23,104,29],[46,24,104,30],[46,66,104,72],[46,68,104,74,"error"],[46,73,104,79],[46,74,104,80],[47,10,105,16],[47,17,105,23],[47,21,105,27],[48,8,106,12],[50,8,108,12],[51,8,109,12],[51,14,109,18,"newExtraction"],[51,27,109,31],[51,30,109,34,"mapToExtraction"],[51,45,109,49],[51,46,109,50,"data"],[51,50,109,54],[51,51,109,55],[52,8,110,12,"set"],[52,11,110,15],[52,12,110,16,"state"],[52,17,110,21],[52,22,110,26],[53,10,111,16,"extractions"],[53,21,111,27],[53,23,111,29],[53,24,111,30,"newExtraction"],[53,37,111,43],[53,39,111,45],[53,42,111,48,"state"],[53,47,111,53],[53,48,111,54,"extractions"],[53,59,111,65],[54,8,112,12],[54,9,112,13],[54,10,112,14],[54,11,112,15],[56,8,114,12],[57,8,115,12],[57,12,115,12,"triggerExtraction"],[57,24,115,29],[57,25,115,29,"triggerExtraction"],[57,42,115,29],[57,44,115,30,"data"],[57,48,115,34],[57,49,115,35,"id"],[57,51,115,37],[57,52,115,38],[58,8,117,12],[58,15,117,19,"data"],[58,19,117,23],[58,20,117,24,"id"],[58,22,117,26],[59,6,118,8],[59,7,118,9],[59,8,118,10],[59,15,118,17,"error"],[59,20,118,27],[59,22,118,29],[60,8,119,12,"console"],[60,15,119,19],[60,16,119,20,"error"],[60,21,119,25],[60,22,119,26],[60,66,119,70],[60,68,119,72,"error"],[60,73,119,77],[60,74,119,78],[61,8,120,12],[61,15,120,19],[61,19,120,23],[62,6,121,8],[63,4,122,4],[63,5,122,5],[64,4,124,4,"fetchExtractions"],[64,20,124,20],[64,22,124,22],[64,28,124,29,"userId"],[64,34,124,43],[64,38,124,48],[65,6,125,8],[65,10,125,12],[66,8,126,12],[66,14,126,18],[67,10,126,20,"data"],[67,14,126,24],[68,10,126,26,"error"],[69,8,126,32],[69,9,126,33],[69,12,126,36],[69,18,126,42,"supabase"],[69,35,126,50],[69,36,126,50,"supabase"],[69,44,126,50],[69,45,127,17,"from"],[69,49,127,21],[69,50,127,22],[69,67,127,39],[69,68,127,40],[69,69,128,17,"select"],[69,75,128,23],[69,76,128,24],[69,79,128,27],[69,80,128,28],[69,81,129,17,"eq"],[69,83,129,19],[69,84,129,20],[69,93,129,29],[69,95,129,31,"userId"],[69,101,129,37],[69,102,129,38],[69,103,130,17,"order"],[69,108,130,22],[69,109,130,23],[69,121,130,35],[69,123,130,37],[70,10,130,39,"ascending"],[70,19,130,48],[70,21,130,50],[71,8,130,56],[71,9,130,57],[71,10,130,58],[71,11,131,17,"limit"],[71,16,131,22],[71,17,131,23],[71,19,131,25],[71,20,131,26],[72,8,133,12],[72,12,133,16,"error"],[72,17,133,21],[72,19,133,23],[73,10,134,16,"console"],[73,17,134,23],[73,18,134,24,"error"],[73,23,134,29],[73,24,134,30],[73,73,134,79],[73,75,134,81,"error"],[73,80,134,86],[73,81,134,87],[74,10,135,16],[75,8,136,12],[76,8,138,12],[76,14,138,18,"extractions"],[76,25,138,29],[76,28,138,32],[76,29,138,33,"data"],[76,33,138,37],[76,37,138,41],[76,39,138,43],[76,41,138,45,"map"],[76,44,138,48],[76,45,138,49,"mapToExtraction"],[76,60,138,64],[76,61,138,65],[77,8,139,12,"set"],[77,11,139,15],[77,12,139,16],[78,10,139,18,"extractions"],[79,8,139,30],[79,9,139,31],[79,10,139,32],[80,6,140,8],[80,7,140,9],[80,8,140,10],[80,15,140,17,"error"],[80,20,140,27],[80,22,140,29],[81,8,141,12,"console"],[81,15,141,19],[81,16,141,20,"error"],[81,21,141,25],[81,22,141,26],[81,55,141,59],[81,57,141,61,"error"],[81,62,141,66],[81,63,141,67],[82,6,142,8],[83,4,143,4],[83,5,143,5],[84,4,145,4,"startPolling"],[84,16,145,16],[84,18,145,19,"userId"],[84,24,145,33],[84,28,145,38],[85,6,146,8],[85,12,146,14],[86,8,146,16,"isPolling"],[86,17,146,25],[87,8,146,27,"pollingInterval"],[88,6,146,43],[88,7,146,44],[88,10,146,47,"get"],[88,13,146,50],[88,14,146,51],[88,15,146,52],[90,6,148,8],[91,6,149,8],[91,10,149,12,"isPolling"],[91,19,149,21],[91,23,149,25,"pollingInterval"],[91,38,149,40],[91,40,149,42],[92,6,151,8,"console"],[92,13,151,15],[92,14,151,16,"log"],[92,17,151,19],[92,18,151,20],[92,65,151,67],[92,67,151,69,"userId"],[92,73,151,75],[92,74,151,76],[93,6,152,8,"set"],[93,9,152,11],[93,10,152,12],[94,8,152,14,"isPolling"],[94,17,152,23],[94,19,152,25],[95,6,152,30],[95,7,152,31],[95,8,152,32],[97,6,154,8],[98,6,155,8,"get"],[98,9,155,11],[98,10,155,12],[98,11,155,13],[98,12,155,14,"fetchExtractions"],[98,28,155,30],[98,29,155,31,"userId"],[98,35,155,37],[98,36,155,38],[100,6,157,8],[101,6,158,8],[101,12,158,14,"interval"],[101,20,158,22],[101,23,158,25,"setInterval"],[101,34,158,36],[101,35,158,37],[101,41,158,43],[102,8,159,12,"console"],[102,15,159,19],[102,16,159,20,"log"],[102,19,159,23],[102,20,159,24],[102,51,159,55],[102,52,159,56],[103,8,160,12,"get"],[103,11,160,15],[103,12,160,16],[103,13,160,17],[103,14,160,18,"fetchExtractions"],[103,30,160,34],[103,31,160,35,"userId"],[103,37,160,41],[103,38,160,42],[104,6,161,8],[104,7,161,9],[104,9,161,11],[104,13,161,15],[104,14,161,16],[105,6,163,8,"set"],[105,9,163,11],[105,10,163,12],[106,8,163,14,"pollingInterval"],[106,23,163,29],[106,25,163,31,"interval"],[107,6,163,40],[107,7,163,41],[107,8,163,42],[108,4,164,4],[108,5,164,5],[109,4,166,4,"stopPolling"],[109,15,166,15],[109,17,166,17,"stopPolling"],[109,18,166,17],[109,23,166,23],[110,6,167,8],[110,12,167,14],[111,8,167,16,"pollingInterval"],[112,6,167,32],[112,7,167,33],[112,10,167,36,"get"],[112,13,167,39],[112,14,167,40],[112,15,167,41],[113,6,168,8],[113,10,168,12,"pollingInterval"],[113,25,168,27],[113,27,168,29],[114,8,169,12,"console"],[114,15,169,19],[114,16,169,20,"log"],[114,19,169,23],[114,20,169,24],[114,57,169,61],[114,58,169,62],[115,8,170,12,"clearInterval"],[115,21,170,25],[115,22,170,26,"pollingInterval"],[115,37,170,41],[115,38,170,42],[116,8,171,12,"set"],[116,11,171,15],[116,12,171,16],[117,10,171,18,"isPolling"],[117,19,171,27],[117,21,171,29],[117,26,171,34],[118,10,171,36,"pollingInterval"],[118,25,171,51],[118,27,171,53],[119,8,171,58],[119,9,171,59],[119,10,171,60],[120,6,172,8],[121,4,173,4],[121,5,173,5],[122,4,175,4,"selectImage"],[122,15,175,15],[122,17,175,17],[122,23,175,17,"selectImage"],[122,24,175,24,"id"],[122,26,175,34],[122,28,175,36,"imageUrl"],[122,36,175,52],[122,41,175,57],[123,6,176,8],[123,12,176,14,"extraction"],[123,22,176,24],[123,25,176,27,"get"],[123,28,176,30],[123,29,176,31],[123,30,176,32],[123,31,176,33,"extractions"],[123,42,176,44],[123,43,176,45,"find"],[123,47,176,49],[123,48,176,50,"e"],[123,49,176,51],[123,53,176,55,"e"],[123,54,176,56],[123,55,176,57,"id"],[123,57,176,59],[123,62,176,64,"id"],[123,64,176,66],[123,65,176,67],[124,6,177,8],[125,6,178,8],[125,10,178,12],[125,11,178,13,"extraction"],[125,21,178,23],[125,23,178,25],[126,6,179,8],[126,10,179,12,"extraction"],[126,20,179,22],[126,21,179,23,"status"],[126,27,179,29],[126,32,179,34],[126,39,179,41],[126,43,179,45,"extraction"],[126,53,179,55],[126,54,179,56,"status"],[126,60,179,62],[126,65,179,67],[126,73,179,75],[126,75,179,77],[127,6,180,8],[127,10,180,12],[127,11,180,13,"extraction"],[127,21,180,23],[127,22,180,24,"images"],[127,28,180,30],[127,30,180,32,"length"],[127,36,180,38],[127,38,180,40],[129,6,182,8],[130,6,183,8,"set"],[130,9,183,11],[130,10,183,12,"state"],[130,15,183,17],[130,20,183,22],[131,8,184,12,"extractions"],[131,19,184,23],[131,21,184,25,"state"],[131,26,184,30],[131,27,184,31,"extractions"],[131,38,184,42],[131,39,184,43,"map"],[131,42,184,46],[131,43,184,47,"e"],[131,44,184,48],[131,48,185,16,"e"],[131,49,185,17],[131,50,185,18,"id"],[131,52,185,20],[131,57,185,25,"id"],[131,59,185,27],[131,62,186,22],[132,10,186,24],[132,13,186,27,"e"],[132,14,186,28],[133,10,186,30,"status"],[133,16,186,36],[133,18,186,38],[133,29,186,58],[134,10,186,60,"selectedImage"],[134,23,186,73],[134,25,186,75,"imageUrl"],[134,33,186,83],[135,10,186,85,"error"],[135,15,186,90],[135,17,186,92,"undefined"],[135,26,186,101],[136,10,186,103,"updatedAt"],[136,19,186,112],[136,21,186,114,"Date"],[136,25,186,118],[136,26,186,119,"now"],[136,29,186,122],[136,30,186,123],[137,8,186,125],[137,9,186,126],[137,12,187,22,"e"],[137,13,188,12],[138,6,189,8],[138,7,189,9],[138,8,189,10],[138,9,189,11],[140,6,191,8],[141,6,192,8],[141,12,192,14,"supabase"],[141,29,192,22],[141,30,192,22,"supabase"],[141,38,192,22],[141,39,193,13,"from"],[141,43,193,17],[141,44,193,18],[141,61,193,35],[141,62,193,36],[141,63,194,13,"update"],[141,69,194,19],[141,70,194,20],[142,8,195,16,"status"],[142,14,195,22],[142,16,195,24],[142,27,195,35],[143,8,196,16,"selected_image_url"],[143,26,196,34],[143,28,196,36,"imageUrl"],[143,36,196,44],[144,8,197,16,"error_message"],[144,21,197,29],[144,23,197,31],[145,6,198,12],[145,7,198,13],[145,8,198,14],[145,9,199,13,"eq"],[145,11,199,15],[145,12,199,16],[145,16,199,20],[145,18,199,22,"id"],[145,20,199,24],[145,21,199,25],[147,6,201,8],[148,6,202,8],[148,10,202,8,"triggerAnalysis"],[148,22,202,23],[148,23,202,23,"triggerAnalysis"],[148,38,202,23],[148,40,202,24,"id"],[148,42,202,26],[148,44,202,28,"imageUrl"],[148,52,202,36],[148,53,202,37],[149,4,203,4],[149,5,203,5],[150,4,205,4,"retryExtraction"],[150,19,205,19],[150,21,205,21],[150,27,205,28,"id"],[150,29,205,38],[150,33,205,43],[151,6,206,8],[151,12,206,14,"extraction"],[151,22,206,24],[151,25,206,27,"get"],[151,28,206,30],[151,29,206,31],[151,30,206,32],[151,31,206,33,"extractions"],[151,42,206,44],[151,43,206,45,"find"],[151,47,206,49],[151,48,206,50,"e"],[151,49,206,51],[151,53,206,55,"e"],[151,54,206,56],[151,55,206,57,"id"],[151,57,206,59],[151,62,206,64,"id"],[151,64,206,66],[151,65,206,67],[152,6,207,8],[152,10,207,12],[152,11,207,13,"extraction"],[152,21,207,23],[152,25,207,27,"extraction"],[152,35,207,37],[152,36,207,38,"status"],[152,42,207,44],[152,47,207,49],[152,55,207,57],[152,57,207,59],[154,6,209,8],[155,6,210,8],[155,10,210,12,"extraction"],[155,20,210,22],[155,21,210,23,"images"],[155,27,210,29],[155,29,210,31,"length"],[155,35,210,37],[155,37,210,39],[156,8,211,12,"set"],[156,11,211,15],[156,12,211,16,"state"],[156,17,211,21],[156,22,211,26],[157,10,212,16,"extractions"],[157,21,212,27],[157,23,212,29,"state"],[157,28,212,34],[157,29,212,35,"extractions"],[157,40,212,46],[157,41,212,47,"map"],[157,44,212,50],[157,45,212,51,"e"],[157,46,212,52],[157,50,213,20,"e"],[157,51,213,21],[157,52,213,22,"id"],[157,54,213,24],[157,59,213,29,"id"],[157,61,213,31],[157,64,214,26],[158,12,214,28],[158,15,214,31,"e"],[158,16,214,32],[159,12,214,34,"status"],[159,18,214,40],[159,20,214,42],[159,27,214,58],[160,12,214,60,"error"],[160,17,214,65],[160,19,214,67,"undefined"],[160,28,214,76],[161,12,214,78,"updatedAt"],[161,21,214,87],[161,23,214,89,"Date"],[161,27,214,93],[161,28,214,94,"now"],[161,31,214,97],[161,32,214,98],[162,10,214,100],[162,11,214,101],[162,14,215,26,"e"],[162,15,216,16],[163,8,217,12],[163,9,217,13],[163,10,217,14],[163,11,217,15],[165,8,219,12],[166,8,220,12],[166,14,220,18,"supabase"],[166,31,220,26],[166,32,220,26,"supabase"],[166,40,220,26],[166,41,221,17,"from"],[166,45,221,21],[166,46,221,22],[166,63,221,39],[166,64,221,40],[166,65,222,17,"update"],[166,71,222,23],[166,72,222,24],[167,10,222,26,"status"],[167,16,222,32],[167,18,222,34],[167,25,222,41],[168,10,222,43,"error_message"],[168,23,222,56],[168,25,222,58],[169,8,222,63],[169,9,222,64],[169,10,222,65],[169,11,223,17,"eq"],[169,13,223,19],[169,14,223,20],[169,18,223,24],[169,20,223,26,"id"],[169,22,223,28],[169,23,223,29],[170,6,224,8],[170,7,224,9],[170,13,224,15],[171,8,225,12],[172,8,226,12,"set"],[172,11,226,15],[172,12,226,16,"state"],[172,17,226,21],[172,22,226,26],[173,10,227,16,"extractions"],[173,21,227,27],[173,23,227,29,"state"],[173,28,227,34],[173,29,227,35,"extractions"],[173,40,227,46],[173,41,227,47,"map"],[173,44,227,50],[173,45,227,51,"e"],[173,46,227,52],[173,50,228,20,"e"],[173,51,228,21],[173,52,228,22,"id"],[173,54,228,24],[173,59,228,29,"id"],[173,61,228,31],[173,64,229,26],[174,12,229,28],[174,15,229,31,"e"],[174,16,229,32],[175,12,229,34,"status"],[175,18,229,40],[175,20,229,42],[175,29,229,60],[176,12,229,62,"error"],[176,17,229,67],[176,19,229,69,"undefined"],[176,28,229,78],[177,12,229,80,"updatedAt"],[177,21,229,89],[177,23,229,91,"Date"],[177,27,229,95],[177,28,229,96,"now"],[177,31,229,99],[177,32,229,100],[178,10,229,102],[178,11,229,103],[178,14,230,26,"e"],[178,15,231,16],[179,8,232,12],[179,9,232,13],[179,10,232,14],[179,11,232,15],[181,8,234,12],[182,8,235,12],[182,14,235,18,"supabase"],[182,31,235,26],[182,32,235,26,"supabase"],[182,40,235,26],[182,41,236,17,"from"],[182,45,236,21],[182,46,236,22],[182,63,236,39],[182,64,236,40],[182,65,237,17,"update"],[182,71,237,23],[182,72,237,24],[183,10,237,26,"status"],[183,16,237,32],[183,18,237,34],[183,27,237,43],[184,10,237,45,"error_message"],[184,23,237,58],[184,25,237,60],[185,8,237,65],[185,9,237,66],[185,10,237,67],[185,11,238,17,"eq"],[185,13,238,19],[185,14,238,20],[185,18,238,24],[185,20,238,26,"id"],[185,22,238,28],[185,23,238,29],[186,8,240,12],[186,12,240,12,"triggerExtraction"],[186,24,240,29],[186,25,240,29,"triggerExtraction"],[186,42,240,29],[186,44,240,30,"id"],[186,46,240,32],[186,47,240,33],[187,6,241,8],[188,4,242,4],[188,5,242,5],[189,4,244,4,"removeExtraction"],[189,20,244,20],[189,22,244,22],[189,28,244,29,"id"],[189,30,244,39],[189,34,244,44],[190,6,245,8],[190,10,245,12],[191,8,246,12],[192,8,247,12],[192,14,247,18],[193,10,247,20,"error"],[194,8,247,26],[194,9,247,27],[194,12,247,30],[194,18,247,36,"supabase"],[194,35,247,44],[194,36,247,44,"supabase"],[194,44,247,44],[194,45,248,17,"from"],[194,49,248,21],[194,50,248,22],[194,67,248,39],[194,68,248,40],[194,69,249,17,"delete"],[194,75,249,23],[194,76,249,24],[194,77,249,25],[194,78,250,17,"eq"],[194,80,250,19],[194,81,250,20],[194,85,250,24],[194,87,250,26,"id"],[194,89,250,28],[194,90,250,29],[195,8,252,12],[195,12,252,16,"error"],[195,17,252,21],[195,19,252,23],[196,10,253,16,"console"],[196,17,253,23],[196,18,253,24,"error"],[196,23,253,29],[196,24,253,30],[196,62,253,68],[196,64,253,70,"error"],[196,69,253,75],[196,70,253,76],[197,10,254,16],[198,8,255,12],[200,8,257,12],[201,8,258,12,"set"],[201,11,258,15],[201,12,258,16,"state"],[201,17,258,21],[201,22,258,26],[202,10,259,16,"extractions"],[202,21,259,27],[202,23,259,29,"state"],[202,28,259,34],[202,29,259,35,"extractions"],[202,40,259,46],[202,41,259,47,"filter"],[202,47,259,53],[202,48,259,54,"e"],[202,49,259,55],[202,53,259,59,"e"],[202,54,259,60],[202,55,259,61,"id"],[202,57,259,63],[202,62,259,68,"id"],[202,64,259,70],[203,8,260,12],[203,9,260,13],[203,10,260,14],[203,11,260,15],[204,6,261,8],[204,7,261,9],[204,8,261,10],[204,15,261,17,"error"],[204,20,261,27],[204,22,261,29],[205,8,262,12,"console"],[205,15,262,19],[205,16,262,20,"error"],[205,21,262,25],[205,22,262,26],[205,56,262,60],[205,58,262,62,"error"],[205,63,262,67],[205,64,262,68],[206,6,263,8],[207,4,264,4],[207,5,264,5],[208,4,266,4,"clearCompleted"],[208,18,266,18],[208,20,266,20],[208,26,266,27,"userId"],[208,32,266,41],[208,36,266,46],[209,6,267,8],[209,10,267,12],[210,8,268,12],[211,8,269,12],[211,14,269,18],[212,10,269,20,"error"],[213,8,269,26],[213,9,269,27],[213,12,269,30],[213,18,269,36,"supabase"],[213,35,269,44],[213,36,269,44,"supabase"],[213,44,269,44],[213,45,270,17,"from"],[213,49,270,21],[213,50,270,22],[213,67,270,39],[213,68,270,40],[213,69,271,17,"delete"],[213,75,271,23],[213,76,271,24],[213,77,271,25],[213,78,272,17,"eq"],[213,80,272,19],[213,81,272,20],[213,90,272,29],[213,92,272,31,"userId"],[213,98,272,37],[213,99,272,38],[213,100,273,17,"in"],[213,102,273,19],[213,103,273,20],[213,111,273,28],[213,113,273,30],[213,114,273,31],[213,125,273,42],[213,127,273,44],[213,135,273,52],[213,136,273,53],[213,137,273,54],[214,8,275,12],[214,12,275,16,"error"],[214,17,275,21],[214,19,275,23],[215,10,276,16,"console"],[215,17,276,23],[215,18,276,24,"error"],[215,23,276,29],[215,24,276,30],[215,71,276,77],[215,73,276,79,"error"],[215,78,276,84],[215,79,276,85],[216,10,277,16],[217,8,278,12],[219,8,280,12],[220,8,281,12,"set"],[220,11,281,15],[220,12,281,16,"state"],[220,17,281,21],[220,22,281,26],[221,10,282,16,"extractions"],[221,21,282,27],[221,23,282,29,"state"],[221,28,282,34],[221,29,282,35,"extractions"],[221,40,282,46],[221,41,282,47,"filter"],[221,47,282,53],[221,48,282,54,"e"],[221,49,282,55],[221,53,283,20,"e"],[221,54,283,21],[221,55,283,22,"status"],[221,61,283,28],[221,66,283,33],[221,77,283,44],[221,81,283,48,"e"],[221,82,283,49],[221,83,283,50,"status"],[221,89,283,56],[221,94,283,61],[221,102,284,16],[222,8,285,12],[222,9,285,13],[222,10,285,14],[222,11,285,15],[223,6,286,8],[223,7,286,9],[223,8,286,10],[223,15,286,17,"error"],[223,20,286,27],[223,22,286,29],[224,8,287,12,"console"],[224,15,287,19],[224,16,287,20,"error"],[224,21,287,25],[224,22,287,26],[224,65,287,69],[224,67,287,71,"error"],[224,72,287,76],[224,73,287,77],[225,6,288,8],[226,4,289,4],[226,5,289,5],[227,4,291,4,"getExtraction"],[227,17,291,17],[227,19,291,20,"id"],[227,21,291,30],[227,25,291,35,"get"],[227,28,291,38],[227,29,291,39],[227,30,291,40],[227,31,291,41,"extractions"],[227,42,291,52],[227,43,291,53,"find"],[227,47,291,57],[227,48,291,58,"e"],[227,49,291,59],[227,53,291,63,"e"],[227,54,291,64],[227,55,291,65,"id"],[227,57,291,67],[227,62,291,72,"id"],[227,64,291,74],[228,2,292,0],[228,3,292,1],[228,4,292,2],[228,5,292,3],[229,0,292,4],[229,3]],"functionMap":{"names":["<global>","mapToExtraction","create$argument_0","queueExtraction","set$argument_0","fetchExtractions","startPolling","setInterval$argument_0","stopPolling","selectImage","get.extractions.find$argument_0","state.extractions.map$argument_0","retryExtraction","removeExtraction","state.extractions.filter$argument_0","clearCompleted","getExtraction"],"mappings":"AAA;wBCwE;EDU;4DEE;qBCK;gBCoB;cDE;KDU;sBGE;KHmB;kBIE;qCCa;SDG;KJG;iBME;KNO;iBOE;kDCC,gBD;YLO;+COC;uBPG;UKE;KPc;qBUE;kDFC,gBE;gBRK;mDOC;2BPG;cQE;gBRS;mDOC;2BPG;cQE;KVU;sBWE;gBTc;sDUC,gBV;cSC;KXI;oBaE;gBXe;sDUC;qEVC;cWE;KbI;mBcE,uCN,gBM,Cd;EFC"},"hasCjsExports":false},"type":"js/module"}]}