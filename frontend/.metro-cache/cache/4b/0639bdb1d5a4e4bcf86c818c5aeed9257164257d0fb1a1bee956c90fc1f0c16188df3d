{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":66},"end":{"line":2,"column":33,"index":99}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../services/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":100},"end":{"line":3,"column":48,"index":148}}],"key":"KPiafkkHXMyy0AQm6tuLQc7uw64=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":149},"end":{"line":4,"column":69,"index":218}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useExtractionStore\", {\n    enumerable: true,\n    get: function () {\n      return useExtractionStore;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _servicesSupabase = require(_dependencyMap[2], \"../services/supabase\");\n  var _servicesApi = require(_dependencyMap[3], \"../services/api\");\n  // Unified extraction store with Supabase persistence and polling\n\n  // Map Supabase row to Extraction interface\n  var mapToExtraction = row => ({\n    id: row.id,\n    url: row.source_url,\n    status: row.status,\n    images: row.extracted_images || undefined,\n    selectedImage: row.selected_image_url || undefined,\n    analysis: row.analysis_result || undefined,\n    error: row.error_message || undefined,\n    createdAt: new Date(row.created_at).getTime(),\n    updatedAt: new Date(row.updated_at).getTime()\n  });\n  var useExtractionStore = (0, _zustand.create)()((set, get) => ({\n    extractions: [],\n    isPolling: false,\n    pollingInterval: null,\n    queueExtraction: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (url, userId) {\n        try {\n          // Insert into Supabase\n          var _yield$supabase$from$ = yield _servicesSupabase.supabase.from('extraction_jobs').insert({\n              user_id: userId,\n              source_url: url,\n              status: 'pending'\n            }).select().single(),\n            data = _yield$supabase$from$.data,\n            error = _yield$supabase$from$.error;\n          if (error) {\n            console.error('[EXTRACTION_STORE] Failed to create job:', error);\n            return null;\n          }\n\n          // Add to local state immediately\n          var newExtraction = mapToExtraction(data);\n          set(state => ({\n            extractions: [newExtraction, ...state.extractions]\n          }));\n\n          // Fire-and-forget trigger to backend\n          (0, _servicesApi.triggerExtraction)(data.id);\n          return data.id;\n        } catch (error) {\n          console.error('[EXTRACTION_STORE] Queue extraction error:', error);\n          return null;\n        }\n      });\n      return function queueExtraction(_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    fetchExtractions: function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* (userId) {\n        try {\n          var _yield$supabase$from$2 = yield _servicesSupabase.supabase.from('extraction_jobs').select('*').eq('user_id', userId).order('created_at', {\n              ascending: false\n            }).limit(50),\n            data = _yield$supabase$from$2.data,\n            error = _yield$supabase$from$2.error;\n          if (error) {\n            console.error('[EXTRACTION_STORE] Failed to fetch extractions:', error);\n            return;\n          }\n          var extractions = (data || []).map(mapToExtraction);\n          set({\n            extractions\n          });\n        } catch (error) {\n          console.error('[EXTRACTION_STORE] Fetch error:', error);\n        }\n      });\n      return function fetchExtractions(_x3) {\n        return _ref2.apply(this, arguments);\n      };\n    }(),\n    startPolling: userId => {\n      var _get = get(),\n        isPolling = _get.isPolling,\n        pollingInterval = _get.pollingInterval;\n\n      // Don't start if already polling\n      if (isPolling || pollingInterval) return;\n      console.log('[EXTRACTION_STORE] Starting polling for user:', userId);\n      set({\n        isPolling: true\n      });\n\n      // Initial fetch\n      get().fetchExtractions(userId);\n\n      // Poll every 3 seconds - always fetch to catch updates\n      var interval = setInterval(() => {\n        console.log('[EXTRACTION_STORE] Polling...');\n        get().fetchExtractions(userId);\n      }, 3000);\n      set({\n        pollingInterval: interval\n      });\n    },\n    stopPolling: () => {\n      var _get2 = get(),\n        pollingInterval = _get2.pollingInterval;\n      if (pollingInterval) {\n        console.log('[EXTRACTION_STORE] Stopping polling');\n        clearInterval(pollingInterval);\n        set({\n          isPolling: false,\n          pollingInterval: null\n        });\n      }\n    },\n    selectImage: function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* (id, imageUrl) {\n        var extraction = get().extractions.find(e => e.id === id);\n        // Allow selection if status is 'ready' OR 'failed' with images (retry scenario)\n        if (!extraction) return;\n        if (extraction.status !== 'ready' && extraction.status !== 'failed') return;\n        if (!extraction.images?.length) return;\n\n        // Optimistically update local state\n        set(state => ({\n          extractions: state.extractions.map(e => e.id === id ? {\n            ...e,\n            status: 'analyzing',\n            selectedImage: imageUrl,\n            error: undefined,\n            updatedAt: Date.now()\n          } : e)\n        }));\n\n        // Update Supabase to reset error and set analyzing status\n        yield _servicesSupabase.supabase.from('extraction_jobs').update({\n          status: 'analyzing',\n          selected_image_url: imageUrl,\n          error_message: null\n        }).eq('id', id);\n\n        // Fire-and-forget trigger to backend\n        (0, _servicesApi.triggerAnalysis)(id, imageUrl);\n      });\n      return function selectImage(_x4, _x5) {\n        return _ref3.apply(this, arguments);\n      };\n    }(),\n    retryExtraction: function () {\n      var _ref4 = (0, _asyncToGenerator.default)(function* (id) {\n        var extraction = get().extractions.find(e => e.id === id);\n        if (!extraction || extraction.status !== 'failed') return;\n\n        // If has images, reset to 'ready' so user can select again\n        if (extraction.images?.length) {\n          set(state => ({\n            extractions: state.extractions.map(e => e.id === id ? {\n              ...e,\n              status: 'ready',\n              error: undefined,\n              updatedAt: Date.now()\n            } : e)\n          }));\n\n          // Update Supabase\n          yield _servicesSupabase.supabase.from('extraction_jobs').update({\n            status: 'ready',\n            error_message: null\n          }).eq('id', id);\n        } else {\n          // No images, need to re-extract - reset to pending\n          set(state => ({\n            extractions: state.extractions.map(e => e.id === id ? {\n              ...e,\n              status: 'pending',\n              error: undefined,\n              updatedAt: Date.now()\n            } : e)\n          }));\n\n          // Update Supabase and trigger extraction again\n          yield _servicesSupabase.supabase.from('extraction_jobs').update({\n            status: 'pending',\n            error_message: null\n          }).eq('id', id);\n          (0, _servicesApi.triggerExtraction)(id);\n        }\n      });\n      return function retryExtraction(_x6) {\n        return _ref4.apply(this, arguments);\n      };\n    }(),\n    removeExtraction: function () {\n      var _ref5 = (0, _asyncToGenerator.default)(function* (id) {\n        try {\n          // Delete from Supabase\n          var _yield$supabase$from$3 = yield _servicesSupabase.supabase.from('extraction_jobs').delete().eq('id', id),\n            error = _yield$supabase$from$3.error;\n          if (error) {\n            console.error('[EXTRACTION_STORE] Failed to delete:', error);\n            return;\n          }\n\n          // Remove from local state\n          set(state => ({\n            extractions: state.extractions.filter(e => e.id !== id)\n          }));\n        } catch (error) {\n          console.error('[EXTRACTION_STORE] Delete error:', error);\n        }\n      });\n      return function removeExtraction(_x7) {\n        return _ref5.apply(this, arguments);\n      };\n    }(),\n    clearCompleted: function () {\n      var _ref6 = (0, _asyncToGenerator.default)(function* (userId) {\n        try {\n          // Delete completed/failed from Supabase\n          var _yield$supabase$from$4 = yield _servicesSupabase.supabase.from('extraction_jobs').delete().eq('user_id', userId).in('status', ['completed', 'failed']),\n            error = _yield$supabase$from$4.error;\n          if (error) {\n            console.error('[EXTRACTION_STORE] Failed to clear completed:', error);\n            return;\n          }\n\n          // Remove from local state\n          set(state => ({\n            extractions: state.extractions.filter(e => e.status !== 'completed' && e.status !== 'failed')\n          }));\n        } catch (error) {\n          console.error('[EXTRACTION_STORE] Clear completed error:', error);\n        }\n      });\n      return function clearCompleted(_x8) {\n        return _ref6.apply(this, arguments);\n      };\n    }(),\n    getExtraction: id => get().extractions.find(e => e.id === id)\n  }));\n});","lineCount":260,"map":[[12,2,85,0,"Object"],[12,8,85,0],[12,9,85,0,"defineProperty"],[12,23,85,0],[12,24,85,0,"exports"],[12,31,85,0],[13,4,85,0,"enumerable"],[13,14,85,0],[14,4,85,0,"get"],[14,7,85,0],[14,18,85,0,"get"],[14,19,85,0],[15,6,85,0],[15,13,85,0,"useExtractionStore"],[15,31,85,0],[16,4,85,0],[17,2,85,0],[18,2,292,4],[18,6,292,4,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,292,4],[18,45,292,4,"require"],[18,52,292,4],[18,53,292,4,"_dependencyMap"],[18,67,292,4],[19,2,292,4],[19,6,292,4,"_asyncToGenerator"],[19,23,292,4],[19,26,292,4,"_interopDefault"],[19,41,292,4],[19,42,292,4,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,292,4],[20,2,2,0],[20,6,2,0,"_zustand"],[20,14,2,0],[20,17,2,0,"require"],[20,24,2,0],[20,25,2,0,"_dependencyMap"],[20,39,2,0],[21,2,3,0],[21,6,3,0,"_servicesSupabase"],[21,23,3,0],[21,26,3,0,"require"],[21,33,3,0],[21,34,3,0,"_dependencyMap"],[21,48,3,0],[22,2,4,0],[22,6,4,0,"_servicesApi"],[22,18,4,0],[22,21,4,0,"require"],[22,28,4,0],[22,29,4,0,"_dependencyMap"],[22,43,4,0],[23,2,1,0],[25,2,72,0],[26,2,73,0],[26,6,73,6,"mapToExtraction"],[26,21,73,21],[26,24,73,25,"row"],[26,27,73,33],[26,32,73,51],[27,4,74,4,"id"],[27,6,74,6],[27,8,74,8,"row"],[27,11,74,11],[27,12,74,12,"id"],[27,14,74,14],[28,4,75,4,"url"],[28,7,75,7],[28,9,75,9,"row"],[28,12,75,12],[28,13,75,13,"source_url"],[28,23,75,23],[29,4,76,4,"status"],[29,10,76,10],[29,12,76,12,"row"],[29,15,76,15],[29,16,76,16,"status"],[29,22,76,42],[30,4,77,4,"images"],[30,10,77,10],[30,12,77,12,"row"],[30,15,77,15],[30,16,77,16,"extracted_images"],[30,32,77,32],[30,36,77,36,"undefined"],[30,45,77,45],[31,4,78,4,"selectedImage"],[31,17,78,17],[31,19,78,19,"row"],[31,22,78,22],[31,23,78,23,"selected_image_url"],[31,41,78,41],[31,45,78,45,"undefined"],[31,54,78,54],[32,4,79,4,"analysis"],[32,12,79,12],[32,14,79,14,"row"],[32,17,79,17],[32,18,79,18,"analysis_result"],[32,33,79,33],[32,37,79,37,"undefined"],[32,46,79,46],[33,4,80,4,"error"],[33,9,80,9],[33,11,80,11,"row"],[33,14,80,14],[33,15,80,15,"error_message"],[33,28,80,28],[33,32,80,32,"undefined"],[33,41,80,41],[34,4,81,4,"createdAt"],[34,13,81,13],[34,15,81,15],[34,19,81,19,"Date"],[34,23,81,23],[34,24,81,24,"row"],[34,27,81,27],[34,28,81,28,"created_at"],[34,38,81,38],[34,39,81,39],[34,40,81,40,"getTime"],[34,47,81,47],[34,48,81,48],[34,49,81,49],[35,4,82,4,"updatedAt"],[35,13,82,13],[35,15,82,15],[35,19,82,19,"Date"],[35,23,82,23],[35,24,82,24,"row"],[35,27,82,27],[35,28,82,28,"updated_at"],[35,38,82,38],[35,39,82,39],[35,40,82,40,"getTime"],[35,47,82,47],[35,48,82,48],[36,2,83,0],[36,3,83,1],[36,4,83,2],[37,2,85,7],[37,6,85,13,"useExtractionStore"],[37,24,85,31],[37,27,85,34],[37,31,85,34,"create"],[37,39,85,40],[37,40,85,40,"create"],[37,46,85,40],[37,48,85,58],[37,49,85,59],[37,50,85,60],[37,51,85,61,"set"],[37,54,85,64],[37,56,85,66,"get"],[37,59,85,69],[37,65,85,75],[38,4,86,4,"extractions"],[38,15,86,15],[38,17,86,17],[38,19,86,19],[39,4,87,4,"isPolling"],[39,13,87,13],[39,15,87,15],[39,20,87,20],[40,4,88,4,"pollingInterval"],[40,19,88,19],[40,21,88,21],[40,25,88,25],[41,4,90,4,"queueExtraction"],[41,19,90,19],[42,6,90,19],[42,10,90,19,"_ref"],[42,14,90,19],[42,21,90,19,"_asyncToGenerator"],[42,38,90,19],[42,39,90,19,"default"],[42,46,90,19],[42,48,90,21],[42,59,90,28,"url"],[42,62,90,39],[42,64,90,41,"userId"],[42,70,90,55],[42,72,90,60],[43,8,91,8],[43,12,91,12],[44,10,92,12],[45,10,93,12],[45,14,93,12,"_yield$supabase$from$"],[45,35,93,12],[45,44,93,42,"supabase"],[45,61,93,50],[45,62,93,50,"supabase"],[45,70,93,50],[45,71,94,17,"from"],[45,75,94,21],[45,76,94,22],[45,93,94,39],[45,94,94,40],[45,95,95,17,"insert"],[45,101,95,23],[45,102,95,24],[46,14,96,20,"user_id"],[46,21,96,27],[46,23,96,29,"userId"],[46,29,96,35],[47,14,97,20,"source_url"],[47,24,97,30],[47,26,97,32,"url"],[47,29,97,35],[48,14,98,20,"status"],[48,20,98,26],[48,22,98,28],[49,12,99,16],[49,13,99,17],[49,14,99,18],[49,15,100,17,"select"],[49,21,100,23],[49,22,100,24],[49,23,100,25],[49,24,101,17,"single"],[49,30,101,23],[49,31,101,24],[49,32,101,25],[50,12,93,20,"data"],[50,16,93,24],[50,19,93,24,"_yield$supabase$from$"],[50,40,93,24],[50,41,93,20,"data"],[50,45,93,24],[51,12,93,26,"error"],[51,17,93,31],[51,20,93,31,"_yield$supabase$from$"],[51,41,93,31],[51,42,93,26,"error"],[51,47,93,31],[52,10,103,12],[52,14,103,16,"error"],[52,19,103,21],[52,21,103,23],[53,12,104,16,"console"],[53,19,104,23],[53,20,104,24,"error"],[53,25,104,29],[53,26,104,30],[53,68,104,72],[53,70,104,74,"error"],[53,75,104,79],[53,76,104,80],[54,12,105,16],[54,19,105,23],[54,23,105,27],[55,10,106,12],[57,10,108,12],[58,10,109,12],[58,14,109,18,"newExtraction"],[58,27,109,31],[58,30,109,34,"mapToExtraction"],[58,45,109,49],[58,46,109,50,"data"],[58,50,109,54],[58,51,109,55],[59,10,110,12,"set"],[59,13,110,15],[59,14,110,16,"state"],[59,19,110,21],[59,24,110,26],[60,12,111,16,"extractions"],[60,23,111,27],[60,25,111,29],[60,26,111,30,"newExtraction"],[60,39,111,43],[60,41,111,45],[60,44,111,48,"state"],[60,49,111,53],[60,50,111,54,"extractions"],[60,61,111,65],[61,10,112,12],[61,11,112,13],[61,12,112,14],[61,13,112,15],[63,10,114,12],[64,10,115,12],[64,14,115,12,"triggerExtraction"],[64,26,115,29],[64,27,115,29,"triggerExtraction"],[64,44,115,29],[64,46,115,30,"data"],[64,50,115,34],[64,51,115,35,"id"],[64,53,115,37],[64,54,115,38],[65,10,117,12],[65,17,117,19,"data"],[65,21,117,23],[65,22,117,24,"id"],[65,24,117,26],[66,8,118,8],[66,9,118,9],[66,10,118,10],[66,17,118,17,"error"],[66,22,118,27],[66,24,118,29],[67,10,119,12,"console"],[67,17,119,19],[67,18,119,20,"error"],[67,23,119,25],[67,24,119,26],[67,68,119,70],[67,70,119,72,"error"],[67,75,119,77],[67,76,119,78],[68,10,120,12],[68,17,120,19],[68,21,120,23],[69,8,121,8],[70,6,122,4],[70,7,122,5],[71,6,122,5],[71,22,90,4,"queueExtraction"],[71,37,90,19,"queueExtraction"],[71,38,90,19,"_x"],[71,40,90,19],[71,42,90,19,"_x2"],[71,45,90,19],[72,8,90,19],[72,15,90,19,"_ref"],[72,19,90,19],[72,20,90,19,"apply"],[72,25,90,19],[72,32,90,19,"arguments"],[72,41,90,19],[73,6,90,19],[74,4,90,19],[74,7,122,5],[75,4,124,4,"fetchExtractions"],[75,20,124,20],[76,6,124,20],[76,10,124,20,"_ref2"],[76,15,124,20],[76,22,124,20,"_asyncToGenerator"],[76,39,124,20],[76,40,124,20,"default"],[76,47,124,20],[76,49,124,22],[76,60,124,29,"userId"],[76,66,124,43],[76,68,124,48],[77,8,125,8],[77,12,125,12],[78,10,126,12],[78,14,126,12,"_yield$supabase$from$2"],[78,36,126,12],[78,45,126,42,"supabase"],[78,62,126,50],[78,63,126,50,"supabase"],[78,71,126,50],[78,72,127,17,"from"],[78,76,127,21],[78,77,127,22],[78,94,127,39],[78,95,127,40],[78,96,128,17,"select"],[78,102,128,23],[78,103,128,24],[78,106,128,27],[78,107,128,28],[78,108,129,17,"eq"],[78,110,129,19],[78,111,129,20],[78,120,129,29],[78,122,129,31,"userId"],[78,128,129,37],[78,129,129,38],[78,130,130,17,"order"],[78,135,130,22],[78,136,130,23],[78,148,130,35],[78,150,130,37],[79,14,130,39,"ascending"],[79,23,130,48],[79,25,130,50],[80,12,130,56],[80,13,130,57],[80,14,130,58],[80,15,131,17,"limit"],[80,20,131,22],[80,21,131,23],[80,23,131,25],[80,24,131,26],[81,12,126,20,"data"],[81,16,126,24],[81,19,126,24,"_yield$supabase$from$2"],[81,41,126,24],[81,42,126,20,"data"],[81,46,126,24],[82,12,126,26,"error"],[82,17,126,31],[82,20,126,31,"_yield$supabase$from$2"],[82,42,126,31],[82,43,126,26,"error"],[82,48,126,31],[83,10,133,12],[83,14,133,16,"error"],[83,19,133,21],[83,21,133,23],[84,12,134,16,"console"],[84,19,134,23],[84,20,134,24,"error"],[84,25,134,29],[84,26,134,30],[84,75,134,79],[84,77,134,81,"error"],[84,82,134,86],[84,83,134,87],[85,12,135,16],[86,10,136,12],[87,10,138,12],[87,14,138,18,"extractions"],[87,25,138,29],[87,28,138,32],[87,29,138,33,"data"],[87,33,138,37],[87,37,138,41],[87,39,138,43],[87,41,138,45,"map"],[87,44,138,48],[87,45,138,49,"mapToExtraction"],[87,60,138,64],[87,61,138,65],[88,10,139,12,"set"],[88,13,139,15],[88,14,139,16],[89,12,139,18,"extractions"],[90,10,139,30],[90,11,139,31],[90,12,139,32],[91,8,140,8],[91,9,140,9],[91,10,140,10],[91,17,140,17,"error"],[91,22,140,27],[91,24,140,29],[92,10,141,12,"console"],[92,17,141,19],[92,18,141,20,"error"],[92,23,141,25],[92,24,141,26],[92,57,141,59],[92,59,141,61,"error"],[92,64,141,66],[92,65,141,67],[93,8,142,8],[94,6,143,4],[94,7,143,5],[95,6,143,5],[95,22,124,4,"fetchExtractions"],[95,38,124,20,"fetchExtractions"],[95,39,124,20,"_x3"],[95,42,124,20],[96,8,124,20],[96,15,124,20,"_ref2"],[96,20,124,20],[96,21,124,20,"apply"],[96,26,124,20],[96,33,124,20,"arguments"],[96,42,124,20],[97,6,124,20],[98,4,124,20],[98,7,143,5],[99,4,145,4,"startPolling"],[99,16,145,16],[99,18,145,19,"userId"],[99,24,145,33],[99,28,145,38],[100,6,146,8],[100,10,146,8,"_get"],[100,14,146,8],[100,17,146,47,"get"],[100,20,146,50],[100,21,146,51],[100,22,146,52],[101,8,146,16,"isPolling"],[101,17,146,25],[101,20,146,25,"_get"],[101,24,146,25],[101,25,146,16,"isPolling"],[101,34,146,25],[102,8,146,27,"pollingInterval"],[102,23,146,42],[102,26,146,42,"_get"],[102,30,146,42],[102,31,146,27,"pollingInterval"],[102,46,146,42],[104,6,148,8],[105,6,149,8],[105,10,149,12,"isPolling"],[105,19,149,21],[105,23,149,25,"pollingInterval"],[105,38,149,40],[105,40,149,42],[106,6,151,8,"console"],[106,13,151,15],[106,14,151,16,"log"],[106,17,151,19],[106,18,151,20],[106,65,151,67],[106,67,151,69,"userId"],[106,73,151,75],[106,74,151,76],[107,6,152,8,"set"],[107,9,152,11],[107,10,152,12],[108,8,152,14,"isPolling"],[108,17,152,23],[108,19,152,25],[109,6,152,30],[109,7,152,31],[109,8,152,32],[111,6,154,8],[112,6,155,8,"get"],[112,9,155,11],[112,10,155,12],[112,11,155,13],[112,12,155,14,"fetchExtractions"],[112,28,155,30],[112,29,155,31,"userId"],[112,35,155,37],[112,36,155,38],[114,6,157,8],[115,6,158,8],[115,10,158,14,"interval"],[115,18,158,22],[115,21,158,25,"setInterval"],[115,32,158,36],[115,33,158,37],[115,39,158,43],[116,8,159,12,"console"],[116,15,159,19],[116,16,159,20,"log"],[116,19,159,23],[116,20,159,24],[116,51,159,55],[116,52,159,56],[117,8,160,12,"get"],[117,11,160,15],[117,12,160,16],[117,13,160,17],[117,14,160,18,"fetchExtractions"],[117,30,160,34],[117,31,160,35,"userId"],[117,37,160,41],[117,38,160,42],[118,6,161,8],[118,7,161,9],[118,9,161,11],[118,13,161,15],[118,14,161,16],[119,6,163,8,"set"],[119,9,163,11],[119,10,163,12],[120,8,163,14,"pollingInterval"],[120,23,163,29],[120,25,163,31,"interval"],[121,6,163,40],[121,7,163,41],[121,8,163,42],[122,4,164,4],[122,5,164,5],[123,4,166,4,"stopPolling"],[123,15,166,15],[123,17,166,17,"stopPolling"],[123,18,166,17],[123,23,166,23],[124,6,167,8],[124,10,167,8,"_get2"],[124,15,167,8],[124,18,167,36,"get"],[124,21,167,39],[124,22,167,40],[124,23,167,41],[125,8,167,16,"pollingInterval"],[125,23,167,31],[125,26,167,31,"_get2"],[125,31,167,31],[125,32,167,16,"pollingInterval"],[125,47,167,31],[126,6,168,8],[126,10,168,12,"pollingInterval"],[126,25,168,27],[126,27,168,29],[127,8,169,12,"console"],[127,15,169,19],[127,16,169,20,"log"],[127,19,169,23],[127,20,169,24],[127,57,169,61],[127,58,169,62],[128,8,170,12,"clearInterval"],[128,21,170,25],[128,22,170,26,"pollingInterval"],[128,37,170,41],[128,38,170,42],[129,8,171,12,"set"],[129,11,171,15],[129,12,171,16],[130,10,171,18,"isPolling"],[130,19,171,27],[130,21,171,29],[130,26,171,34],[131,10,171,36,"pollingInterval"],[131,25,171,51],[131,27,171,53],[132,8,171,58],[132,9,171,59],[132,10,171,60],[133,6,172,8],[134,4,173,4],[134,5,173,5],[135,4,175,4,"selectImage"],[135,15,175,15],[136,6,175,15],[136,10,175,15,"_ref3"],[136,15,175,15],[136,22,175,15,"_asyncToGenerator"],[136,39,175,15],[136,40,175,15,"default"],[136,47,175,15],[136,49,175,17],[136,60,175,24,"id"],[136,62,175,34],[136,64,175,36,"imageUrl"],[136,72,175,52],[136,74,175,57],[137,8,176,8],[137,12,176,14,"extraction"],[137,22,176,24],[137,25,176,27,"get"],[137,28,176,30],[137,29,176,31],[137,30,176,32],[137,31,176,33,"extractions"],[137,42,176,44],[137,43,176,45,"find"],[137,47,176,49],[137,48,176,50,"e"],[137,49,176,51],[137,53,176,55,"e"],[137,54,176,56],[137,55,176,57,"id"],[137,57,176,59],[137,62,176,64,"id"],[137,64,176,66],[137,65,176,67],[138,8,177,8],[139,8,178,8],[139,12,178,12],[139,13,178,13,"extraction"],[139,23,178,23],[139,25,178,25],[140,8,179,8],[140,12,179,12,"extraction"],[140,22,179,22],[140,23,179,23,"status"],[140,29,179,29],[140,34,179,34],[140,41,179,41],[140,45,179,45,"extraction"],[140,55,179,55],[140,56,179,56,"status"],[140,62,179,62],[140,67,179,67],[140,75,179,75],[140,77,179,77],[141,8,180,8],[141,12,180,12],[141,13,180,13,"extraction"],[141,23,180,23],[141,24,180,24,"images"],[141,30,180,30],[141,32,180,32,"length"],[141,38,180,38],[141,40,180,40],[143,8,182,8],[144,8,183,8,"set"],[144,11,183,11],[144,12,183,12,"state"],[144,17,183,17],[144,22,183,22],[145,10,184,12,"extractions"],[145,21,184,23],[145,23,184,25,"state"],[145,28,184,30],[145,29,184,31,"extractions"],[145,40,184,42],[145,41,184,43,"map"],[145,44,184,46],[145,45,184,47,"e"],[145,46,184,48],[145,50,185,16,"e"],[145,51,185,17],[145,52,185,18,"id"],[145,54,185,20],[145,59,185,25,"id"],[145,61,185,27],[145,64,186,22],[146,12,186,24],[146,15,186,27,"e"],[146,16,186,28],[147,12,186,30,"status"],[147,18,186,36],[147,20,186,38],[147,31,186,58],[148,12,186,60,"selectedImage"],[148,25,186,73],[148,27,186,75,"imageUrl"],[148,35,186,83],[149,12,186,85,"error"],[149,17,186,90],[149,19,186,92,"undefined"],[149,28,186,101],[150,12,186,103,"updatedAt"],[150,21,186,112],[150,23,186,114,"Date"],[150,27,186,118],[150,28,186,119,"now"],[150,31,186,122],[150,32,186,123],[151,10,186,125],[151,11,186,126],[151,14,187,22,"e"],[151,15,188,12],[152,8,189,8],[152,9,189,9],[152,10,189,10],[152,11,189,11],[154,8,191,8],[155,8,192,8],[155,14,192,14,"supabase"],[155,31,192,22],[155,32,192,22,"supabase"],[155,40,192,22],[155,41,193,13,"from"],[155,45,193,17],[155,46,193,18],[155,63,193,35],[155,64,193,36],[155,65,194,13,"update"],[155,71,194,19],[155,72,194,20],[156,10,195,16,"status"],[156,16,195,22],[156,18,195,24],[156,29,195,35],[157,10,196,16,"selected_image_url"],[157,28,196,34],[157,30,196,36,"imageUrl"],[157,38,196,44],[158,10,197,16,"error_message"],[158,23,197,29],[158,25,197,31],[159,8,198,12],[159,9,198,13],[159,10,198,14],[159,11,199,13,"eq"],[159,13,199,15],[159,14,199,16],[159,18,199,20],[159,20,199,22,"id"],[159,22,199,24],[159,23,199,25],[161,8,201,8],[162,8,202,8],[162,12,202,8,"triggerAnalysis"],[162,24,202,23],[162,25,202,23,"triggerAnalysis"],[162,40,202,23],[162,42,202,24,"id"],[162,44,202,26],[162,46,202,28,"imageUrl"],[162,54,202,36],[162,55,202,37],[163,6,203,4],[163,7,203,5],[164,6,203,5],[164,22,175,4,"selectImage"],[164,33,175,15,"selectImage"],[164,34,175,15,"_x4"],[164,37,175,15],[164,39,175,15,"_x5"],[164,42,175,15],[165,8,175,15],[165,15,175,15,"_ref3"],[165,20,175,15],[165,21,175,15,"apply"],[165,26,175,15],[165,33,175,15,"arguments"],[165,42,175,15],[166,6,175,15],[167,4,175,15],[167,7,203,5],[168,4,205,4,"retryExtraction"],[168,19,205,19],[169,6,205,19],[169,10,205,19,"_ref4"],[169,15,205,19],[169,22,205,19,"_asyncToGenerator"],[169,39,205,19],[169,40,205,19,"default"],[169,47,205,19],[169,49,205,21],[169,60,205,28,"id"],[169,62,205,38],[169,64,205,43],[170,8,206,8],[170,12,206,14,"extraction"],[170,22,206,24],[170,25,206,27,"get"],[170,28,206,30],[170,29,206,31],[170,30,206,32],[170,31,206,33,"extractions"],[170,42,206,44],[170,43,206,45,"find"],[170,47,206,49],[170,48,206,50,"e"],[170,49,206,51],[170,53,206,55,"e"],[170,54,206,56],[170,55,206,57,"id"],[170,57,206,59],[170,62,206,64,"id"],[170,64,206,66],[170,65,206,67],[171,8,207,8],[171,12,207,12],[171,13,207,13,"extraction"],[171,23,207,23],[171,27,207,27,"extraction"],[171,37,207,37],[171,38,207,38,"status"],[171,44,207,44],[171,49,207,49],[171,57,207,57],[171,59,207,59],[173,8,209,8],[174,8,210,8],[174,12,210,12,"extraction"],[174,22,210,22],[174,23,210,23,"images"],[174,29,210,29],[174,31,210,31,"length"],[174,37,210,37],[174,39,210,39],[175,10,211,12,"set"],[175,13,211,15],[175,14,211,16,"state"],[175,19,211,21],[175,24,211,26],[176,12,212,16,"extractions"],[176,23,212,27],[176,25,212,29,"state"],[176,30,212,34],[176,31,212,35,"extractions"],[176,42,212,46],[176,43,212,47,"map"],[176,46,212,50],[176,47,212,51,"e"],[176,48,212,52],[176,52,213,20,"e"],[176,53,213,21],[176,54,213,22,"id"],[176,56,213,24],[176,61,213,29,"id"],[176,63,213,31],[176,66,214,26],[177,14,214,28],[177,17,214,31,"e"],[177,18,214,32],[178,14,214,34,"status"],[178,20,214,40],[178,22,214,42],[178,29,214,58],[179,14,214,60,"error"],[179,19,214,65],[179,21,214,67,"undefined"],[179,30,214,76],[180,14,214,78,"updatedAt"],[180,23,214,87],[180,25,214,89,"Date"],[180,29,214,93],[180,30,214,94,"now"],[180,33,214,97],[180,34,214,98],[181,12,214,100],[181,13,214,101],[181,16,215,26,"e"],[181,17,216,16],[182,10,217,12],[182,11,217,13],[182,12,217,14],[182,13,217,15],[184,10,219,12],[185,10,220,12],[185,16,220,18,"supabase"],[185,33,220,26],[185,34,220,26,"supabase"],[185,42,220,26],[185,43,221,17,"from"],[185,47,221,21],[185,48,221,22],[185,65,221,39],[185,66,221,40],[185,67,222,17,"update"],[185,73,222,23],[185,74,222,24],[186,12,222,26,"status"],[186,18,222,32],[186,20,222,34],[186,27,222,41],[187,12,222,43,"error_message"],[187,25,222,56],[187,27,222,58],[188,10,222,63],[188,11,222,64],[188,12,222,65],[188,13,223,17,"eq"],[188,15,223,19],[188,16,223,20],[188,20,223,24],[188,22,223,26,"id"],[188,24,223,28],[188,25,223,29],[189,8,224,8],[189,9,224,9],[189,15,224,15],[190,10,225,12],[191,10,226,12,"set"],[191,13,226,15],[191,14,226,16,"state"],[191,19,226,21],[191,24,226,26],[192,12,227,16,"extractions"],[192,23,227,27],[192,25,227,29,"state"],[192,30,227,34],[192,31,227,35,"extractions"],[192,42,227,46],[192,43,227,47,"map"],[192,46,227,50],[192,47,227,51,"e"],[192,48,227,52],[192,52,228,20,"e"],[192,53,228,21],[192,54,228,22,"id"],[192,56,228,24],[192,61,228,29,"id"],[192,63,228,31],[192,66,229,26],[193,14,229,28],[193,17,229,31,"e"],[193,18,229,32],[194,14,229,34,"status"],[194,20,229,40],[194,22,229,42],[194,31,229,60],[195,14,229,62,"error"],[195,19,229,67],[195,21,229,69,"undefined"],[195,30,229,78],[196,14,229,80,"updatedAt"],[196,23,229,89],[196,25,229,91,"Date"],[196,29,229,95],[196,30,229,96,"now"],[196,33,229,99],[196,34,229,100],[197,12,229,102],[197,13,229,103],[197,16,230,26,"e"],[197,17,231,16],[198,10,232,12],[198,11,232,13],[198,12,232,14],[198,13,232,15],[200,10,234,12],[201,10,235,12],[201,16,235,18,"supabase"],[201,33,235,26],[201,34,235,26,"supabase"],[201,42,235,26],[201,43,236,17,"from"],[201,47,236,21],[201,48,236,22],[201,65,236,39],[201,66,236,40],[201,67,237,17,"update"],[201,73,237,23],[201,74,237,24],[202,12,237,26,"status"],[202,18,237,32],[202,20,237,34],[202,29,237,43],[203,12,237,45,"error_message"],[203,25,237,58],[203,27,237,60],[204,10,237,65],[204,11,237,66],[204,12,237,67],[204,13,238,17,"eq"],[204,15,238,19],[204,16,238,20],[204,20,238,24],[204,22,238,26,"id"],[204,24,238,28],[204,25,238,29],[205,10,240,12],[205,14,240,12,"triggerExtraction"],[205,26,240,29],[205,27,240,29,"triggerExtraction"],[205,44,240,29],[205,46,240,30,"id"],[205,48,240,32],[205,49,240,33],[206,8,241,8],[207,6,242,4],[207,7,242,5],[208,6,242,5],[208,22,205,4,"retryExtraction"],[208,37,205,19,"retryExtraction"],[208,38,205,19,"_x6"],[208,41,205,19],[209,8,205,19],[209,15,205,19,"_ref4"],[209,20,205,19],[209,21,205,19,"apply"],[209,26,205,19],[209,33,205,19,"arguments"],[209,42,205,19],[210,6,205,19],[211,4,205,19],[211,7,242,5],[212,4,244,4,"removeExtraction"],[212,20,244,20],[213,6,244,20],[213,10,244,20,"_ref5"],[213,15,244,20],[213,22,244,20,"_asyncToGenerator"],[213,39,244,20],[213,40,244,20,"default"],[213,47,244,20],[213,49,244,22],[213,60,244,29,"id"],[213,62,244,39],[213,64,244,44],[214,8,245,8],[214,12,245,12],[215,10,246,12],[216,10,247,12],[216,14,247,12,"_yield$supabase$from$3"],[216,36,247,12],[216,45,247,36,"supabase"],[216,62,247,44],[216,63,247,44,"supabase"],[216,71,247,44],[216,72,248,17,"from"],[216,76,248,21],[216,77,248,22],[216,94,248,39],[216,95,248,40],[216,96,249,17,"delete"],[216,102,249,23],[216,103,249,24],[216,104,249,25],[216,105,250,17,"eq"],[216,107,250,19],[216,108,250,20],[216,112,250,24],[216,114,250,26,"id"],[216,116,250,28],[216,117,250,29],[217,12,247,20,"error"],[217,17,247,25],[217,20,247,25,"_yield$supabase$from$3"],[217,42,247,25],[217,43,247,20,"error"],[217,48,247,25],[218,10,252,12],[218,14,252,16,"error"],[218,19,252,21],[218,21,252,23],[219,12,253,16,"console"],[219,19,253,23],[219,20,253,24,"error"],[219,25,253,29],[219,26,253,30],[219,64,253,68],[219,66,253,70,"error"],[219,71,253,75],[219,72,253,76],[220,12,254,16],[221,10,255,12],[223,10,257,12],[224,10,258,12,"set"],[224,13,258,15],[224,14,258,16,"state"],[224,19,258,21],[224,24,258,26],[225,12,259,16,"extractions"],[225,23,259,27],[225,25,259,29,"state"],[225,30,259,34],[225,31,259,35,"extractions"],[225,42,259,46],[225,43,259,47,"filter"],[225,49,259,53],[225,50,259,54,"e"],[225,51,259,55],[225,55,259,59,"e"],[225,56,259,60],[225,57,259,61,"id"],[225,59,259,63],[225,64,259,68,"id"],[225,66,259,70],[226,10,260,12],[226,11,260,13],[226,12,260,14],[226,13,260,15],[227,8,261,8],[227,9,261,9],[227,10,261,10],[227,17,261,17,"error"],[227,22,261,27],[227,24,261,29],[228,10,262,12,"console"],[228,17,262,19],[228,18,262,20,"error"],[228,23,262,25],[228,24,262,26],[228,58,262,60],[228,60,262,62,"error"],[228,65,262,67],[228,66,262,68],[229,8,263,8],[230,6,264,4],[230,7,264,5],[231,6,264,5],[231,22,244,4,"removeExtraction"],[231,38,244,20,"removeExtraction"],[231,39,244,20,"_x7"],[231,42,244,20],[232,8,244,20],[232,15,244,20,"_ref5"],[232,20,244,20],[232,21,244,20,"apply"],[232,26,244,20],[232,33,244,20,"arguments"],[232,42,244,20],[233,6,244,20],[234,4,244,20],[234,7,264,5],[235,4,266,4,"clearCompleted"],[235,18,266,18],[236,6,266,18],[236,10,266,18,"_ref6"],[236,15,266,18],[236,22,266,18,"_asyncToGenerator"],[236,39,266,18],[236,40,266,18,"default"],[236,47,266,18],[236,49,266,20],[236,60,266,27,"userId"],[236,66,266,41],[236,68,266,46],[237,8,267,8],[237,12,267,12],[238,10,268,12],[239,10,269,12],[239,14,269,12,"_yield$supabase$from$4"],[239,36,269,12],[239,45,269,36,"supabase"],[239,62,269,44],[239,63,269,44,"supabase"],[239,71,269,44],[239,72,270,17,"from"],[239,76,270,21],[239,77,270,22],[239,94,270,39],[239,95,270,40],[239,96,271,17,"delete"],[239,102,271,23],[239,103,271,24],[239,104,271,25],[239,105,272,17,"eq"],[239,107,272,19],[239,108,272,20],[239,117,272,29],[239,119,272,31,"userId"],[239,125,272,37],[239,126,272,38],[239,127,273,17,"in"],[239,129,273,19],[239,130,273,20],[239,138,273,28],[239,140,273,30],[239,141,273,31],[239,152,273,42],[239,154,273,44],[239,162,273,52],[239,163,273,53],[239,164,273,54],[240,12,269,20,"error"],[240,17,269,25],[240,20,269,25,"_yield$supabase$from$4"],[240,42,269,25],[240,43,269,20,"error"],[240,48,269,25],[241,10,275,12],[241,14,275,16,"error"],[241,19,275,21],[241,21,275,23],[242,12,276,16,"console"],[242,19,276,23],[242,20,276,24,"error"],[242,25,276,29],[242,26,276,30],[242,73,276,77],[242,75,276,79,"error"],[242,80,276,84],[242,81,276,85],[243,12,277,16],[244,10,278,12],[246,10,280,12],[247,10,281,12,"set"],[247,13,281,15],[247,14,281,16,"state"],[247,19,281,21],[247,24,281,26],[248,12,282,16,"extractions"],[248,23,282,27],[248,25,282,29,"state"],[248,30,282,34],[248,31,282,35,"extractions"],[248,42,282,46],[248,43,282,47,"filter"],[248,49,282,53],[248,50,282,54,"e"],[248,51,282,55],[248,55,283,20,"e"],[248,56,283,21],[248,57,283,22,"status"],[248,63,283,28],[248,68,283,33],[248,79,283,44],[248,83,283,48,"e"],[248,84,283,49],[248,85,283,50,"status"],[248,91,283,56],[248,96,283,61],[248,104,284,16],[249,10,285,12],[249,11,285,13],[249,12,285,14],[249,13,285,15],[250,8,286,8],[250,9,286,9],[250,10,286,10],[250,17,286,17,"error"],[250,22,286,27],[250,24,286,29],[251,10,287,12,"console"],[251,17,287,19],[251,18,287,20,"error"],[251,23,287,25],[251,24,287,26],[251,67,287,69],[251,69,287,71,"error"],[251,74,287,76],[251,75,287,77],[252,8,288,8],[253,6,289,4],[253,7,289,5],[254,6,289,5],[254,22,266,4,"clearCompleted"],[254,36,266,18,"clearCompleted"],[254,37,266,18,"_x8"],[254,40,266,18],[255,8,266,18],[255,15,266,18,"_ref6"],[255,20,266,18],[255,21,266,18,"apply"],[255,26,266,18],[255,33,266,18,"arguments"],[255,42,266,18],[256,6,266,18],[257,4,266,18],[257,7,289,5],[258,4,291,4,"getExtraction"],[258,17,291,17],[258,19,291,20,"id"],[258,21,291,30],[258,25,291,35,"get"],[258,28,291,38],[258,29,291,39],[258,30,291,40],[258,31,291,41,"extractions"],[258,42,291,52],[258,43,291,53,"find"],[258,47,291,57],[258,48,291,58,"e"],[258,49,291,59],[258,53,291,63,"e"],[258,54,291,64],[258,55,291,65,"id"],[258,57,291,67],[258,62,291,72,"id"],[258,64,291,74],[259,2,292,0],[259,3,292,1],[259,4,292,2],[259,5,292,3],[260,0,292,4],[260,3]],"functionMap":{"names":["<global>","mapToExtraction","create$argument_0","queueExtraction","set$argument_0","fetchExtractions","startPolling","setInterval$argument_0","stopPolling","selectImage","get.extractions.find$argument_0","state.extractions.map$argument_0","retryExtraction","removeExtraction","state.extractions.filter$argument_0","clearCompleted","getExtraction"],"mappings":"AAA;wBCwE;EDU;4DEE;qBCK;gBCoB;cDE;KDU;sBGE;KHmB;kBIE;qCCa;SDG;KJG;iBME;KNO;iBOE;kDCC,gBD;YLO;+COC;uBPG;UKE;KPc;qBUE;kDFC,gBE;gBRK;mDOC;2BPG;cQE;gBRS;mDOC;2BPG;cQE;KVU;sBWE;gBTc;sDUC,gBV;cSC;KXI;oBaE;gBXe;sDUC;qEVC;cWE;KbI;mBcE,uCN,gBM,Cd;EFC"},"hasCjsExports":false},"type":"js/module"}]}