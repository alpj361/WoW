{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":86,"index":86}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":142},"end":{"line":3,"column":70,"index":212}}],"key":"KPiafkkHXMyy0AQm6tuLQc7uw64=","exportNames":["*"],"imports":1}},{"name":"../utils/authState","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":213},"end":{"line":4,"column":47,"index":260}}],"key":"NiKTyVyV9HlvikffeNdGsZOd0CQ=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/Users/pj/Desktop/Wow/frontend/src/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesSupabase = require(_dependencyMap[1], \"../services/supabase\");\n  var _utilsAuthState = require(_dependencyMap[2], \"../utils/authState\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [session, setSession] = (0, _react.useState)(null);\n    const [user, setUser] = (0, _react.useState)(null);\n    const [profile, setProfile] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const isInitializing = (0, _react.useRef)(false);\n    (0, _react.useEffect)(() => {\n      if (!(0, _servicesSupabase.isSupabaseConfigured)()) {\n        console.log('âš ï¸ Supabase not configured');\n        setLoading(false);\n        return;\n      }\n\n      // Prevent race condition with double initialization\n      if (isInitializing.current) {\n        console.log('âš ï¸ Already initializing, skipping duplicate call');\n        return;\n      }\n      isInitializing.current = true;\n\n      // Get initial session\n      initializeAuth();\n\n      // Listen for auth changes\n      const {\n        data: {\n          subscription\n        }\n      } = _servicesSupabase.supabase.auth.onAuthStateChange(async (event, newSession) => {\n        console.log('ðŸ” Auth state change:', event, newSession?.user?.email);\n\n        // Check if auth-callback is processing - don't interfere\n        const isProcessing = _utilsAuthState.authState.getState().isProcessing;\n        if (isProcessing && event === 'SIGNED_IN') {\n          console.log('â³ Auth callback is processing, skipping profile check');\n          setSession(newSession);\n          // Don't set user yet - let auth-callback handle it\n          return;\n        }\n        if (event === 'SIGNED_IN' && newSession?.user) {\n          setSession(newSession);\n          // Check profile\n          const profileData = await fetchProfile(newSession.user.id);\n          if (profileData) {\n            console.log('âœ… Profile found in onAuthStateChange');\n            setUser(newSession.user);\n            setProfile(profileData);\n          } else {\n            // FIX: If we already have a user/profile and the fetch failed (likely timeout), \n            // don't kick them out immediately. Only kick out if we truly have no data.\n            if (user && profile && user.id === newSession.user.id) {\n              console.warn('âš ï¸ Profile fetch failed, but using cached profile data');\n              // Keep existing user/profile\n            } else {\n              // No profile = not fully registered\n              console.log('âŒ No profile in onAuthStateChange, user not set');\n              setUser(null);\n              setProfile(null);\n            }\n          }\n          setLoading(false);\n        } else if (event === 'SIGNED_OUT') {\n          console.log('ðŸšª SIGNED_OUT event received');\n          setSession(null);\n          setUser(null);\n          setProfile(null);\n          setLoading(false);\n        } else if (event === 'TOKEN_REFRESHED' && newSession?.user) {\n          // Token refresh - always re-fetch profile to ensure consistency\n          console.log('ðŸ”„ Token refreshed, re-validating profile');\n          setSession(newSession);\n          const profileData = await fetchProfile(newSession.user.id);\n          if (profileData) {\n            setUser(newSession.user);\n            setProfile(profileData);\n          } else {\n            // FIX: On token refresh, if profile fetch fails (timeout), \n            // ABSOLUTELY DO NOT SIGN OUT if we already have data.\n            if (user && profile && user.id === newSession.user.id) {\n              console.warn('âš ï¸ Profile fetch failed on refresh, keeping existing session');\n            } else {\n              console.warn('âš ï¸ Profile lost after token refresh, signing out');\n              signOut();\n            }\n          }\n        }\n      });\n      return () => subscription.unsubscribe();\n    }, [user, profile]); // Add dependencies to access current state\n\n    // Auto-recovery: Re-validate session when user returns to the page\n    (0, _react.useEffect)(() => {\n      if (typeof window === 'undefined') return; // Only on web\n\n      const handleVisibilityChange = async () => {\n        if (document.visibilityState === 'visible' && session) {\n          console.log('ðŸ‘ï¸ Page visible, re-validating session');\n          try {\n            const {\n              data: {\n                session: currentSession\n              },\n              error\n            } = await _servicesSupabase.supabase.auth.getSession();\n            if (error || !currentSession) {\n              console.warn('âš ï¸ Session expired while away, signing out');\n              signOut();\n            } else if (currentSession.user.id !== session.user.id) {\n              // Session changed (different user) - reload\n              console.log('ðŸ”„ Session changed, reloading');\n              window.location.reload();\n            }\n          } catch (error) {\n            console.error('Error checking session:', error);\n          }\n        }\n      };\n      document.addEventListener('visibilitychange', handleVisibilityChange);\n      return () => document.removeEventListener('visibilitychange', handleVisibilityChange);\n    }, [session]);\n    const initializeAuth = async () => {\n      try {\n        const {\n          data: {\n            session\n          }\n        } = await _servicesSupabase.supabase.auth.getSession();\n        console.log('ðŸ” Initial session:', session?.user?.email);\n        if (session?.user) {\n          setSession(session);\n          const profileData = await fetchProfile(session.user.id);\n          if (profileData) {\n            setUser(session.user);\n            setProfile(profileData);\n          } else {\n            console.log('âŒ No profile on init');\n            setUser(null);\n          }\n        }\n      } catch (error) {\n        // Ignore abort errors which happen on hot reload or fast navigation\n        if (error.name === 'AbortError' || error?.message?.includes('aborted')) {\n          console.log('âš ï¸ Auth init aborted (safe to ignore)');\n        } else {\n          console.error('Init auth error:', error);\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    // Fetch profile, returns profile data or null\n    const fetchProfile = async userId => {\n      // Retry logic with faster timeout for profile fetch\n      for (let i = 0; i < 2; i++) {\n        try {\n          console.log(`ðŸ” Fetching profile for: ${userId} (attempt ${i + 1})`);\n\n          // Set a 15 second timeout for each attempt (increased from 5s)\n          const timeoutPromise = new Promise((_, reject) => setTimeout(() => reject(new Error('Profile fetch timeout')), 15000));\n          const fetchPromise = _servicesSupabase.supabase.from('profiles').select('*').eq('id', userId).single();\n          const {\n            data,\n            error\n          } = await Promise.race([fetchPromise, timeoutPromise]);\n          if (error) {\n            // If it's a \"not found\" error, return null immediately (no retry)\n            if (error.code === 'PGRST116') {\n              console.log('âŒ No profile found (user not registered)');\n              return null;\n            }\n\n            // For other errors, retry\n            console.warn(`âš ï¸ Profile fetch error (attempt ${i + 1}):`, error.message);\n            if (i === 1) return null; // Give up after 2 tries\n            await new Promise(r => setTimeout(r, 500)); // Wait 500ms\n            continue;\n          }\n          if (data) {\n            console.log('âœ… Profile found:', data.email);\n            return data;\n          } else {\n            console.log('âŒ No profile found (data is null)');\n            return null;\n          }\n        } catch (error) {\n          console.error(`âŒ Profile fetch exception (attempt ${i + 1}):`, error.message);\n          if (i === 1) return null;\n          await new Promise(r => setTimeout(r, 500));\n        }\n      }\n      return null;\n    };\n    const refreshProfile = async () => {\n      if (session?.user) {\n        const profileData = await fetchProfile(session.user.id);\n        if (profileData) {\n          setProfile(profileData);\n          setUser(session.user);\n        }\n      }\n    };\n    const signOut = async () => {\n      try {\n        setSession(null);\n        setUser(null);\n        setProfile(null);\n        await _servicesSupabase.supabase.auth.signOut();\n      } catch (error) {\n        console.error('Sign out error:', error);\n      }\n    };\n    const value = {\n      session,\n      user,\n      profile,\n      loading,\n      signOut,\n      refreshProfile\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 12\n    }, this);\n  }\n  _s(AuthProvider, \"ht+fWJRI//CF1ra2a5y65dXYjHQ=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":262,"map":[[10,2,17,0,"exports"],[10,9,17,0],[10,10,17,0,"AuthProvider"],[10,22,17,0],[10,25,17,0,"AuthProvider"],[10,37,17,0],[11,2,250,0,"exports"],[11,9,250,0],[11,10,250,0,"useAuth"],[11,17,250,0],[11,20,250,0,"useAuth"],[11,27,250,0],[12,2,1,0],[12,6,1,0,"_react"],[12,12,1,0],[12,15,1,0,"require"],[12,22,1,0],[12,23,1,0,"_dependencyMap"],[12,37,1,0],[13,2,3,0],[13,6,3,0,"_servicesSupabase"],[13,23,3,0],[13,26,3,0,"require"],[13,33,3,0],[13,34,3,0,"_dependencyMap"],[13,48,3,0],[14,2,4,0],[14,6,4,0,"_utilsAuthState"],[14,21,4,0],[14,24,4,0,"require"],[14,31,4,0],[14,32,4,0,"_dependencyMap"],[14,46,4,0],[15,2,4,47],[15,6,4,47,"_reactJsxDevRuntime"],[15,25,4,47],[15,28,4,47,"require"],[15,35,4,47],[15,36,4,47,"_dependencyMap"],[15,50,4,47],[16,2,15,0],[16,8,15,6,"AuthContext"],[16,19,15,17],[16,35,15,20],[16,39,15,20,"createContext"],[16,45,15,33],[16,46,15,33,"createContext"],[16,59,15,33],[16,61,15,63,"undefined"],[16,70,15,72],[16,71,15,73],[17,2,17,7],[17,11,17,16,"AuthProvider"],[17,23,17,28,"AuthProvider"],[17,24,17,29],[18,4,17,31,"children"],[19,2,17,71],[19,3,17,72],[19,5,17,74],[20,4,17,74,"_s"],[20,6,17,74],[21,4,18,4],[21,10,18,10],[21,11,18,11,"session"],[21,18,18,18],[21,20,18,20,"setSession"],[21,30,18,30],[21,31,18,31],[21,34,18,34],[21,38,18,34,"useState"],[21,44,18,42],[21,45,18,42,"useState"],[21,53,18,42],[21,55,18,59],[21,59,18,63],[21,60,18,64],[22,4,19,4],[22,10,19,10],[22,11,19,11,"user"],[22,15,19,15],[22,17,19,17,"setUser"],[22,24,19,24],[22,25,19,25],[22,28,19,28],[22,32,19,28,"useState"],[22,38,19,36],[22,39,19,36,"useState"],[22,47,19,36],[22,49,19,50],[22,53,19,54],[22,54,19,55],[23,4,20,4],[23,10,20,10],[23,11,20,11,"profile"],[23,18,20,18],[23,20,20,20,"setProfile"],[23,30,20,30],[23,31,20,31],[23,34,20,34],[23,38,20,34,"useState"],[23,44,20,42],[23,45,20,42,"useState"],[23,53,20,42],[23,55,20,55],[23,59,20,59],[23,60,20,60],[24,4,21,4],[24,10,21,10],[24,11,21,11,"loading"],[24,18,21,18],[24,20,21,20,"setLoading"],[24,30,21,30],[24,31,21,31],[24,34,21,34],[24,38,21,34,"useState"],[24,44,21,42],[24,45,21,42,"useState"],[24,53,21,42],[24,55,21,43],[24,59,21,47],[24,60,21,48],[25,4,22,4],[25,10,22,10,"isInitializing"],[25,24,22,24],[25,27,22,27],[25,31,22,27,"useRef"],[25,37,22,33],[25,38,22,33,"useRef"],[25,44,22,33],[25,46,22,34],[25,51,22,39],[25,52,22,40],[26,4,24,4],[26,8,24,4,"useEffect"],[26,14,24,13],[26,15,24,13,"useEffect"],[26,24,24,13],[26,26,24,14],[26,32,24,20],[27,6,25,8],[27,10,25,12],[27,11,25,13],[27,15,25,13,"isSupabaseConfigured"],[27,32,25,33],[27,33,25,33,"isSupabaseConfigured"],[27,53,25,33],[27,55,25,34],[27,56,25,35],[27,58,25,37],[28,8,26,12,"console"],[28,15,26,19],[28,16,26,20,"log"],[28,19,26,23],[28,20,26,24],[28,48,26,52],[28,49,26,53],[29,8,27,12,"setLoading"],[29,18,27,22],[29,19,27,23],[29,24,27,28],[29,25,27,29],[30,8,28,12],[31,6,29,8],[33,6,31,8],[34,6,32,8],[34,10,32,12,"isInitializing"],[34,24,32,26],[34,25,32,27,"current"],[34,32,32,34],[34,34,32,36],[35,8,33,12,"console"],[35,15,33,19],[35,16,33,20,"log"],[35,19,33,23],[35,20,33,24],[35,70,33,74],[35,71,33,75],[36,8,34,12],[37,6,35,8],[38,6,36,8,"isInitializing"],[38,20,36,22],[38,21,36,23,"current"],[38,28,36,30],[38,31,36,33],[38,35,36,37],[40,6,38,8],[41,6,39,8,"initializeAuth"],[41,20,39,22],[41,21,39,23],[41,22,39,24],[43,6,41,8],[44,6,42,8],[44,12,42,14],[45,8,42,16,"data"],[45,12,42,20],[45,14,42,22],[46,10,42,24,"subscription"],[47,8,42,37],[48,6,42,39],[48,7,42,40],[48,10,42,43,"supabase"],[48,27,42,51],[48,28,42,51,"supabase"],[48,36,42,51],[48,37,42,52,"auth"],[48,41,42,56],[48,42,42,57,"onAuthStateChange"],[48,59,42,74],[48,60,43,12],[48,67,43,19,"event"],[48,72,43,24],[48,74,43,26,"newSession"],[48,84,43,36],[48,89,43,41],[49,8,44,16,"console"],[49,15,44,23],[49,16,44,24,"log"],[49,19,44,27],[49,20,44,28],[49,43,44,51],[49,45,44,53,"event"],[49,50,44,58],[49,52,44,60,"newSession"],[49,62,44,70],[49,64,44,72,"user"],[49,68,44,76],[49,70,44,78,"email"],[49,75,44,83],[49,76,44,84],[51,8,46,16],[52,8,47,16],[52,14,47,22,"isProcessing"],[52,26,47,34],[52,29,47,37,"authState"],[52,44,47,46],[52,45,47,46,"authState"],[52,54,47,46],[52,55,47,47,"getState"],[52,63,47,55],[52,64,47,56],[52,65,47,57],[52,66,47,58,"isProcessing"],[52,78,47,70],[53,8,48,16],[53,12,48,20,"isProcessing"],[53,24,48,32],[53,28,48,36,"event"],[53,33,48,41],[53,38,48,46],[53,49,48,57],[53,51,48,59],[54,10,49,20,"console"],[54,17,49,27],[54,18,49,28,"log"],[54,21,49,31],[54,22,49,32],[54,77,49,87],[54,78,49,88],[55,10,50,20,"setSession"],[55,20,50,30],[55,21,50,31,"newSession"],[55,31,50,41],[55,32,50,42],[56,10,51,20],[57,10,52,20],[58,8,53,16],[59,8,55,16],[59,12,55,20,"event"],[59,17,55,25],[59,22,55,30],[59,33,55,41],[59,37,55,45,"newSession"],[59,47,55,55],[59,49,55,57,"user"],[59,53,55,61],[59,55,55,63],[60,10,56,20,"setSession"],[60,20,56,30],[60,21,56,31,"newSession"],[60,31,56,41],[60,32,56,42],[61,10,57,20],[62,10,58,20],[62,16,58,26,"profileData"],[62,27,58,37],[62,30,58,40],[62,36,58,46,"fetchProfile"],[62,48,58,58],[62,49,58,59,"newSession"],[62,59,58,69],[62,60,58,70,"user"],[62,64,58,74],[62,65,58,75,"id"],[62,67,58,77],[62,68,58,78],[63,10,59,20],[63,14,59,24,"profileData"],[63,25,59,35],[63,27,59,37],[64,12,60,24,"console"],[64,19,60,31],[64,20,60,32,"log"],[64,23,60,35],[64,24,60,36],[64,62,60,74],[64,63,60,75],[65,12,61,24,"setUser"],[65,19,61,31],[65,20,61,32,"newSession"],[65,30,61,42],[65,31,61,43,"user"],[65,35,61,47],[65,36,61,48],[66,12,62,24,"setProfile"],[66,22,62,34],[66,23,62,35,"profileData"],[66,34,62,46],[66,35,62,47],[67,10,63,20],[67,11,63,21],[67,17,63,27],[68,12,64,24],[69,12,65,24],[70,12,66,24],[70,16,66,28,"user"],[70,20,66,32],[70,24,66,36,"profile"],[70,31,66,43],[70,35,66,47,"user"],[70,39,66,51],[70,40,66,52,"id"],[70,42,66,54],[70,47,66,59,"newSession"],[70,57,66,69],[70,58,66,70,"user"],[70,62,66,74],[70,63,66,75,"id"],[70,65,66,77],[70,67,66,79],[71,14,67,28,"console"],[71,21,67,35],[71,22,67,36,"warn"],[71,26,67,40],[71,27,67,41],[71,83,67,97],[71,84,67,98],[72,14,68,28],[73,12,69,24],[73,13,69,25],[73,19,69,31],[74,14,70,28],[75,14,71,28,"console"],[75,21,71,35],[75,22,71,36,"log"],[75,25,71,39],[75,26,71,40],[75,75,71,89],[75,76,71,90],[76,14,72,28,"setUser"],[76,21,72,35],[76,22,72,36],[76,26,72,40],[76,27,72,41],[77,14,73,28,"setProfile"],[77,24,73,38],[77,25,73,39],[77,29,73,43],[77,30,73,44],[78,12,74,24],[79,10,75,20],[80,10,76,20,"setLoading"],[80,20,76,30],[80,21,76,31],[80,26,76,36],[80,27,76,37],[81,8,77,16],[81,9,77,17],[81,15,77,23],[81,19,77,27,"event"],[81,24,77,32],[81,29,77,37],[81,41,77,49],[81,43,77,51],[82,10,78,20,"console"],[82,17,78,27],[82,18,78,28,"log"],[82,21,78,31],[82,22,78,32],[82,52,78,62],[82,53,78,63],[83,10,79,20,"setSession"],[83,20,79,30],[83,21,79,31],[83,25,79,35],[83,26,79,36],[84,10,80,20,"setUser"],[84,17,80,27],[84,18,80,28],[84,22,80,32],[84,23,80,33],[85,10,81,20,"setProfile"],[85,20,81,30],[85,21,81,31],[85,25,81,35],[85,26,81,36],[86,10,82,20,"setLoading"],[86,20,82,30],[86,21,82,31],[86,26,82,36],[86,27,82,37],[87,8,83,16],[87,9,83,17],[87,15,83,23],[87,19,83,27,"event"],[87,24,83,32],[87,29,83,37],[87,46,83,54],[87,50,83,58,"newSession"],[87,60,83,68],[87,62,83,70,"user"],[87,66,83,74],[87,68,83,76],[88,10,84,20],[89,10,85,20,"console"],[89,17,85,27],[89,18,85,28,"log"],[89,21,85,31],[89,22,85,32],[89,65,85,75],[89,66,85,76],[90,10,86,20,"setSession"],[90,20,86,30],[90,21,86,31,"newSession"],[90,31,86,41],[90,32,86,42],[91,10,87,20],[91,16,87,26,"profileData"],[91,27,87,37],[91,30,87,40],[91,36,87,46,"fetchProfile"],[91,48,87,58],[91,49,87,59,"newSession"],[91,59,87,69],[91,60,87,70,"user"],[91,64,87,74],[91,65,87,75,"id"],[91,67,87,77],[91,68,87,78],[92,10,88,20],[92,14,88,24,"profileData"],[92,25,88,35],[92,27,88,37],[93,12,89,24,"setUser"],[93,19,89,31],[93,20,89,32,"newSession"],[93,30,89,42],[93,31,89,43,"user"],[93,35,89,47],[93,36,89,48],[94,12,90,24,"setProfile"],[94,22,90,34],[94,23,90,35,"profileData"],[94,34,90,46],[94,35,90,47],[95,10,91,20],[95,11,91,21],[95,17,91,27],[96,12,92,24],[97,12,93,24],[98,12,94,24],[98,16,94,28,"user"],[98,20,94,32],[98,24,94,36,"profile"],[98,31,94,43],[98,35,94,47,"user"],[98,39,94,51],[98,40,94,52,"id"],[98,42,94,54],[98,47,94,59,"newSession"],[98,57,94,69],[98,58,94,70,"user"],[98,62,94,74],[98,63,94,75,"id"],[98,65,94,77],[98,67,94,79],[99,14,95,28,"console"],[99,21,95,35],[99,22,95,36,"warn"],[99,26,95,40],[99,27,95,41],[99,89,95,103],[99,90,95,104],[100,12,96,24],[100,13,96,25],[100,19,96,31],[101,14,97,28,"console"],[101,21,97,35],[101,22,97,36,"warn"],[101,26,97,40],[101,27,97,41],[101,77,97,91],[101,78,97,92],[102,14,98,28,"signOut"],[102,21,98,35],[102,22,98,36],[102,23,98,37],[103,12,99,24],[104,10,100,20],[105,8,101,16],[106,6,102,12],[106,7,103,8],[106,8,103,9],[107,6,105,8],[107,13,105,15],[107,19,105,21,"subscription"],[107,31,105,33],[107,32,105,34,"unsubscribe"],[107,43,105,45],[107,44,105,46],[107,45,105,47],[108,4,106,4],[108,5,106,5],[108,7,106,7],[108,8,106,8,"user"],[108,12,106,12],[108,14,106,14,"profile"],[108,21,106,21],[108,22,106,22],[108,23,106,23],[108,24,106,24],[108,25,106,25],[110,4,108,4],[111,4,109,4],[111,8,109,4,"useEffect"],[111,14,109,13],[111,15,109,13,"useEffect"],[111,24,109,13],[111,26,109,14],[111,32,109,20],[112,6,110,8],[112,10,110,12],[112,17,110,19,"window"],[112,23,110,25],[112,28,110,30],[112,39,110,41],[112,41,110,43],[112,48,110,50],[112,49,110,51],[114,6,112,8],[114,12,112,14,"handleVisibilityChange"],[114,34,112,36],[114,37,112,39],[114,43,112,39,"handleVisibilityChange"],[114,44,112,39],[114,49,112,51],[115,8,113,12],[115,12,113,16,"document"],[115,20,113,24],[115,21,113,25,"visibilityState"],[115,36,113,40],[115,41,113,45],[115,50,113,54],[115,54,113,58,"session"],[115,61,113,65],[115,63,113,67],[116,10,114,16,"console"],[116,17,114,23],[116,18,114,24,"log"],[116,21,114,27],[116,22,114,28],[116,63,114,69],[116,64,114,70],[117,10,115,16],[117,14,115,20],[118,12,116,20],[118,18,116,26],[119,14,116,28,"data"],[119,18,116,32],[119,20,116,34],[120,16,116,36,"session"],[120,23,116,43],[120,25,116,45,"currentSession"],[121,14,116,60],[121,15,116,61],[122,14,116,63,"error"],[123,12,116,69],[123,13,116,70],[123,16,116,73],[123,22,116,79,"supabase"],[123,39,116,87],[123,40,116,87,"supabase"],[123,48,116,87],[123,49,116,88,"auth"],[123,53,116,92],[123,54,116,93,"getSession"],[123,64,116,103],[123,65,116,104],[123,66,116,105],[124,12,118,20],[124,16,118,24,"error"],[124,21,118,29],[124,25,118,33],[124,26,118,34,"currentSession"],[124,40,118,48],[124,42,118,50],[125,14,119,24,"console"],[125,21,119,31],[125,22,119,32,"warn"],[125,26,119,36],[125,27,119,37],[125,71,119,81],[125,72,119,82],[126,14,120,24,"signOut"],[126,21,120,31],[126,22,120,32],[126,23,120,33],[127,12,121,20],[127,13,121,21],[127,19,121,27],[127,23,121,31,"currentSession"],[127,37,121,45],[127,38,121,46,"user"],[127,42,121,50],[127,43,121,51,"id"],[127,45,121,53],[127,50,121,58,"session"],[127,57,121,65],[127,58,121,66,"user"],[127,62,121,70],[127,63,121,71,"id"],[127,65,121,73],[127,67,121,75],[128,14,122,24],[129,14,123,24,"console"],[129,21,123,31],[129,22,123,32,"log"],[129,25,123,35],[129,26,123,36],[129,57,123,67],[129,58,123,68],[130,14,124,24,"window"],[130,20,124,30],[130,21,124,31,"location"],[130,29,124,39],[130,30,124,40,"reload"],[130,36,124,46],[130,37,124,47],[130,38,124,48],[131,12,125,20],[132,10,126,16],[132,11,126,17],[132,12,126,18],[132,19,126,25,"error"],[132,24,126,30],[132,26,126,32],[133,12,127,20,"console"],[133,19,127,27],[133,20,127,28,"error"],[133,25,127,33],[133,26,127,34],[133,51,127,59],[133,53,127,61,"error"],[133,58,127,66],[133,59,127,67],[134,10,128,16],[135,8,129,12],[136,6,130,8],[136,7,130,9],[137,6,132,8,"document"],[137,14,132,16],[137,15,132,17,"addEventListener"],[137,31,132,33],[137,32,132,34],[137,50,132,52],[137,52,132,54,"handleVisibilityChange"],[137,74,132,76],[137,75,132,77],[138,6,133,8],[138,13,133,15],[138,19,133,21,"document"],[138,27,133,29],[138,28,133,30,"removeEventListener"],[138,47,133,49],[138,48,133,50],[138,66,133,68],[138,68,133,70,"handleVisibilityChange"],[138,90,133,92],[138,91,133,93],[139,4,134,4],[139,5,134,5],[139,7,134,7],[139,8,134,8,"session"],[139,15,134,15],[139,16,134,16],[139,17,134,17],[140,4,136,4],[140,10,136,10,"initializeAuth"],[140,24,136,24],[140,27,136,27],[140,33,136,27,"initializeAuth"],[140,34,136,27],[140,39,136,39],[141,6,137,8],[141,10,137,12],[142,8,138,12],[142,14,138,18],[143,10,138,20,"data"],[143,14,138,24],[143,16,138,26],[144,12,138,28,"session"],[145,10,138,36],[146,8,138,38],[146,9,138,39],[146,12,138,42],[146,18,138,48,"supabase"],[146,35,138,56],[146,36,138,56,"supabase"],[146,44,138,56],[146,45,138,57,"auth"],[146,49,138,61],[146,50,138,62,"getSession"],[146,60,138,72],[146,61,138,73],[146,62,138,74],[147,8,139,12,"console"],[147,15,139,19],[147,16,139,20,"log"],[147,19,139,23],[147,20,139,24],[147,41,139,45],[147,43,139,47,"session"],[147,50,139,54],[147,52,139,56,"user"],[147,56,139,60],[147,58,139,62,"email"],[147,63,139,67],[147,64,139,68],[148,8,141,12],[148,12,141,16,"session"],[148,19,141,23],[148,21,141,25,"user"],[148,25,141,29],[148,27,141,31],[149,10,142,16,"setSession"],[149,20,142,26],[149,21,142,27,"session"],[149,28,142,34],[149,29,142,35],[150,10,143,16],[150,16,143,22,"profileData"],[150,27,143,33],[150,30,143,36],[150,36,143,42,"fetchProfile"],[150,48,143,54],[150,49,143,55,"session"],[150,56,143,62],[150,57,143,63,"user"],[150,61,143,67],[150,62,143,68,"id"],[150,64,143,70],[150,65,143,71],[151,10,144,16],[151,14,144,20,"profileData"],[151,25,144,31],[151,27,144,33],[152,12,145,20,"setUser"],[152,19,145,27],[152,20,145,28,"session"],[152,27,145,35],[152,28,145,36,"user"],[152,32,145,40],[152,33,145,41],[153,12,146,20,"setProfile"],[153,22,146,30],[153,23,146,31,"profileData"],[153,34,146,42],[153,35,146,43],[154,10,147,16],[154,11,147,17],[154,17,147,23],[155,12,148,20,"console"],[155,19,148,27],[155,20,148,28,"log"],[155,23,148,31],[155,24,148,32],[155,46,148,54],[155,47,148,55],[156,12,149,20,"setUser"],[156,19,149,27],[156,20,149,28],[156,24,149,32],[156,25,149,33],[157,10,150,16],[158,8,151,12],[159,6,152,8],[159,7,152,9],[159,8,152,10],[159,15,152,17,"error"],[159,20,152,27],[159,22,152,29],[160,8,153,12],[161,8,154,12],[161,12,154,16,"error"],[161,17,154,21],[161,18,154,22,"name"],[161,22,154,26],[161,27,154,31],[161,39,154,43],[161,43,154,47,"error"],[161,48,154,52],[161,50,154,54,"message"],[161,57,154,61],[161,59,154,63,"includes"],[161,67,154,71],[161,68,154,72],[161,77,154,81],[161,78,154,82],[161,80,154,84],[162,10,155,16,"console"],[162,17,155,23],[162,18,155,24,"log"],[162,21,155,27],[162,22,155,28],[162,61,155,67],[162,62,155,68],[163,8,156,12],[163,9,156,13],[163,15,156,19],[164,10,157,16,"console"],[164,17,157,23],[164,18,157,24,"error"],[164,23,157,29],[164,24,157,30],[164,42,157,48],[164,44,157,50,"error"],[164,49,157,55],[164,50,157,56],[165,8,158,12],[166,6,159,8],[166,7,159,9],[166,16,159,18],[167,8,160,12,"setLoading"],[167,18,160,22],[167,19,160,23],[167,24,160,28],[167,25,160,29],[168,6,161,8],[169,4,162,4],[169,5,162,5],[171,4,164,4],[172,4,165,4],[172,10,165,10,"fetchProfile"],[172,22,165,22],[172,25,165,25],[172,31,165,32,"userId"],[172,37,165,46],[172,41,165,72],[173,6,166,8],[174,6,167,8],[174,11,167,13],[174,15,167,17,"i"],[174,16,167,18],[174,19,167,21],[174,20,167,22],[174,22,167,24,"i"],[174,23,167,25],[174,26,167,28],[174,27,167,29],[174,29,167,31,"i"],[174,30,167,32],[174,32,167,34],[174,34,167,36],[175,8,168,12],[175,12,168,16],[176,10,169,16,"console"],[176,17,169,23],[176,18,169,24,"log"],[176,21,169,27],[176,22,169,28],[176,50,169,56,"userId"],[176,56,169,62],[176,69,169,75,"i"],[176,70,169,76],[176,73,169,79],[176,74,169,80],[176,77,169,83],[176,78,169,84],[178,10,171,16],[179,10,172,16],[179,16,172,22,"timeoutPromise"],[179,30,172,36],[179,33,172,39],[179,37,172,43,"Promise"],[179,44,172,50],[179,45,172,57],[179,46,172,58,"_"],[179,47,172,59],[179,49,172,61,"reject"],[179,55,172,67],[179,60,173,20,"setTimeout"],[179,70,173,30],[179,71,173,31],[179,77,173,37,"reject"],[179,83,173,43],[179,84,173,44],[179,88,173,48,"Error"],[179,93,173,53],[179,94,173,54],[179,117,173,77],[179,118,173,78],[179,119,173,79],[179,121,173,81],[179,126,173,86],[179,127,174,16],[179,128,174,17],[180,10,176,16],[180,16,176,22,"fetchPromise"],[180,28,176,34],[180,31,176,37,"supabase"],[180,48,176,45],[180,49,176,45,"supabase"],[180,57,176,45],[180,58,177,21,"from"],[180,62,177,25],[180,63,177,26],[180,73,177,36],[180,74,177,37],[180,75,178,21,"select"],[180,81,178,27],[180,82,178,28],[180,85,178,31],[180,86,178,32],[180,87,179,21,"eq"],[180,89,179,23],[180,90,179,24],[180,94,179,28],[180,96,179,30,"userId"],[180,102,179,36],[180,103,179,37],[180,104,180,21,"single"],[180,110,180,27],[180,111,180,28],[180,112,180,29],[181,10,182,16],[181,16,182,22],[182,12,182,24,"data"],[182,16,182,28],[183,12,182,30,"error"],[184,10,182,36],[184,11,182,37],[184,14,182,40],[184,20,182,46,"Promise"],[184,27,182,53],[184,28,182,54,"race"],[184,32,182,58],[184,33,182,59],[184,34,183,20,"fetchPromise"],[184,46,183,32],[184,48,184,20,"timeoutPromise"],[184,62,184,34],[184,63,185,17],[184,64,185,25],[185,10,187,16],[185,14,187,20,"error"],[185,19,187,25],[185,21,187,27],[186,12,188,20],[187,12,189,20],[187,16,189,24,"error"],[187,21,189,29],[187,22,189,30,"code"],[187,26,189,34],[187,31,189,39],[187,41,189,49],[187,43,189,51],[188,14,190,24,"console"],[188,21,190,31],[188,22,190,32,"log"],[188,25,190,35],[188,26,190,36],[188,68,190,78],[188,69,190,79],[189,14,191,24],[189,21,191,31],[189,25,191,35],[190,12,192,20],[192,12,194,20],[193,12,195,20,"console"],[193,19,195,27],[193,20,195,28,"warn"],[193,24,195,32],[193,25,195,33],[193,60,195,68,"i"],[193,61,195,69],[193,64,195,72],[193,65,195,73],[193,69,195,77],[193,71,195,79,"error"],[193,76,195,84],[193,77,195,85,"message"],[193,84,195,92],[193,85,195,93],[194,12,196,20],[194,16,196,24,"i"],[194,17,196,25],[194,22,196,30],[194,23,196,31],[194,25,196,33],[194,32,196,40],[194,36,196,44],[194,37,196,45],[194,38,196,46],[195,12,197,20],[195,18,197,26],[195,22,197,30,"Promise"],[195,29,197,37],[195,30,197,38,"r"],[195,31,197,39],[195,35,197,43,"setTimeout"],[195,45,197,53],[195,46,197,54,"r"],[195,47,197,55],[195,49,197,57],[195,52,197,60],[195,53,197,61],[195,54,197,62],[195,55,197,63],[195,56,197,64],[196,12,198,20],[197,10,199,16],[198,10,201,16],[198,14,201,20,"data"],[198,18,201,24],[198,20,201,26],[199,12,202,20,"console"],[199,19,202,27],[199,20,202,28,"log"],[199,23,202,31],[199,24,202,32],[199,42,202,50],[199,44,202,52,"data"],[199,48,202,56],[199,49,202,57,"email"],[199,54,202,62],[199,55,202,63],[200,12,203,20],[200,19,203,27,"data"],[200,23,203,31],[201,10,204,16],[201,11,204,17],[201,17,204,23],[202,12,205,20,"console"],[202,19,205,27],[202,20,205,28,"log"],[202,23,205,31],[202,24,205,32],[202,59,205,67],[202,60,205,68],[203,12,206,20],[203,19,206,27],[203,23,206,31],[204,10,207,16],[205,8,208,12],[205,9,208,13],[205,10,208,14],[205,17,208,21,"error"],[205,22,208,31],[205,24,208,33],[206,10,209,16,"console"],[206,17,209,23],[206,18,209,24,"error"],[206,23,209,29],[206,24,209,30],[206,62,209,68,"i"],[206,63,209,69],[206,66,209,72],[206,67,209,73],[206,71,209,77],[206,73,209,79,"error"],[206,78,209,84],[206,79,209,85,"message"],[206,86,209,92],[206,87,209,93],[207,10,210,16],[207,14,210,20,"i"],[207,15,210,21],[207,20,210,26],[207,21,210,27],[207,23,210,29],[207,30,210,36],[207,34,210,40],[208,10,211,16],[208,16,211,22],[208,20,211,26,"Promise"],[208,27,211,33],[208,28,211,34,"r"],[208,29,211,35],[208,33,211,39,"setTimeout"],[208,43,211,49],[208,44,211,50,"r"],[208,45,211,51],[208,47,211,53],[208,50,211,56],[208,51,211,57],[208,52,211,58],[209,8,212,12],[210,6,213,8],[211,6,214,8],[211,13,214,15],[211,17,214,19],[212,4,215,4],[212,5,215,5],[213,4,217,4],[213,10,217,10,"refreshProfile"],[213,24,217,24],[213,27,217,27],[213,33,217,27,"refreshProfile"],[213,34,217,27],[213,39,217,39],[214,6,218,8],[214,10,218,12,"session"],[214,17,218,19],[214,19,218,21,"user"],[214,23,218,25],[214,25,218,27],[215,8,219,12],[215,14,219,18,"profileData"],[215,25,219,29],[215,28,219,32],[215,34,219,38,"fetchProfile"],[215,46,219,50],[215,47,219,51,"session"],[215,54,219,58],[215,55,219,59,"user"],[215,59,219,63],[215,60,219,64,"id"],[215,62,219,66],[215,63,219,67],[216,8,220,12],[216,12,220,16,"profileData"],[216,23,220,27],[216,25,220,29],[217,10,221,16,"setProfile"],[217,20,221,26],[217,21,221,27,"profileData"],[217,32,221,38],[217,33,221,39],[218,10,222,16,"setUser"],[218,17,222,23],[218,18,222,24,"session"],[218,25,222,31],[218,26,222,32,"user"],[218,30,222,36],[218,31,222,37],[219,8,223,12],[220,6,224,8],[221,4,225,4],[221,5,225,5],[222,4,227,4],[222,10,227,10,"signOut"],[222,17,227,17],[222,20,227,20],[222,26,227,20,"signOut"],[222,27,227,20],[222,32,227,32],[223,6,228,8],[223,10,228,12],[224,8,229,12,"setSession"],[224,18,229,22],[224,19,229,23],[224,23,229,27],[224,24,229,28],[225,8,230,12,"setUser"],[225,15,230,19],[225,16,230,20],[225,20,230,24],[225,21,230,25],[226,8,231,12,"setProfile"],[226,18,231,22],[226,19,231,23],[226,23,231,27],[226,24,231,28],[227,8,232,12],[227,14,232,18,"supabase"],[227,31,232,26],[227,32,232,26,"supabase"],[227,40,232,26],[227,41,232,27,"auth"],[227,45,232,31],[227,46,232,32,"signOut"],[227,53,232,39],[227,54,232,40],[227,55,232,41],[228,6,233,8],[228,7,233,9],[228,8,233,10],[228,15,233,17,"error"],[228,20,233,22],[228,22,233,24],[229,8,234,12,"console"],[229,15,234,19],[229,16,234,20,"error"],[229,21,234,25],[229,22,234,26],[229,39,234,43],[229,41,234,45,"error"],[229,46,234,50],[229,47,234,51],[230,6,235,8],[231,4,236,4],[231,5,236,5],[232,4,238,4],[232,10,238,10,"value"],[232,15,238,15],[232,18,238,18],[233,6,239,8,"session"],[233,13,239,15],[234,6,240,8,"user"],[234,10,240,12],[235,6,241,8,"profile"],[235,13,241,15],[236,6,242,8,"loading"],[236,13,242,15],[237,6,243,8,"signOut"],[237,13,243,15],[238,6,244,8,"refreshProfile"],[239,4,245,4],[239,5,245,5],[240,4,247,4],[240,24,247,11],[240,28,247,11,"_reactJsxDevRuntime"],[240,47,247,11],[240,48,247,11,"jsxDEV"],[240,54,247,11],[240,56,247,12,"AuthContext"],[240,67,247,23],[240,68,247,24,"Provider"],[240,76,247,32],[241,6,247,33,"value"],[241,11,247,38],[241,13,247,40,"value"],[241,18,247,46],[242,6,247,46,"children"],[242,14,247,46],[242,16,247,48,"children"],[243,4,247,56],[244,6,247,56,"fileName"],[244,14,247,56],[244,16,247,56,"_jsxFileName"],[244,28,247,56],[245,6,247,56,"lineNumber"],[245,16,247,56],[246,6,247,56,"columnNumber"],[246,18,247,56],[247,4,247,56],[247,11,247,79],[247,12,247,80],[248,2,248,0],[249,2,248,1,"_s"],[249,4,248,1],[249,5,17,16,"AuthProvider"],[249,17,17,28],[250,2,17,28,"_c"],[250,4,17,28],[250,7,17,16,"AuthProvider"],[250,19,17,28],[251,2,250,7],[251,11,250,16,"useAuth"],[251,18,250,23,"useAuth"],[251,19,250,23],[251,21,250,26],[252,4,250,26,"_s2"],[252,7,250,26],[253,4,251,4],[253,10,251,10,"context"],[253,17,251,17],[253,20,251,20],[253,24,251,20,"useContext"],[253,30,251,30],[253,31,251,30,"useContext"],[253,41,251,30],[253,43,251,31,"AuthContext"],[253,54,251,42],[253,55,251,43],[254,4,252,4],[254,8,252,8,"context"],[254,15,252,15],[254,20,252,20,"undefined"],[254,29,252,29],[254,31,252,31],[255,6,253,8],[255,12,253,14],[255,16,253,18,"Error"],[255,21,253,23],[255,22,253,24],[255,67,253,69],[255,68,253,70],[256,4,254,4],[257,4,255,4],[257,11,255,11,"context"],[257,18,255,18],[258,2,256,0],[259,2,256,1,"_s2"],[259,5,256,1],[259,6,250,16,"useAuth"],[259,13,250,23],[260,2,250,23],[260,6,250,23,"_c"],[260,8,250,23],[261,2,250,23,"$RefreshReg$"],[261,14,250,23],[261,15,250,23,"_c"],[261,17,250,23],[262,0,250,23],[262,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","supabase.auth.onAuthStateChange$argument_0","<anonymous>","handleVisibilityChange","initializeAuth","fetchProfile","Promise$argument_0","setTimeout$argument_0","refreshProfile","signOut","useAuth"],"mappings":"AAA;OCgB;cCO;YCmB;aD2D;eEG,gCF;KDC;cCG;uCGG;SHkB;eEG,8EF;KDC;2BKE;KL0B;yBMG;yDCO;+BCC,gDD,QD;sCCwB,uBD;kCCc,uBD;KNI;2BSE;KTQ;oBUE;KVS;CDY;OYE;CZM"},"hasCjsExports":false},"type":"js/module"}]}