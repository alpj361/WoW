{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":86,"index":86}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":142},"end":{"line":3,"column":70,"index":212}}],"key":"KPiafkkHXMyy0AQm6tuLQc7uw64=","exportNames":["*"],"imports":1}},{"name":"../utils/authState","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":213},"end":{"line":4,"column":47,"index":260}}],"key":"NiKTyVyV9HlvikffeNdGsZOd0CQ=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/Users/pj/Desktop/Wow/frontend/src/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesSupabase = require(_dependencyMap[1], \"../services/supabase\");\n  var _utilsAuthState = require(_dependencyMap[2], \"../utils/authState\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [session, setSession] = (0, _react.useState)(null);\n    const [user, setUser] = (0, _react.useState)(null);\n    const [profile, setProfile] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const isInitializing = (0, _react.useRef)(false);\n\n    // Refs to track state inside callbacks without re-subscribing\n    const userRef = (0, _react.useRef)(null);\n    const profileRef = (0, _react.useRef)(null);\n    (0, _react.useEffect)(() => {\n      userRef.current = user;\n    }, [user]);\n    (0, _react.useEffect)(() => {\n      profileRef.current = profile;\n    }, [profile]);\n    (0, _react.useEffect)(() => {\n      if (!(0, _servicesSupabase.isSupabaseConfigured)()) {\n        console.log('âš ï¸ Supabase not configured');\n        setLoading(false);\n        return;\n      }\n\n      // Prevent race condition with double initialization\n      if (isInitializing.current) {\n        console.log('âš ï¸ Already initializing, skipping duplicate call');\n        return;\n      }\n      isInitializing.current = true;\n\n      // Get initial session\n      initializeAuth();\n\n      // Listen for auth changes\n      const {\n        data: {\n          subscription\n        }\n      } = _servicesSupabase.supabase.auth.onAuthStateChange(async (event, newSession) => {\n        console.log('ðŸ” Auth state change:', event, newSession?.user?.email);\n\n        // Check if auth-callback is processing - don't interfere\n        const isProcessing = _utilsAuthState.authState.getState().isProcessing;\n        if (isProcessing && event === 'SIGNED_IN') {\n          console.log('â³ Auth callback is processing, skipping profile check');\n          setSession(newSession);\n          // Don't set user yet - let auth-callback handle it\n          return;\n        }\n        if (event === 'SIGNED_IN' && newSession?.user) {\n          setSession(newSession);\n          // Check profile\n          const profileData = await fetchProfile(newSession.user.id);\n          if (profileData) {\n            console.log('âœ… Profile found in onAuthStateChange');\n            setUser(newSession.user);\n            setProfile(profileData);\n          } else {\n            // FIX: If we already have a user/profile and the fetch failed (likely timeout), \n            // don't kick them out immediately. Only kick out if we truly have no data.\n            // Use refs to check current state without closure staleness\n            if (userRef.current && profileRef.current && userRef.current.id === newSession.user.id) {\n              console.warn('âš ï¸ Profile fetch failed, but using cached profile data');\n              // Keep existing user/profile\n            } else {\n              // No profile = not fully registered\n              console.log('âŒ No profile in onAuthStateChange, user not set');\n              setUser(null);\n              setProfile(null);\n            }\n          }\n          setLoading(false);\n        } else if (event === 'SIGNED_OUT') {\n          console.log('ðŸšª SIGNED_OUT event received');\n          setSession(null);\n          setUser(null);\n          setProfile(null);\n          setLoading(false);\n        } else if (event === 'TOKEN_REFRESHED' && newSession?.user) {\n          // Token refresh - always re-fetch profile to ensure consistency\n          console.log('ðŸ”„ Token refreshed, re-validating profile');\n          setSession(newSession);\n          const profileData = await fetchProfile(newSession.user.id);\n          if (profileData) {\n            setUser(newSession.user);\n            setProfile(profileData);\n          } else {\n            // FIX: On token refresh, if profile fetch fails (timeout), \n            // ABSOLUTELY DO NOT SIGN OUT if we already have data.\n            if (userRef.current && profileRef.current && userRef.current.id === newSession.user.id) {\n              console.warn('âš ï¸ Profile fetch failed on refresh, keeping existing session');\n            } else {\n              console.warn('âš ï¸ Profile lost after token refresh, signing out');\n              signOut();\n            }\n          }\n        }\n      });\n      return () => subscription.unsubscribe();\n    }, []);\n\n    // Auto-recovery: Re-validate session when user returns to the page\n    (0, _react.useEffect)(() => {\n      if (typeof window === 'undefined') return; // Only on web\n\n      const handleVisibilityChange = async () => {\n        if (document.visibilityState === 'visible' && session) {\n          console.log('ðŸ‘ï¸ Page visible, re-validating session');\n          try {\n            const {\n              data: {\n                session: currentSession\n              },\n              error\n            } = await _servicesSupabase.supabase.auth.getSession();\n            if (error || !currentSession) {\n              console.warn('âš ï¸ Session expired while away, signing out');\n              signOut();\n            } else if (currentSession.user.id !== session.user.id) {\n              // Session changed (different user) - reload\n              console.log('ðŸ”„ Session changed, reloading');\n              window.location.reload();\n            }\n          } catch (error) {\n            console.error('Error checking session:', error);\n          }\n        }\n      };\n      document.addEventListener('visibilitychange', handleVisibilityChange);\n      return () => document.removeEventListener('visibilitychange', handleVisibilityChange);\n    }, [session]);\n    const initializeAuth = async () => {\n      try {\n        const {\n          data: {\n            session\n          }\n        } = await _servicesSupabase.supabase.auth.getSession();\n        console.log('ðŸ” Initial session:', session?.user?.email);\n        if (session?.user) {\n          setSession(session);\n          const profileData = await fetchProfile(session.user.id);\n          if (profileData) {\n            setUser(session.user);\n            setProfile(profileData);\n          } else {\n            console.log('âŒ No profile on init');\n            setUser(null);\n          }\n        }\n      } catch (error) {\n        // Ignore abort errors which happen on hot reload or fast navigation\n        if (error.name === 'AbortError' || error?.message?.includes('aborted')) {\n          console.log('âš ï¸ Auth init aborted (safe to ignore)');\n        } else {\n          console.error('Init auth error:', error);\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    // Fetch profile, returns profile data or null\n    const fetchProfile = async userId => {\n      // Retry logic with faster timeout for profile fetch\n      for (let i = 0; i < 2; i++) {\n        try {\n          console.log(`ðŸ” Fetching profile for: ${userId} (attempt ${i + 1})`);\n\n          // Set a 15 second timeout for each attempt (increased from 5s)\n          const timeoutPromise = new Promise((_, reject) => setTimeout(() => reject(new Error('Profile fetch timeout')), 15000));\n          const fetchPromise = _servicesSupabase.supabase.from('profiles').select('*').eq('id', userId).single();\n          const {\n            data,\n            error\n          } = await Promise.race([fetchPromise, timeoutPromise]);\n          if (error) {\n            // If it's a \"not found\" error, return null immediately (no retry)\n            if (error.code === 'PGRST116') {\n              console.log('âŒ No profile found (user not registered)');\n              return null;\n            }\n\n            // For other errors, retry\n            console.warn(`âš ï¸ Profile fetch error (attempt ${i + 1}):`, error.message);\n            if (i === 1) return null; // Give up after 2 tries\n            await new Promise(r => setTimeout(r, 500)); // Wait 500ms\n            continue;\n          }\n          if (data) {\n            console.log('âœ… Profile found:', data.email);\n            return data;\n          } else {\n            console.log('âŒ No profile found (data is null)');\n            return null;\n          }\n        } catch (error) {\n          console.error(`âŒ Profile fetch exception (attempt ${i + 1}):`, error.message);\n          if (i === 1) return null;\n          await new Promise(r => setTimeout(r, 500));\n        }\n      }\n      return null;\n    };\n    const refreshProfile = async () => {\n      if (session?.user) {\n        const profileData = await fetchProfile(session.user.id);\n        if (profileData) {\n          setProfile(profileData);\n          setUser(session.user);\n        }\n      }\n    };\n    const signOut = async () => {\n      try {\n        setSession(null);\n        setUser(null);\n        setProfile(null);\n        await _servicesSupabase.supabase.auth.signOut();\n      } catch (error) {\n        console.error('Sign out error:', error);\n      }\n    };\n    const value = {\n      session,\n      user,\n      profile,\n      loading,\n      signOut,\n      refreshProfile\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 12\n    }, this);\n  }\n  _s(AuthProvider, \"Hi4b5B90j+jsJkqlmo+w7Tc3tbk=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":273,"map":[[10,2,17,0,"exports"],[10,9,17,0],[10,10,17,0,"AuthProvider"],[10,22,17,0],[10,25,17,0,"AuthProvider"],[10,37,17,0],[11,2,258,0,"exports"],[11,9,258,0],[11,10,258,0,"useAuth"],[11,17,258,0],[11,20,258,0,"useAuth"],[11,27,258,0],[12,2,1,0],[12,6,1,0,"_react"],[12,12,1,0],[12,15,1,0,"require"],[12,22,1,0],[12,23,1,0,"_dependencyMap"],[12,37,1,0],[13,2,3,0],[13,6,3,0,"_servicesSupabase"],[13,23,3,0],[13,26,3,0,"require"],[13,33,3,0],[13,34,3,0,"_dependencyMap"],[13,48,3,0],[14,2,4,0],[14,6,4,0,"_utilsAuthState"],[14,21,4,0],[14,24,4,0,"require"],[14,31,4,0],[14,32,4,0,"_dependencyMap"],[14,46,4,0],[15,2,4,47],[15,6,4,47,"_reactJsxDevRuntime"],[15,25,4,47],[15,28,4,47,"require"],[15,35,4,47],[15,36,4,47,"_dependencyMap"],[15,50,4,47],[16,2,15,0],[16,8,15,6,"AuthContext"],[16,19,15,17],[16,35,15,20],[16,39,15,20,"createContext"],[16,45,15,33],[16,46,15,33,"createContext"],[16,59,15,33],[16,61,15,63,"undefined"],[16,70,15,72],[16,71,15,73],[17,2,17,7],[17,11,17,16,"AuthProvider"],[17,23,17,28,"AuthProvider"],[17,24,17,29],[18,4,17,31,"children"],[19,2,17,71],[19,3,17,72],[19,5,17,74],[20,4,17,74,"_s"],[20,6,17,74],[21,4,18,4],[21,10,18,10],[21,11,18,11,"session"],[21,18,18,18],[21,20,18,20,"setSession"],[21,30,18,30],[21,31,18,31],[21,34,18,34],[21,38,18,34,"useState"],[21,44,18,42],[21,45,18,42,"useState"],[21,53,18,42],[21,55,18,59],[21,59,18,63],[21,60,18,64],[22,4,19,4],[22,10,19,10],[22,11,19,11,"user"],[22,15,19,15],[22,17,19,17,"setUser"],[22,24,19,24],[22,25,19,25],[22,28,19,28],[22,32,19,28,"useState"],[22,38,19,36],[22,39,19,36,"useState"],[22,47,19,36],[22,49,19,50],[22,53,19,54],[22,54,19,55],[23,4,20,4],[23,10,20,10],[23,11,20,11,"profile"],[23,18,20,18],[23,20,20,20,"setProfile"],[23,30,20,30],[23,31,20,31],[23,34,20,34],[23,38,20,34,"useState"],[23,44,20,42],[23,45,20,42,"useState"],[23,53,20,42],[23,55,20,55],[23,59,20,59],[23,60,20,60],[24,4,21,4],[24,10,21,10],[24,11,21,11,"loading"],[24,18,21,18],[24,20,21,20,"setLoading"],[24,30,21,30],[24,31,21,31],[24,34,21,34],[24,38,21,34,"useState"],[24,44,21,42],[24,45,21,42,"useState"],[24,53,21,42],[24,55,21,43],[24,59,21,47],[24,60,21,48],[25,4,22,4],[25,10,22,10,"isInitializing"],[25,24,22,24],[25,27,22,27],[25,31,22,27,"useRef"],[25,37,22,33],[25,38,22,33,"useRef"],[25,44,22,33],[25,46,22,34],[25,51,22,39],[25,52,22,40],[27,4,24,4],[28,4,25,4],[28,10,25,10,"userRef"],[28,17,25,17],[28,20,25,20],[28,24,25,20,"useRef"],[28,30,25,26],[28,31,25,26,"useRef"],[28,37,25,26],[28,39,25,40],[28,43,25,44],[28,44,25,45],[29,4,26,4],[29,10,26,10,"profileRef"],[29,20,26,20],[29,23,26,23],[29,27,26,23,"useRef"],[29,33,26,29],[29,34,26,29,"useRef"],[29,40,26,29],[29,42,26,42],[29,46,26,46],[29,47,26,47],[30,4,28,4],[30,8,28,4,"useEffect"],[30,14,28,13],[30,15,28,13,"useEffect"],[30,24,28,13],[30,26,28,14],[30,32,28,20],[31,6,28,22,"userRef"],[31,13,28,29],[31,14,28,30,"current"],[31,21,28,37],[31,24,28,40,"user"],[31,28,28,44],[32,4,28,46],[32,5,28,47],[32,7,28,49],[32,8,28,50,"user"],[32,12,28,54],[32,13,28,55],[32,14,28,56],[33,4,29,4],[33,8,29,4,"useEffect"],[33,14,29,13],[33,15,29,13,"useEffect"],[33,24,29,13],[33,26,29,14],[33,32,29,20],[34,6,29,22,"profileRef"],[34,16,29,32],[34,17,29,33,"current"],[34,24,29,40],[34,27,29,43,"profile"],[34,34,29,50],[35,4,29,52],[35,5,29,53],[35,7,29,55],[35,8,29,56,"profile"],[35,15,29,63],[35,16,29,64],[35,17,29,65],[36,4,31,4],[36,8,31,4,"useEffect"],[36,14,31,13],[36,15,31,13,"useEffect"],[36,24,31,13],[36,26,31,14],[36,32,31,20],[37,6,32,8],[37,10,32,12],[37,11,32,13],[37,15,32,13,"isSupabaseConfigured"],[37,32,32,33],[37,33,32,33,"isSupabaseConfigured"],[37,53,32,33],[37,55,32,34],[37,56,32,35],[37,58,32,37],[38,8,33,12,"console"],[38,15,33,19],[38,16,33,20,"log"],[38,19,33,23],[38,20,33,24],[38,48,33,52],[38,49,33,53],[39,8,34,12,"setLoading"],[39,18,34,22],[39,19,34,23],[39,24,34,28],[39,25,34,29],[40,8,35,12],[41,6,36,8],[43,6,38,8],[44,6,39,8],[44,10,39,12,"isInitializing"],[44,24,39,26],[44,25,39,27,"current"],[44,32,39,34],[44,34,39,36],[45,8,40,12,"console"],[45,15,40,19],[45,16,40,20,"log"],[45,19,40,23],[45,20,40,24],[45,70,40,74],[45,71,40,75],[46,8,41,12],[47,6,42,8],[48,6,43,8,"isInitializing"],[48,20,43,22],[48,21,43,23,"current"],[48,28,43,30],[48,31,43,33],[48,35,43,37],[50,6,45,8],[51,6,46,8,"initializeAuth"],[51,20,46,22],[51,21,46,23],[51,22,46,24],[53,6,48,8],[54,6,49,8],[54,12,49,14],[55,8,49,16,"data"],[55,12,49,20],[55,14,49,22],[56,10,49,24,"subscription"],[57,8,49,37],[58,6,49,39],[58,7,49,40],[58,10,49,43,"supabase"],[58,27,49,51],[58,28,49,51,"supabase"],[58,36,49,51],[58,37,49,52,"auth"],[58,41,49,56],[58,42,49,57,"onAuthStateChange"],[58,59,49,74],[58,60,50,12],[58,67,50,19,"event"],[58,72,50,24],[58,74,50,26,"newSession"],[58,84,50,36],[58,89,50,41],[59,8,51,16,"console"],[59,15,51,23],[59,16,51,24,"log"],[59,19,51,27],[59,20,51,28],[59,43,51,51],[59,45,51,53,"event"],[59,50,51,58],[59,52,51,60,"newSession"],[59,62,51,70],[59,64,51,72,"user"],[59,68,51,76],[59,70,51,78,"email"],[59,75,51,83],[59,76,51,84],[61,8,53,16],[62,8,54,16],[62,14,54,22,"isProcessing"],[62,26,54,34],[62,29,54,37,"authState"],[62,44,54,46],[62,45,54,46,"authState"],[62,54,54,46],[62,55,54,47,"getState"],[62,63,54,55],[62,64,54,56],[62,65,54,57],[62,66,54,58,"isProcessing"],[62,78,54,70],[63,8,55,16],[63,12,55,20,"isProcessing"],[63,24,55,32],[63,28,55,36,"event"],[63,33,55,41],[63,38,55,46],[63,49,55,57],[63,51,55,59],[64,10,56,20,"console"],[64,17,56,27],[64,18,56,28,"log"],[64,21,56,31],[64,22,56,32],[64,77,56,87],[64,78,56,88],[65,10,57,20,"setSession"],[65,20,57,30],[65,21,57,31,"newSession"],[65,31,57,41],[65,32,57,42],[66,10,58,20],[67,10,59,20],[68,8,60,16],[69,8,62,16],[69,12,62,20,"event"],[69,17,62,25],[69,22,62,30],[69,33,62,41],[69,37,62,45,"newSession"],[69,47,62,55],[69,49,62,57,"user"],[69,53,62,61],[69,55,62,63],[70,10,63,20,"setSession"],[70,20,63,30],[70,21,63,31,"newSession"],[70,31,63,41],[70,32,63,42],[71,10,64,20],[72,10,65,20],[72,16,65,26,"profileData"],[72,27,65,37],[72,30,65,40],[72,36,65,46,"fetchProfile"],[72,48,65,58],[72,49,65,59,"newSession"],[72,59,65,69],[72,60,65,70,"user"],[72,64,65,74],[72,65,65,75,"id"],[72,67,65,77],[72,68,65,78],[73,10,66,20],[73,14,66,24,"profileData"],[73,25,66,35],[73,27,66,37],[74,12,67,24,"console"],[74,19,67,31],[74,20,67,32,"log"],[74,23,67,35],[74,24,67,36],[74,62,67,74],[74,63,67,75],[75,12,68,24,"setUser"],[75,19,68,31],[75,20,68,32,"newSession"],[75,30,68,42],[75,31,68,43,"user"],[75,35,68,47],[75,36,68,48],[76,12,69,24,"setProfile"],[76,22,69,34],[76,23,69,35,"profileData"],[76,34,69,46],[76,35,69,47],[77,10,70,20],[77,11,70,21],[77,17,70,27],[78,12,71,24],[79,12,72,24],[80,12,73,24],[81,12,74,24],[81,16,74,28,"userRef"],[81,23,74,35],[81,24,74,36,"current"],[81,31,74,43],[81,35,74,47,"profileRef"],[81,45,74,57],[81,46,74,58,"current"],[81,53,74,65],[81,57,74,69,"userRef"],[81,64,74,76],[81,65,74,77,"current"],[81,72,74,84],[81,73,74,85,"id"],[81,75,74,87],[81,80,74,92,"newSession"],[81,90,74,102],[81,91,74,103,"user"],[81,95,74,107],[81,96,74,108,"id"],[81,98,74,110],[81,100,74,112],[82,14,75,28,"console"],[82,21,75,35],[82,22,75,36,"warn"],[82,26,75,40],[82,27,75,41],[82,83,75,97],[82,84,75,98],[83,14,76,28],[84,12,77,24],[84,13,77,25],[84,19,77,31],[85,14,78,28],[86,14,79,28,"console"],[86,21,79,35],[86,22,79,36,"log"],[86,25,79,39],[86,26,79,40],[86,75,79,89],[86,76,79,90],[87,14,80,28,"setUser"],[87,21,80,35],[87,22,80,36],[87,26,80,40],[87,27,80,41],[88,14,81,28,"setProfile"],[88,24,81,38],[88,25,81,39],[88,29,81,43],[88,30,81,44],[89,12,82,24],[90,10,83,20],[91,10,84,20,"setLoading"],[91,20,84,30],[91,21,84,31],[91,26,84,36],[91,27,84,37],[92,8,85,16],[92,9,85,17],[92,15,85,23],[92,19,85,27,"event"],[92,24,85,32],[92,29,85,37],[92,41,85,49],[92,43,85,51],[93,10,86,20,"console"],[93,17,86,27],[93,18,86,28,"log"],[93,21,86,31],[93,22,86,32],[93,52,86,62],[93,53,86,63],[94,10,87,20,"setSession"],[94,20,87,30],[94,21,87,31],[94,25,87,35],[94,26,87,36],[95,10,88,20,"setUser"],[95,17,88,27],[95,18,88,28],[95,22,88,32],[95,23,88,33],[96,10,89,20,"setProfile"],[96,20,89,30],[96,21,89,31],[96,25,89,35],[96,26,89,36],[97,10,90,20,"setLoading"],[97,20,90,30],[97,21,90,31],[97,26,90,36],[97,27,90,37],[98,8,91,16],[98,9,91,17],[98,15,91,23],[98,19,91,27,"event"],[98,24,91,32],[98,29,91,37],[98,46,91,54],[98,50,91,58,"newSession"],[98,60,91,68],[98,62,91,70,"user"],[98,66,91,74],[98,68,91,76],[99,10,92,20],[100,10,93,20,"console"],[100,17,93,27],[100,18,93,28,"log"],[100,21,93,31],[100,22,93,32],[100,65,93,75],[100,66,93,76],[101,10,94,20,"setSession"],[101,20,94,30],[101,21,94,31,"newSession"],[101,31,94,41],[101,32,94,42],[102,10,95,20],[102,16,95,26,"profileData"],[102,27,95,37],[102,30,95,40],[102,36,95,46,"fetchProfile"],[102,48,95,58],[102,49,95,59,"newSession"],[102,59,95,69],[102,60,95,70,"user"],[102,64,95,74],[102,65,95,75,"id"],[102,67,95,77],[102,68,95,78],[103,10,96,20],[103,14,96,24,"profileData"],[103,25,96,35],[103,27,96,37],[104,12,97,24,"setUser"],[104,19,97,31],[104,20,97,32,"newSession"],[104,30,97,42],[104,31,97,43,"user"],[104,35,97,47],[104,36,97,48],[105,12,98,24,"setProfile"],[105,22,98,34],[105,23,98,35,"profileData"],[105,34,98,46],[105,35,98,47],[106,10,99,20],[106,11,99,21],[106,17,99,27],[107,12,100,24],[108,12,101,24],[109,12,102,24],[109,16,102,28,"userRef"],[109,23,102,35],[109,24,102,36,"current"],[109,31,102,43],[109,35,102,47,"profileRef"],[109,45,102,57],[109,46,102,58,"current"],[109,53,102,65],[109,57,102,69,"userRef"],[109,64,102,76],[109,65,102,77,"current"],[109,72,102,84],[109,73,102,85,"id"],[109,75,102,87],[109,80,102,92,"newSession"],[109,90,102,102],[109,91,102,103,"user"],[109,95,102,107],[109,96,102,108,"id"],[109,98,102,110],[109,100,102,112],[110,14,103,28,"console"],[110,21,103,35],[110,22,103,36,"warn"],[110,26,103,40],[110,27,103,41],[110,89,103,103],[110,90,103,104],[111,12,104,24],[111,13,104,25],[111,19,104,31],[112,14,105,28,"console"],[112,21,105,35],[112,22,105,36,"warn"],[112,26,105,40],[112,27,105,41],[112,77,105,91],[112,78,105,92],[113,14,106,28,"signOut"],[113,21,106,35],[113,22,106,36],[113,23,106,37],[114,12,107,24],[115,10,108,20],[116,8,109,16],[117,6,110,12],[117,7,111,8],[117,8,111,9],[118,6,113,8],[118,13,113,15],[118,19,113,21,"subscription"],[118,31,113,33],[118,32,113,34,"unsubscribe"],[118,43,113,45],[118,44,113,46],[118,45,113,47],[119,4,114,4],[119,5,114,5],[119,7,114,7],[119,9,114,9],[119,10,114,10],[121,4,116,4],[122,4,117,4],[122,8,117,4,"useEffect"],[122,14,117,13],[122,15,117,13,"useEffect"],[122,24,117,13],[122,26,117,14],[122,32,117,20],[123,6,118,8],[123,10,118,12],[123,17,118,19,"window"],[123,23,118,25],[123,28,118,30],[123,39,118,41],[123,41,118,43],[123,48,118,50],[123,49,118,51],[125,6,120,8],[125,12,120,14,"handleVisibilityChange"],[125,34,120,36],[125,37,120,39],[125,43,120,39,"handleVisibilityChange"],[125,44,120,39],[125,49,120,51],[126,8,121,12],[126,12,121,16,"document"],[126,20,121,24],[126,21,121,25,"visibilityState"],[126,36,121,40],[126,41,121,45],[126,50,121,54],[126,54,121,58,"session"],[126,61,121,65],[126,63,121,67],[127,10,122,16,"console"],[127,17,122,23],[127,18,122,24,"log"],[127,21,122,27],[127,22,122,28],[127,63,122,69],[127,64,122,70],[128,10,123,16],[128,14,123,20],[129,12,124,20],[129,18,124,26],[130,14,124,28,"data"],[130,18,124,32],[130,20,124,34],[131,16,124,36,"session"],[131,23,124,43],[131,25,124,45,"currentSession"],[132,14,124,60],[132,15,124,61],[133,14,124,63,"error"],[134,12,124,69],[134,13,124,70],[134,16,124,73],[134,22,124,79,"supabase"],[134,39,124,87],[134,40,124,87,"supabase"],[134,48,124,87],[134,49,124,88,"auth"],[134,53,124,92],[134,54,124,93,"getSession"],[134,64,124,103],[134,65,124,104],[134,66,124,105],[135,12,126,20],[135,16,126,24,"error"],[135,21,126,29],[135,25,126,33],[135,26,126,34,"currentSession"],[135,40,126,48],[135,42,126,50],[136,14,127,24,"console"],[136,21,127,31],[136,22,127,32,"warn"],[136,26,127,36],[136,27,127,37],[136,71,127,81],[136,72,127,82],[137,14,128,24,"signOut"],[137,21,128,31],[137,22,128,32],[137,23,128,33],[138,12,129,20],[138,13,129,21],[138,19,129,27],[138,23,129,31,"currentSession"],[138,37,129,45],[138,38,129,46,"user"],[138,42,129,50],[138,43,129,51,"id"],[138,45,129,53],[138,50,129,58,"session"],[138,57,129,65],[138,58,129,66,"user"],[138,62,129,70],[138,63,129,71,"id"],[138,65,129,73],[138,67,129,75],[139,14,130,24],[140,14,131,24,"console"],[140,21,131,31],[140,22,131,32,"log"],[140,25,131,35],[140,26,131,36],[140,57,131,67],[140,58,131,68],[141,14,132,24,"window"],[141,20,132,30],[141,21,132,31,"location"],[141,29,132,39],[141,30,132,40,"reload"],[141,36,132,46],[141,37,132,47],[141,38,132,48],[142,12,133,20],[143,10,134,16],[143,11,134,17],[143,12,134,18],[143,19,134,25,"error"],[143,24,134,30],[143,26,134,32],[144,12,135,20,"console"],[144,19,135,27],[144,20,135,28,"error"],[144,25,135,33],[144,26,135,34],[144,51,135,59],[144,53,135,61,"error"],[144,58,135,66],[144,59,135,67],[145,10,136,16],[146,8,137,12],[147,6,138,8],[147,7,138,9],[148,6,140,8,"document"],[148,14,140,16],[148,15,140,17,"addEventListener"],[148,31,140,33],[148,32,140,34],[148,50,140,52],[148,52,140,54,"handleVisibilityChange"],[148,74,140,76],[148,75,140,77],[149,6,141,8],[149,13,141,15],[149,19,141,21,"document"],[149,27,141,29],[149,28,141,30,"removeEventListener"],[149,47,141,49],[149,48,141,50],[149,66,141,68],[149,68,141,70,"handleVisibilityChange"],[149,90,141,92],[149,91,141,93],[150,4,142,4],[150,5,142,5],[150,7,142,7],[150,8,142,8,"session"],[150,15,142,15],[150,16,142,16],[150,17,142,17],[151,4,144,4],[151,10,144,10,"initializeAuth"],[151,24,144,24],[151,27,144,27],[151,33,144,27,"initializeAuth"],[151,34,144,27],[151,39,144,39],[152,6,145,8],[152,10,145,12],[153,8,146,12],[153,14,146,18],[154,10,146,20,"data"],[154,14,146,24],[154,16,146,26],[155,12,146,28,"session"],[156,10,146,36],[157,8,146,38],[157,9,146,39],[157,12,146,42],[157,18,146,48,"supabase"],[157,35,146,56],[157,36,146,56,"supabase"],[157,44,146,56],[157,45,146,57,"auth"],[157,49,146,61],[157,50,146,62,"getSession"],[157,60,146,72],[157,61,146,73],[157,62,146,74],[158,8,147,12,"console"],[158,15,147,19],[158,16,147,20,"log"],[158,19,147,23],[158,20,147,24],[158,41,147,45],[158,43,147,47,"session"],[158,50,147,54],[158,52,147,56,"user"],[158,56,147,60],[158,58,147,62,"email"],[158,63,147,67],[158,64,147,68],[159,8,149,12],[159,12,149,16,"session"],[159,19,149,23],[159,21,149,25,"user"],[159,25,149,29],[159,27,149,31],[160,10,150,16,"setSession"],[160,20,150,26],[160,21,150,27,"session"],[160,28,150,34],[160,29,150,35],[161,10,151,16],[161,16,151,22,"profileData"],[161,27,151,33],[161,30,151,36],[161,36,151,42,"fetchProfile"],[161,48,151,54],[161,49,151,55,"session"],[161,56,151,62],[161,57,151,63,"user"],[161,61,151,67],[161,62,151,68,"id"],[161,64,151,70],[161,65,151,71],[162,10,152,16],[162,14,152,20,"profileData"],[162,25,152,31],[162,27,152,33],[163,12,153,20,"setUser"],[163,19,153,27],[163,20,153,28,"session"],[163,27,153,35],[163,28,153,36,"user"],[163,32,153,40],[163,33,153,41],[164,12,154,20,"setProfile"],[164,22,154,30],[164,23,154,31,"profileData"],[164,34,154,42],[164,35,154,43],[165,10,155,16],[165,11,155,17],[165,17,155,23],[166,12,156,20,"console"],[166,19,156,27],[166,20,156,28,"log"],[166,23,156,31],[166,24,156,32],[166,46,156,54],[166,47,156,55],[167,12,157,20,"setUser"],[167,19,157,27],[167,20,157,28],[167,24,157,32],[167,25,157,33],[168,10,158,16],[169,8,159,12],[170,6,160,8],[170,7,160,9],[170,8,160,10],[170,15,160,17,"error"],[170,20,160,27],[170,22,160,29],[171,8,161,12],[172,8,162,12],[172,12,162,16,"error"],[172,17,162,21],[172,18,162,22,"name"],[172,22,162,26],[172,27,162,31],[172,39,162,43],[172,43,162,47,"error"],[172,48,162,52],[172,50,162,54,"message"],[172,57,162,61],[172,59,162,63,"includes"],[172,67,162,71],[172,68,162,72],[172,77,162,81],[172,78,162,82],[172,80,162,84],[173,10,163,16,"console"],[173,17,163,23],[173,18,163,24,"log"],[173,21,163,27],[173,22,163,28],[173,61,163,67],[173,62,163,68],[174,8,164,12],[174,9,164,13],[174,15,164,19],[175,10,165,16,"console"],[175,17,165,23],[175,18,165,24,"error"],[175,23,165,29],[175,24,165,30],[175,42,165,48],[175,44,165,50,"error"],[175,49,165,55],[175,50,165,56],[176,8,166,12],[177,6,167,8],[177,7,167,9],[177,16,167,18],[178,8,168,12,"setLoading"],[178,18,168,22],[178,19,168,23],[178,24,168,28],[178,25,168,29],[179,6,169,8],[180,4,170,4],[180,5,170,5],[182,4,172,4],[183,4,173,4],[183,10,173,10,"fetchProfile"],[183,22,173,22],[183,25,173,25],[183,31,173,32,"userId"],[183,37,173,46],[183,41,173,72],[184,6,174,8],[185,6,175,8],[185,11,175,13],[185,15,175,17,"i"],[185,16,175,18],[185,19,175,21],[185,20,175,22],[185,22,175,24,"i"],[185,23,175,25],[185,26,175,28],[185,27,175,29],[185,29,175,31,"i"],[185,30,175,32],[185,32,175,34],[185,34,175,36],[186,8,176,12],[186,12,176,16],[187,10,177,16,"console"],[187,17,177,23],[187,18,177,24,"log"],[187,21,177,27],[187,22,177,28],[187,50,177,56,"userId"],[187,56,177,62],[187,69,177,75,"i"],[187,70,177,76],[187,73,177,79],[187,74,177,80],[187,77,177,83],[187,78,177,84],[189,10,179,16],[190,10,180,16],[190,16,180,22,"timeoutPromise"],[190,30,180,36],[190,33,180,39],[190,37,180,43,"Promise"],[190,44,180,50],[190,45,180,57],[190,46,180,58,"_"],[190,47,180,59],[190,49,180,61,"reject"],[190,55,180,67],[190,60,181,20,"setTimeout"],[190,70,181,30],[190,71,181,31],[190,77,181,37,"reject"],[190,83,181,43],[190,84,181,44],[190,88,181,48,"Error"],[190,93,181,53],[190,94,181,54],[190,117,181,77],[190,118,181,78],[190,119,181,79],[190,121,181,81],[190,126,181,86],[190,127,182,16],[190,128,182,17],[191,10,184,16],[191,16,184,22,"fetchPromise"],[191,28,184,34],[191,31,184,37,"supabase"],[191,48,184,45],[191,49,184,45,"supabase"],[191,57,184,45],[191,58,185,21,"from"],[191,62,185,25],[191,63,185,26],[191,73,185,36],[191,74,185,37],[191,75,186,21,"select"],[191,81,186,27],[191,82,186,28],[191,85,186,31],[191,86,186,32],[191,87,187,21,"eq"],[191,89,187,23],[191,90,187,24],[191,94,187,28],[191,96,187,30,"userId"],[191,102,187,36],[191,103,187,37],[191,104,188,21,"single"],[191,110,188,27],[191,111,188,28],[191,112,188,29],[192,10,190,16],[192,16,190,22],[193,12,190,24,"data"],[193,16,190,28],[194,12,190,30,"error"],[195,10,190,36],[195,11,190,37],[195,14,190,40],[195,20,190,46,"Promise"],[195,27,190,53],[195,28,190,54,"race"],[195,32,190,58],[195,33,190,59],[195,34,191,20,"fetchPromise"],[195,46,191,32],[195,48,192,20,"timeoutPromise"],[195,62,192,34],[195,63,193,17],[195,64,193,25],[196,10,195,16],[196,14,195,20,"error"],[196,19,195,25],[196,21,195,27],[197,12,196,20],[198,12,197,20],[198,16,197,24,"error"],[198,21,197,29],[198,22,197,30,"code"],[198,26,197,34],[198,31,197,39],[198,41,197,49],[198,43,197,51],[199,14,198,24,"console"],[199,21,198,31],[199,22,198,32,"log"],[199,25,198,35],[199,26,198,36],[199,68,198,78],[199,69,198,79],[200,14,199,24],[200,21,199,31],[200,25,199,35],[201,12,200,20],[203,12,202,20],[204,12,203,20,"console"],[204,19,203,27],[204,20,203,28,"warn"],[204,24,203,32],[204,25,203,33],[204,60,203,68,"i"],[204,61,203,69],[204,64,203,72],[204,65,203,73],[204,69,203,77],[204,71,203,79,"error"],[204,76,203,84],[204,77,203,85,"message"],[204,84,203,92],[204,85,203,93],[205,12,204,20],[205,16,204,24,"i"],[205,17,204,25],[205,22,204,30],[205,23,204,31],[205,25,204,33],[205,32,204,40],[205,36,204,44],[205,37,204,45],[205,38,204,46],[206,12,205,20],[206,18,205,26],[206,22,205,30,"Promise"],[206,29,205,37],[206,30,205,38,"r"],[206,31,205,39],[206,35,205,43,"setTimeout"],[206,45,205,53],[206,46,205,54,"r"],[206,47,205,55],[206,49,205,57],[206,52,205,60],[206,53,205,61],[206,54,205,62],[206,55,205,63],[206,56,205,64],[207,12,206,20],[208,10,207,16],[209,10,209,16],[209,14,209,20,"data"],[209,18,209,24],[209,20,209,26],[210,12,210,20,"console"],[210,19,210,27],[210,20,210,28,"log"],[210,23,210,31],[210,24,210,32],[210,42,210,50],[210,44,210,52,"data"],[210,48,210,56],[210,49,210,57,"email"],[210,54,210,62],[210,55,210,63],[211,12,211,20],[211,19,211,27,"data"],[211,23,211,31],[212,10,212,16],[212,11,212,17],[212,17,212,23],[213,12,213,20,"console"],[213,19,213,27],[213,20,213,28,"log"],[213,23,213,31],[213,24,213,32],[213,59,213,67],[213,60,213,68],[214,12,214,20],[214,19,214,27],[214,23,214,31],[215,10,215,16],[216,8,216,12],[216,9,216,13],[216,10,216,14],[216,17,216,21,"error"],[216,22,216,31],[216,24,216,33],[217,10,217,16,"console"],[217,17,217,23],[217,18,217,24,"error"],[217,23,217,29],[217,24,217,30],[217,62,217,68,"i"],[217,63,217,69],[217,66,217,72],[217,67,217,73],[217,71,217,77],[217,73,217,79,"error"],[217,78,217,84],[217,79,217,85,"message"],[217,86,217,92],[217,87,217,93],[218,10,218,16],[218,14,218,20,"i"],[218,15,218,21],[218,20,218,26],[218,21,218,27],[218,23,218,29],[218,30,218,36],[218,34,218,40],[219,10,219,16],[219,16,219,22],[219,20,219,26,"Promise"],[219,27,219,33],[219,28,219,34,"r"],[219,29,219,35],[219,33,219,39,"setTimeout"],[219,43,219,49],[219,44,219,50,"r"],[219,45,219,51],[219,47,219,53],[219,50,219,56],[219,51,219,57],[219,52,219,58],[220,8,220,12],[221,6,221,8],[222,6,222,8],[222,13,222,15],[222,17,222,19],[223,4,223,4],[223,5,223,5],[224,4,225,4],[224,10,225,10,"refreshProfile"],[224,24,225,24],[224,27,225,27],[224,33,225,27,"refreshProfile"],[224,34,225,27],[224,39,225,39],[225,6,226,8],[225,10,226,12,"session"],[225,17,226,19],[225,19,226,21,"user"],[225,23,226,25],[225,25,226,27],[226,8,227,12],[226,14,227,18,"profileData"],[226,25,227,29],[226,28,227,32],[226,34,227,38,"fetchProfile"],[226,46,227,50],[226,47,227,51,"session"],[226,54,227,58],[226,55,227,59,"user"],[226,59,227,63],[226,60,227,64,"id"],[226,62,227,66],[226,63,227,67],[227,8,228,12],[227,12,228,16,"profileData"],[227,23,228,27],[227,25,228,29],[228,10,229,16,"setProfile"],[228,20,229,26],[228,21,229,27,"profileData"],[228,32,229,38],[228,33,229,39],[229,10,230,16,"setUser"],[229,17,230,23],[229,18,230,24,"session"],[229,25,230,31],[229,26,230,32,"user"],[229,30,230,36],[229,31,230,37],[230,8,231,12],[231,6,232,8],[232,4,233,4],[232,5,233,5],[233,4,235,4],[233,10,235,10,"signOut"],[233,17,235,17],[233,20,235,20],[233,26,235,20,"signOut"],[233,27,235,20],[233,32,235,32],[234,6,236,8],[234,10,236,12],[235,8,237,12,"setSession"],[235,18,237,22],[235,19,237,23],[235,23,237,27],[235,24,237,28],[236,8,238,12,"setUser"],[236,15,238,19],[236,16,238,20],[236,20,238,24],[236,21,238,25],[237,8,239,12,"setProfile"],[237,18,239,22],[237,19,239,23],[237,23,239,27],[237,24,239,28],[238,8,240,12],[238,14,240,18,"supabase"],[238,31,240,26],[238,32,240,26,"supabase"],[238,40,240,26],[238,41,240,27,"auth"],[238,45,240,31],[238,46,240,32,"signOut"],[238,53,240,39],[238,54,240,40],[238,55,240,41],[239,6,241,8],[239,7,241,9],[239,8,241,10],[239,15,241,17,"error"],[239,20,241,22],[239,22,241,24],[240,8,242,12,"console"],[240,15,242,19],[240,16,242,20,"error"],[240,21,242,25],[240,22,242,26],[240,39,242,43],[240,41,242,45,"error"],[240,46,242,50],[240,47,242,51],[241,6,243,8],[242,4,244,4],[242,5,244,5],[243,4,246,4],[243,10,246,10,"value"],[243,15,246,15],[243,18,246,18],[244,6,247,8,"session"],[244,13,247,15],[245,6,248,8,"user"],[245,10,248,12],[246,6,249,8,"profile"],[246,13,249,15],[247,6,250,8,"loading"],[247,13,250,15],[248,6,251,8,"signOut"],[248,13,251,15],[249,6,252,8,"refreshProfile"],[250,4,253,4],[250,5,253,5],[251,4,255,4],[251,24,255,11],[251,28,255,11,"_reactJsxDevRuntime"],[251,47,255,11],[251,48,255,11,"jsxDEV"],[251,54,255,11],[251,56,255,12,"AuthContext"],[251,67,255,23],[251,68,255,24,"Provider"],[251,76,255,32],[252,6,255,33,"value"],[252,11,255,38],[252,13,255,40,"value"],[252,18,255,46],[253,6,255,46,"children"],[253,14,255,46],[253,16,255,48,"children"],[254,4,255,56],[255,6,255,56,"fileName"],[255,14,255,56],[255,16,255,56,"_jsxFileName"],[255,28,255,56],[256,6,255,56,"lineNumber"],[256,16,255,56],[257,6,255,56,"columnNumber"],[257,18,255,56],[258,4,255,56],[258,11,255,79],[258,12,255,80],[259,2,256,0],[260,2,256,1,"_s"],[260,4,256,1],[260,5,17,16,"AuthProvider"],[260,17,17,28],[261,2,17,28,"_c"],[261,4,17,28],[261,7,17,16,"AuthProvider"],[261,19,17,28],[262,2,258,7],[262,11,258,16,"useAuth"],[262,18,258,23,"useAuth"],[262,19,258,23],[262,21,258,26],[263,4,258,26,"_s2"],[263,7,258,26],[264,4,259,4],[264,10,259,10,"context"],[264,17,259,17],[264,20,259,20],[264,24,259,20,"useContext"],[264,30,259,30],[264,31,259,30,"useContext"],[264,41,259,30],[264,43,259,31,"AuthContext"],[264,54,259,42],[264,55,259,43],[265,4,260,4],[265,8,260,8,"context"],[265,15,260,15],[265,20,260,20,"undefined"],[265,29,260,29],[265,31,260,31],[266,6,261,8],[266,12,261,14],[266,16,261,18,"Error"],[266,21,261,23],[266,22,261,24],[266,67,261,69],[266,68,261,70],[267,4,262,4],[268,4,263,4],[268,11,263,11,"context"],[268,18,263,18],[269,2,264,0],[270,2,264,1,"_s2"],[270,5,264,1],[270,6,258,16,"useAuth"],[270,13,258,23],[271,2,258,23],[271,6,258,23,"_c"],[271,8,258,23],[272,2,258,23,"$RefreshReg$"],[272,14,258,23],[272,15,258,23,"_c"],[272,17,258,23],[273,0,258,23],[273,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","supabase.auth.onAuthStateChange$argument_0","<anonymous>","handleVisibilityChange","initializeAuth","fetchProfile","Promise$argument_0","setTimeout$argument_0","refreshProfile","signOut","useAuth"],"mappings":"AAA;OCgB;cCW,iCD;cCC,uCD;cCE;YCmB;aD4D;eEG,gCF;KDC;cCG;uCGG;SHkB;eEG,8EF;KDC;2BKE;KL0B;yBMG;yDCO;+BCC,gDD,QD;sCCwB,uBD;kCCc,uBD;KNI;2BSE;KTQ;oBUE;KVS;CDY;OYE;CZM"},"hasCjsExports":false},"type":"js/module"}]}