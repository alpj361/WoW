{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":86,"index":86}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"../services/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":183},"end":{"line":4,"column":70,"index":253}}],"key":"KPiafkkHXMyy0AQm6tuLQc7uw64=","exportNames":["*"],"imports":1}},{"name":"../utils/authState","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":254},"end":{"line":5,"column":47,"index":301}}],"key":"NiKTyVyV9HlvikffeNdGsZOd0CQ=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":302},"end":{"line":6,"column":69,"index":371}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/Users/pj/Desktop/Wow/frontend/src/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _servicesSupabase = require(_dependencyMap[2], \"../services/supabase\");\n  var _utilsAuthState = require(_dependencyMap[3], \"../utils/authState\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[4], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactJsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  const PROFILE_CACHE_KEY = 'user_profile_cache';\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n\n  // Module-level flag removed - using authState.isInitialized instead (survives module reloads)\n\n  // Merge avatar_url from user_metadata into a cached profile if missing or stale\n  const mergeAvatarFromMetadata = (cachedProfile, user) => {\n    if (!user || !cachedProfile) return cachedProfile;\n    const metaAvatar = user.user_metadata?.avatar_url || user.user_metadata?.picture;\n    if (metaAvatar && (!cachedProfile.avatar_url || cachedProfile.avatar_url !== metaAvatar)) {\n      console.log('ðŸ–¼ï¸ Updating avatar_url from user_metadata');\n      return Object.assign({}, cachedProfile, {\n        avatar_url: metaAvatar\n      });\n    }\n    return cachedProfile;\n  };\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [session, setSession] = (0, _react.useState)(null);\n    const [user, setUser] = (0, _react.useState)(null);\n    const [profile, setProfile] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const isInitializing = (0, _react.useRef)(false);\n    const pendingFetchPromise = (0, _react.useRef)(null);\n\n    // Refs to track state inside callbacks without re-subscribing\n    const userRef = (0, _react.useRef)(null);\n    const profileRef = (0, _react.useRef)(null);\n    (0, _react.useEffect)(() => {\n      userRef.current = user;\n    }, [user]);\n    (0, _react.useEffect)(() => {\n      profileRef.current = profile;\n    }, [profile]);\n    (0, _react.useEffect)(() => {\n      if (!(0, _servicesSupabase.isSupabaseConfigured)()) {\n        console.log('âš ï¸ Supabase not configured');\n        setLoading(false);\n        return;\n      }\n\n      // Prevent re-initialization on component remount (critical for expo-router)\n      // Using authState.isInitialized which persists across module reloads\n      if (_utilsAuthState.authState.getState().isInitialized) {\n        console.log('âš ï¸ Already initialized once, restoring from cache');\n        // Still need to restore state and set loading=false\n        restoreFromCache();\n        return;\n      }\n      _utilsAuthState.authState.setInitialized(true);\n\n      // Also set the ref for within-render safety\n      if (isInitializing.current) {\n        console.log('âš ï¸ Already initializing, skipping duplicate call');\n        // Don't return without ensuring loading is handled - restoreFromCache already called above\n        return;\n      }\n      isInitializing.current = true;\n\n      // Get initial session\n      initializeAuth();\n\n      // Listen for auth changes\n      const {\n        data: {\n          subscription\n        }\n      } = _servicesSupabase.supabase.auth.onAuthStateChange(async (event, newSession) => {\n        console.log('ðŸ” Auth state change:', event, newSession?.user?.email);\n\n        // INITIAL_SESSION is handled by initializeAuth() - skip to avoid duplicated work\n        if (event === 'INITIAL_SESSION') {\n          console.log('â­ï¸ Skipping INITIAL_SESSION (handled by initializeAuth)');\n          return;\n        }\n\n        // Check if auth-callback is processing - set session+user but skip profile fetch\n        const isProcessing = _utilsAuthState.authState.getState().isProcessing;\n        if (isProcessing && event === 'SIGNED_IN') {\n          console.log('â³ Auth callback is processing, setting session+user (skip profile fetch)');\n          setSession(newSession);\n          setUser(newSession?.user ?? null);\n          setLoading(false);\n          return;\n        }\n        if (event === 'SIGNED_IN' && newSession?.user) {\n          setSession(newSession);\n\n          // 1. Primero verificar memoria\n          if (profileRef.current && profileRef.current.id === newSession.user.id) {\n            console.log('ðŸš€ Using memory profile for SIGNED_IN');\n            const merged = mergeAvatarFromMetadata(profileRef.current, newSession.user);\n            if (merged !== profileRef.current) {\n              setProfile(merged);\n              await AsyncStorage.default.setItem(PROFILE_CACHE_KEY, JSON.stringify(merged));\n            }\n            setUser(newSession.user);\n            setLoading(false);\n            return;\n          }\n\n          // 2. Verificar AsyncStorage cache ANTES de fetch\n          const cachedStr = await AsyncStorage.default.getItem(PROFILE_CACHE_KEY);\n          if (cachedStr) {\n            try {\n              const cached = JSON.parse(cachedStr);\n              if (cached.id === newSession.user.id) {\n                console.log('ðŸ“¦ Using cached profile for SIGNED_IN');\n                const merged = mergeAvatarFromMetadata(cached, newSession.user);\n                setUser(newSession.user);\n                setProfile(merged);\n                if (merged !== cached) {\n                  await AsyncStorage.default.setItem(PROFILE_CACHE_KEY, JSON.stringify(merged));\n                }\n                setLoading(false);\n                return; // NO hacer fetch\n              }\n            } catch (e) {/* continue to fetch */}\n          }\n\n          // 3. Solo si no hay cache, hacer fetch\n          const profileData = await fetchProfile(newSession.user.id);\n          if (profileData) {\n            console.log('âœ… Profile found in onAuthStateChange');\n            setUser(newSession.user);\n            setProfile(profileData);\n            // Reset authState now that user is fully authenticated\n            _utilsAuthState.authState.reset();\n          } else {\n            // Si no hay datos en ningÃºn lado\n            console.log('âŒ No profile in onAuthStateChange (and no cache), user not set');\n            setUser(null);\n            setProfile(null);\n            _utilsAuthState.authState.reset();\n          }\n          setLoading(false);\n        } else if (event === 'SIGNED_OUT') {\n          console.log('ðŸšª SIGNED_OUT event received');\n          _utilsAuthState.authState.reset();\n          setSession(null);\n          setUser(null);\n          setProfile(null);\n          setLoading(false);\n        } else if (event === 'TOKEN_REFRESHED' && newSession?.user) {\n          // Token refresh - always re-fetch profile to ensure consistency\n          console.log('ðŸ”„ Token refreshed, re-validating profile');\n          setSession(newSession);\n          const profileData = await fetchProfile(newSession.user.id);\n          if (profileData) {\n            setUser(newSession.user);\n            setProfile(profileData);\n          } else {\n            // FIX: On token refresh, if profile fetch fails (timeout), \n            // ABSOLUTELY DO NOT SIGN OUT if we already have data.\n            if (userRef.current && profileRef.current && userRef.current.id === newSession.user.id) {\n              console.warn('âš ï¸ Profile fetch failed on refresh, keeping existing session');\n            } else {\n              console.warn('âš ï¸ Profile lost after token refresh, signing out');\n              signOut();\n            }\n          }\n        }\n      });\n      return () => subscription.unsubscribe();\n    }, []);\n\n    // Auto-recovery: Re-validate session when user returns to the page (web only)\n    (0, _react.useEffect)(() => {\n      // Only run on web platform\n      if (Platform.default.OS !== 'web') return;\n      if (typeof window === 'undefined' || typeof document === 'undefined') return;\n      const handleVisibilityChange = async () => {\n        if (document.visibilityState === 'visible' && session) {\n          console.log('ðŸ‘ï¸ Page visible, checking session validity');\n          try {\n            const {\n              error\n            } = await _servicesSupabase.supabase.auth.getSession();\n            if (error) {\n              console.warn('âš ï¸ Session invalid, signing out');\n              signOut();\n            }\n            // NO re-fetch profile - usar datos existentes en memoria\n          } catch (error) {\n            console.error('Error checking session:', error);\n          }\n        }\n      };\n      document.addEventListener('visibilitychange', handleVisibilityChange);\n      return () => document.removeEventListener('visibilitychange', handleVisibilityChange);\n    }, [session]);\n\n    // Quick restore from cache when already initialized (prevents loading stuck)\n    const restoreFromCache = async () => {\n      try {\n        const cachedProfileStr = await AsyncStorage.default.getItem(PROFILE_CACHE_KEY);\n        if (cachedProfileStr) {\n          const cachedProfile = JSON.parse(cachedProfileStr);\n          const {\n            data: {\n              session: currentSession\n            }\n          } = await _servicesSupabase.supabase.auth.getSession();\n          if (currentSession?.user && cachedProfile.id === currentSession.user.id) {\n            console.log('ðŸ”„ Restored from cache after re-mount');\n            const merged = mergeAvatarFromMetadata(cachedProfile, currentSession.user);\n            setSession(currentSession);\n            setUser(currentSession.user);\n            setProfile(merged);\n            if (merged !== cachedProfile) {\n              await AsyncStorage.default.setItem(PROFILE_CACHE_KEY, JSON.stringify(merged));\n            }\n          }\n        }\n      } catch (e) {\n        console.error('Error restoring from cache:', e);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const initializeAuth = async () => {\n      try {\n        // Step 1: Try to load from cache first for instant UI\n        const cachedProfileStr = await AsyncStorage.default.getItem(PROFILE_CACHE_KEY);\n        let cachedProfile = null;\n        if (cachedProfileStr) {\n          try {\n            cachedProfile = JSON.parse(cachedProfileStr);\n            console.log('ðŸ“¦ Loaded cached profile:', cachedProfile.email);\n          } catch (e) {\n            console.error('Failed to parse cached profile', e);\n          }\n        }\n        const {\n          data: {\n            session\n          }\n        } = await _servicesSupabase.supabase.auth.getSession();\n        console.log('ðŸ” Initial session:', session?.user?.email);\n        if (session?.user) {\n          setSession(session);\n\n          // If we have a cached profile and it matches the current user, use it immediately\n          // and DO NOT fetch - the cache is sufficient for loading the app\n          if (cachedProfile && cachedProfile.id === session.user.id) {\n            console.log('ðŸš€ Using cached profile for instant load');\n            const merged = mergeAvatarFromMetadata(cachedProfile, session.user);\n            setUser(session.user);\n            setProfile(merged);\n            if (merged !== cachedProfile) {\n              await AsyncStorage.default.setItem(PROFILE_CACHE_KEY, JSON.stringify(merged));\n            }\n            _utilsAuthState.authState.reset(); // Clean state after successful load\n            setLoading(false);\n            return; // NO fetch - cache is sufficient\n          }\n\n          // Solo fetch si NO hay cache vÃ¡lido\n          const profileData = await fetchProfile(session.user.id);\n          if (profileData) {\n            setUser(session.user);\n            setProfile(profileData);\n            _utilsAuthState.authState.reset(); // Clean state after successful load\n          } else {\n            // No cache AND fetch failed - treat as no profile\n            console.log('âŒ No profile on init (and no cache)');\n            setUser(null);\n            _utilsAuthState.authState.reset();\n          }\n        }\n      } catch (error) {\n        // Ignore abort errors which happen on hot reload or fast navigation\n        if (error.name !== 'AbortError' && !error?.message?.includes('aborted')) {\n          console.error('Init auth error:', error);\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    // Fetch profile with Promise-based deduplication\n    const fetchProfile = async (userId, options) => {\n      // Si ya hay un fetch en progreso, esperar ese resultado\n      if (pendingFetchPromise.current) {\n        console.log('â³ Waiting for existing fetch to complete');\n        return pendingFetchPromise.current;\n      }\n\n      // OpciÃ³n para skip si hay cache vÃ¡lido\n      if (options?.skipIfCached) {\n        const cachedStr = await AsyncStorage.default.getItem(PROFILE_CACHE_KEY);\n        if (cachedStr) {\n          try {\n            const cached = JSON.parse(cachedStr);\n            if (cached.id === userId) {\n              console.log('ðŸ“¦ Using cached profile, skipping fetch');\n              return cached;\n            }\n          } catch (e) {/* ignore */}\n        }\n      }\n\n      // Crear la promesa y guardarla\n      const fetchPromise = (async () => {\n        try {\n          console.log(`ðŸ” Fetching profile for: ${userId}`);\n\n          // Timeout de 10s (tenemos cache como fallback)\n          const timeoutPromise = new Promise((_, reject) => setTimeout(() => reject(new Error('Profile fetch timeout')), 10000));\n          const {\n            data,\n            error\n          } = await Promise.race([_servicesSupabase.supabase.from('profiles').select('*').eq('id', userId).single(), timeoutPromise]);\n          if (error) {\n            if (error.code === 'PGRST116') {\n              console.log('âŒ No profile found (user not registered)');\n              return null;\n            }\n            console.warn('âš ï¸ Profile fetch error:', error.message);\n            return null;\n          }\n          if (data) {\n            console.log('âœ… Profile found:', data.email);\n            await AsyncStorage.default.setItem(PROFILE_CACHE_KEY, JSON.stringify(data));\n            return data;\n          }\n          return null;\n        } catch (error) {\n          console.error('âŒ Profile fetch exception:', error.message);\n          return null;\n        } finally {\n          pendingFetchPromise.current = null;\n        }\n      })();\n      pendingFetchPromise.current = fetchPromise;\n      return fetchPromise;\n    };\n    const refreshProfile = async () => {\n      if (session?.user) {\n        const profileData = await fetchProfile(session.user.id);\n        if (profileData) {\n          setProfile(profileData);\n          setUser(session.user);\n        }\n      }\n    };\n    const signOut = async () => {\n      try {\n        setSession(null);\n        setUser(null);\n        setProfile(null);\n        await AsyncStorage.default.removeItem(PROFILE_CACHE_KEY); // Clear cache on logout\n        await _servicesSupabase.supabase.auth.signOut();\n      } catch (error) {\n        console.error('Sign out error:', error);\n      }\n    };\n    const value = {\n      session,\n      user,\n      profile,\n      loading,\n      signOut,\n      refreshProfile\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 12\n    }, this);\n  }\n  _s(AuthProvider, \"sf6z+JazA0WnkaR0UdhtBHBhRIU=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":415,"map":[[15,2,34,0,"exports"],[15,9,34,0],[15,10,34,0,"AuthProvider"],[15,22,34,0],[15,25,34,0,"AuthProvider"],[15,37,34,0],[16,2,389,0,"exports"],[16,9,389,0],[16,10,389,0,"useAuth"],[16,17,389,0],[16,20,389,0,"useAuth"],[16,27,389,0],[17,2,1,0],[17,6,1,0,"_react"],[17,12,1,0],[17,15,1,0,"require"],[17,22,1,0],[17,23,1,0,"_dependencyMap"],[17,37,1,0],[18,2,1,86],[18,6,1,86,"_reactNativeWebDistExportsPlatform"],[18,40,1,86],[18,43,1,86,"require"],[18,50,1,86],[18,51,1,86,"_dependencyMap"],[18,65,1,86],[19,2,1,86],[19,6,1,86,"Platform"],[19,14,1,86],[19,17,1,86,"_interopDefault"],[19,32,1,86],[19,33,1,86,"_reactNativeWebDistExportsPlatform"],[19,67,1,86],[20,2,4,0],[20,6,4,0,"_servicesSupabase"],[20,23,4,0],[20,26,4,0,"require"],[20,33,4,0],[20,34,4,0,"_dependencyMap"],[20,48,4,0],[21,2,5,0],[21,6,5,0,"_utilsAuthState"],[21,21,5,0],[21,24,5,0,"require"],[21,31,5,0],[21,32,5,0,"_dependencyMap"],[21,46,5,0],[22,2,6,0],[22,6,6,0,"_reactNativeAsyncStorageAsyncStorage"],[22,42,6,0],[22,45,6,0,"require"],[22,52,6,0],[22,53,6,0,"_dependencyMap"],[22,67,6,0],[23,2,6,0],[23,6,6,0,"AsyncStorage"],[23,18,6,0],[23,21,6,0,"_interopDefault"],[23,36,6,0],[23,37,6,0,"_reactNativeAsyncStorageAsyncStorage"],[23,73,6,0],[24,2,6,69],[24,6,6,69,"_reactJsxDevRuntime"],[24,25,6,69],[24,28,6,69,"require"],[24,35,6,69],[24,36,6,69,"_dependencyMap"],[24,50,6,69],[25,2,8,0],[25,8,8,6,"PROFILE_CACHE_KEY"],[25,25,8,23],[25,28,8,26],[25,48,8,46],[26,2,19,0],[26,8,19,6,"AuthContext"],[26,19,19,17],[26,35,19,20],[26,39,19,20,"createContext"],[26,45,19,33],[26,46,19,33,"createContext"],[26,59,19,33],[26,61,19,63,"undefined"],[26,70,19,72],[26,71,19,73],[28,2,21,0],[30,2,23,0],[31,2,24,0],[31,8,24,6,"mergeAvatarFromMetadata"],[31,31,24,29],[31,34,24,32,"mergeAvatarFromMetadata"],[31,35,24,33,"cachedProfile"],[31,48,24,51],[31,50,24,53,"user"],[31,54,24,70],[31,59,24,80],[32,4,25,4],[32,8,25,8],[32,9,25,9,"user"],[32,13,25,13],[32,17,25,17],[32,18,25,18,"cachedProfile"],[32,31,25,31],[32,33,25,33],[32,40,25,40,"cachedProfile"],[32,53,25,53],[33,4,26,4],[33,10,26,10,"metaAvatar"],[33,20,26,20],[33,23,26,23,"user"],[33,27,26,27],[33,28,26,28,"user_metadata"],[33,41,26,41],[33,43,26,43,"avatar_url"],[33,53,26,53],[33,57,26,57,"user"],[33,61,26,61],[33,62,26,62,"user_metadata"],[33,75,26,75],[33,77,26,77,"picture"],[33,84,26,84],[34,4,27,4],[34,8,27,8,"metaAvatar"],[34,18,27,18],[34,23,27,23],[34,24,27,24,"cachedProfile"],[34,37,27,37],[34,38,27,38,"avatar_url"],[34,48,27,48],[34,52,27,52,"cachedProfile"],[34,65,27,65],[34,66,27,66,"avatar_url"],[34,76,27,76],[34,81,27,81,"metaAvatar"],[34,91,27,91],[34,92,27,92],[34,94,27,94],[35,6,28,8,"console"],[35,13,28,15],[35,14,28,16,"log"],[35,17,28,19],[35,18,28,20],[35,62,28,64],[35,63,28,65],[36,6,29,8],[36,13,29,8,"Object"],[36,19,29,8],[36,20,29,8,"assign"],[36,26,29,8],[36,31,29,20,"cachedProfile"],[36,44,29,33],[37,8,29,35,"avatar_url"],[37,18,29,45],[37,20,29,47,"metaAvatar"],[38,6,29,57],[39,4,30,4],[40,4,31,4],[40,11,31,11,"cachedProfile"],[40,24,31,24],[41,2,32,0],[41,3,32,1],[42,2,34,7],[42,11,34,16,"AuthProvider"],[42,23,34,28,"AuthProvider"],[42,24,34,29],[43,4,34,31,"children"],[44,2,34,71],[44,3,34,72],[44,5,34,74],[45,4,34,74,"_s"],[45,6,34,74],[46,4,35,4],[46,10,35,10],[46,11,35,11,"session"],[46,18,35,18],[46,20,35,20,"setSession"],[46,30,35,30],[46,31,35,31],[46,34,35,34],[46,38,35,34,"useState"],[46,44,35,42],[46,45,35,42,"useState"],[46,53,35,42],[46,55,35,59],[46,59,35,63],[46,60,35,64],[47,4,36,4],[47,10,36,10],[47,11,36,11,"user"],[47,15,36,15],[47,17,36,17,"setUser"],[47,24,36,24],[47,25,36,25],[47,28,36,28],[47,32,36,28,"useState"],[47,38,36,36],[47,39,36,36,"useState"],[47,47,36,36],[47,49,36,50],[47,53,36,54],[47,54,36,55],[48,4,37,4],[48,10,37,10],[48,11,37,11,"profile"],[48,18,37,18],[48,20,37,20,"setProfile"],[48,30,37,30],[48,31,37,31],[48,34,37,34],[48,38,37,34,"useState"],[48,44,37,42],[48,45,37,42,"useState"],[48,53,37,42],[48,55,37,55],[48,59,37,59],[48,60,37,60],[49,4,38,4],[49,10,38,10],[49,11,38,11,"loading"],[49,18,38,18],[49,20,38,20,"setLoading"],[49,30,38,30],[49,31,38,31],[49,34,38,34],[49,38,38,34,"useState"],[49,44,38,42],[49,45,38,42,"useState"],[49,53,38,42],[49,55,38,43],[49,59,38,47],[49,60,38,48],[50,4,39,4],[50,10,39,10,"isInitializing"],[50,24,39,24],[50,27,39,27],[50,31,39,27,"useRef"],[50,37,39,33],[50,38,39,33,"useRef"],[50,44,39,33],[50,46,39,34],[50,51,39,39],[50,52,39,40],[51,4,40,4],[51,10,40,10,"pendingFetchPromise"],[51,29,40,29],[51,32,40,32],[51,36,40,32,"useRef"],[51,42,40,38],[51,43,40,38,"useRef"],[51,49,40,38],[51,51,40,67],[51,55,40,71],[51,56,40,72],[53,4,42,4],[54,4,43,4],[54,10,43,10,"userRef"],[54,17,43,17],[54,20,43,20],[54,24,43,20,"useRef"],[54,30,43,26],[54,31,43,26,"useRef"],[54,37,43,26],[54,39,43,40],[54,43,43,44],[54,44,43,45],[55,4,44,4],[55,10,44,10,"profileRef"],[55,20,44,20],[55,23,44,23],[55,27,44,23,"useRef"],[55,33,44,29],[55,34,44,29,"useRef"],[55,40,44,29],[55,42,44,42],[55,46,44,46],[55,47,44,47],[56,4,46,4],[56,8,46,4,"useEffect"],[56,14,46,13],[56,15,46,13,"useEffect"],[56,24,46,13],[56,26,46,14],[56,32,46,20],[57,6,46,22,"userRef"],[57,13,46,29],[57,14,46,30,"current"],[57,21,46,37],[57,24,46,40,"user"],[57,28,46,44],[58,4,46,46],[58,5,46,47],[58,7,46,49],[58,8,46,50,"user"],[58,12,46,54],[58,13,46,55],[58,14,46,56],[59,4,47,4],[59,8,47,4,"useEffect"],[59,14,47,13],[59,15,47,13,"useEffect"],[59,24,47,13],[59,26,47,14],[59,32,47,20],[60,6,47,22,"profileRef"],[60,16,47,32],[60,17,47,33,"current"],[60,24,47,40],[60,27,47,43,"profile"],[60,34,47,50],[61,4,47,52],[61,5,47,53],[61,7,47,55],[61,8,47,56,"profile"],[61,15,47,63],[61,16,47,64],[61,17,47,65],[62,4,49,4],[62,8,49,4,"useEffect"],[62,14,49,13],[62,15,49,13,"useEffect"],[62,24,49,13],[62,26,49,14],[62,32,49,20],[63,6,50,8],[63,10,50,12],[63,11,50,13],[63,15,50,13,"isSupabaseConfigured"],[63,32,50,33],[63,33,50,33,"isSupabaseConfigured"],[63,53,50,33],[63,55,50,34],[63,56,50,35],[63,58,50,37],[64,8,51,12,"console"],[64,15,51,19],[64,16,51,20,"log"],[64,19,51,23],[64,20,51,24],[64,48,51,52],[64,49,51,53],[65,8,52,12,"setLoading"],[65,18,52,22],[65,19,52,23],[65,24,52,28],[65,25,52,29],[66,8,53,12],[67,6,54,8],[69,6,56,8],[70,6,57,8],[71,6,58,8],[71,10,58,12,"authState"],[71,25,58,21],[71,26,58,21,"authState"],[71,35,58,21],[71,36,58,22,"getState"],[71,44,58,30],[71,45,58,31],[71,46,58,32],[71,47,58,33,"isInitialized"],[71,60,58,46],[71,62,58,48],[72,8,59,12,"console"],[72,15,59,19],[72,16,59,20,"log"],[72,19,59,23],[72,20,59,24],[72,71,59,75],[72,72,59,76],[73,8,60,12],[74,8,61,12,"restoreFromCache"],[74,24,61,28],[74,25,61,29],[74,26,61,30],[75,8,62,12],[76,6,63,8],[77,6,64,8,"authState"],[77,21,64,17],[77,22,64,17,"authState"],[77,31,64,17],[77,32,64,18,"setInitialized"],[77,46,64,32],[77,47,64,33],[77,51,64,37],[77,52,64,38],[79,6,66,8],[80,6,67,8],[80,10,67,12,"isInitializing"],[80,24,67,26],[80,25,67,27,"current"],[80,32,67,34],[80,34,67,36],[81,8,68,12,"console"],[81,15,68,19],[81,16,68,20,"log"],[81,19,68,23],[81,20,68,24],[81,70,68,74],[81,71,68,75],[82,8,69,12],[83,8,70,12],[84,6,71,8],[85,6,72,8,"isInitializing"],[85,20,72,22],[85,21,72,23,"current"],[85,28,72,30],[85,31,72,33],[85,35,72,37],[87,6,74,8],[88,6,75,8,"initializeAuth"],[88,20,75,22],[88,21,75,23],[88,22,75,24],[90,6,77,8],[91,6,78,8],[91,12,78,14],[92,8,78,16,"data"],[92,12,78,20],[92,14,78,22],[93,10,78,24,"subscription"],[94,8,78,37],[95,6,78,39],[95,7,78,40],[95,10,78,43,"supabase"],[95,27,78,51],[95,28,78,51,"supabase"],[95,36,78,51],[95,37,78,52,"auth"],[95,41,78,56],[95,42,78,57,"onAuthStateChange"],[95,59,78,74],[95,60,79,12],[95,67,79,19,"event"],[95,72,79,24],[95,74,79,26,"newSession"],[95,84,79,36],[95,89,79,41],[96,8,80,16,"console"],[96,15,80,23],[96,16,80,24,"log"],[96,19,80,27],[96,20,80,28],[96,43,80,51],[96,45,80,53,"event"],[96,50,80,58],[96,52,80,60,"newSession"],[96,62,80,70],[96,64,80,72,"user"],[96,68,80,76],[96,70,80,78,"email"],[96,75,80,83],[96,76,80,84],[98,8,82,16],[99,8,83,16],[99,12,83,20,"event"],[99,17,83,25],[99,22,83,30],[99,39,83,47],[99,41,83,49],[100,10,84,20,"console"],[100,17,84,27],[100,18,84,28,"log"],[100,21,84,31],[100,22,84,32],[100,79,84,89],[100,80,84,90],[101,10,85,20],[102,8,86,16],[104,8,88,16],[105,8,89,16],[105,14,89,22,"isProcessing"],[105,26,89,34],[105,29,89,37,"authState"],[105,44,89,46],[105,45,89,46,"authState"],[105,54,89,46],[105,55,89,47,"getState"],[105,63,89,55],[105,64,89,56],[105,65,89,57],[105,66,89,58,"isProcessing"],[105,78,89,70],[106,8,90,16],[106,12,90,20,"isProcessing"],[106,24,90,32],[106,28,90,36,"event"],[106,33,90,41],[106,38,90,46],[106,49,90,57],[106,51,90,59],[107,10,91,20,"console"],[107,17,91,27],[107,18,91,28,"log"],[107,21,91,31],[107,22,91,32],[107,96,91,106],[107,97,91,107],[108,10,92,20,"setSession"],[108,20,92,30],[108,21,92,31,"newSession"],[108,31,92,41],[108,32,92,42],[109,10,93,20,"setUser"],[109,17,93,27],[109,18,93,28,"newSession"],[109,28,93,38],[109,30,93,40,"user"],[109,34,93,44],[109,38,93,48],[109,42,93,52],[109,43,93,53],[110,10,94,20,"setLoading"],[110,20,94,30],[110,21,94,31],[110,26,94,36],[110,27,94,37],[111,10,95,20],[112,8,96,16],[113,8,98,16],[113,12,98,20,"event"],[113,17,98,25],[113,22,98,30],[113,33,98,41],[113,37,98,45,"newSession"],[113,47,98,55],[113,49,98,57,"user"],[113,53,98,61],[113,55,98,63],[114,10,99,20,"setSession"],[114,20,99,30],[114,21,99,31,"newSession"],[114,31,99,41],[114,32,99,42],[116,10,101,20],[117,10,102,20],[117,14,102,24,"profileRef"],[117,24,102,34],[117,25,102,35,"current"],[117,32,102,42],[117,36,102,46,"profileRef"],[117,46,102,56],[117,47,102,57,"current"],[117,54,102,64],[117,55,102,65,"id"],[117,57,102,67],[117,62,102,72,"newSession"],[117,72,102,82],[117,73,102,83,"user"],[117,77,102,87],[117,78,102,88,"id"],[117,80,102,90],[117,82,102,92],[118,12,103,24,"console"],[118,19,103,31],[118,20,103,32,"log"],[118,23,103,35],[118,24,103,36],[118,63,103,75],[118,64,103,76],[119,12,104,24],[119,18,104,30,"merged"],[119,24,104,36],[119,27,104,39,"mergeAvatarFromMetadata"],[119,50,104,62],[119,51,104,63,"profileRef"],[119,61,104,73],[119,62,104,74,"current"],[119,69,104,81],[119,71,104,83,"newSession"],[119,81,104,93],[119,82,104,94,"user"],[119,86,104,98],[119,87,104,99],[120,12,105,24],[120,16,105,28,"merged"],[120,22,105,34],[120,27,105,39,"profileRef"],[120,37,105,49],[120,38,105,50,"current"],[120,45,105,57],[120,47,105,59],[121,14,106,28,"setProfile"],[121,24,106,38],[121,25,106,39,"merged"],[121,31,106,45],[121,32,106,46],[122,14,107,28],[122,20,107,34,"AsyncStorage"],[122,32,107,46],[122,33,107,46,"default"],[122,40,107,46],[122,41,107,47,"setItem"],[122,48,107,54],[122,49,107,55,"PROFILE_CACHE_KEY"],[122,66,107,72],[122,68,107,74,"JSON"],[122,72,107,78],[122,73,107,79,"stringify"],[122,82,107,88],[122,83,107,89,"merged"],[122,89,107,95],[122,90,107,96],[122,91,107,97],[123,12,108,24],[124,12,109,24,"setUser"],[124,19,109,31],[124,20,109,32,"newSession"],[124,30,109,42],[124,31,109,43,"user"],[124,35,109,47],[124,36,109,48],[125,12,110,24,"setLoading"],[125,22,110,34],[125,23,110,35],[125,28,110,40],[125,29,110,41],[126,12,111,24],[127,10,112,20],[129,10,114,20],[130,10,115,20],[130,16,115,26,"cachedStr"],[130,25,115,35],[130,28,115,38],[130,34,115,44,"AsyncStorage"],[130,46,115,56],[130,47,115,56,"default"],[130,54,115,56],[130,55,115,57,"getItem"],[130,62,115,64],[130,63,115,65,"PROFILE_CACHE_KEY"],[130,80,115,82],[130,81,115,83],[131,10,116,20],[131,14,116,24,"cachedStr"],[131,23,116,33],[131,25,116,35],[132,12,117,24],[132,16,117,28],[133,14,118,28],[133,20,118,34,"cached"],[133,26,118,40],[133,29,118,43,"JSON"],[133,33,118,47],[133,34,118,48,"parse"],[133,39,118,53],[133,40,118,54,"cachedStr"],[133,49,118,63],[133,50,118,64],[134,14,119,28],[134,18,119,32,"cached"],[134,24,119,38],[134,25,119,39,"id"],[134,27,119,41],[134,32,119,46,"newSession"],[134,42,119,56],[134,43,119,57,"user"],[134,47,119,61],[134,48,119,62,"id"],[134,50,119,64],[134,52,119,66],[135,16,120,32,"console"],[135,23,120,39],[135,24,120,40,"log"],[135,27,120,43],[135,28,120,44],[135,67,120,83],[135,68,120,84],[136,16,121,32],[136,22,121,38,"merged"],[136,28,121,44],[136,31,121,47,"mergeAvatarFromMetadata"],[136,54,121,70],[136,55,121,71,"cached"],[136,61,121,77],[136,63,121,79,"newSession"],[136,73,121,89],[136,74,121,90,"user"],[136,78,121,94],[136,79,121,95],[137,16,122,32,"setUser"],[137,23,122,39],[137,24,122,40,"newSession"],[137,34,122,50],[137,35,122,51,"user"],[137,39,122,55],[137,40,122,56],[138,16,123,32,"setProfile"],[138,26,123,42],[138,27,123,43,"merged"],[138,33,123,49],[138,34,123,50],[139,16,124,32],[139,20,124,36,"merged"],[139,26,124,42],[139,31,124,47,"cached"],[139,37,124,53],[139,39,124,55],[140,18,125,36],[140,24,125,42,"AsyncStorage"],[140,36,125,54],[140,37,125,54,"default"],[140,44,125,54],[140,45,125,55,"setItem"],[140,52,125,62],[140,53,125,63,"PROFILE_CACHE_KEY"],[140,70,125,80],[140,72,125,82,"JSON"],[140,76,125,86],[140,77,125,87,"stringify"],[140,86,125,96],[140,87,125,97,"merged"],[140,93,125,103],[140,94,125,104],[140,95,125,105],[141,16,126,32],[142,16,127,32,"setLoading"],[142,26,127,42],[142,27,127,43],[142,32,127,48],[142,33,127,49],[143,16,128,32],[143,23,128,39],[143,24,128,40],[144,14,129,28],[145,12,130,24],[145,13,130,25],[145,14,130,26],[145,21,130,33,"e"],[145,22,130,34],[145,24,130,36],[145,25,130,38],[146,10,131,20],[148,10,133,20],[149,10,134,20],[149,16,134,26,"profileData"],[149,27,134,37],[149,30,134,40],[149,36,134,46,"fetchProfile"],[149,48,134,58],[149,49,134,59,"newSession"],[149,59,134,69],[149,60,134,70,"user"],[149,64,134,74],[149,65,134,75,"id"],[149,67,134,77],[149,68,134,78],[150,10,135,20],[150,14,135,24,"profileData"],[150,25,135,35],[150,27,135,37],[151,12,136,24,"console"],[151,19,136,31],[151,20,136,32,"log"],[151,23,136,35],[151,24,136,36],[151,62,136,74],[151,63,136,75],[152,12,137,24,"setUser"],[152,19,137,31],[152,20,137,32,"newSession"],[152,30,137,42],[152,31,137,43,"user"],[152,35,137,47],[152,36,137,48],[153,12,138,24,"setProfile"],[153,22,138,34],[153,23,138,35,"profileData"],[153,34,138,46],[153,35,138,47],[154,12,139,24],[155,12,140,24,"authState"],[155,27,140,33],[155,28,140,33,"authState"],[155,37,140,33],[155,38,140,34,"reset"],[155,43,140,39],[155,44,140,40],[155,45,140,41],[156,10,141,20],[156,11,141,21],[156,17,141,27],[157,12,142,24],[158,12,143,24,"console"],[158,19,143,31],[158,20,143,32,"log"],[158,23,143,35],[158,24,143,36],[158,88,143,100],[158,89,143,101],[159,12,144,24,"setUser"],[159,19,144,31],[159,20,144,32],[159,24,144,36],[159,25,144,37],[160,12,145,24,"setProfile"],[160,22,145,34],[160,23,145,35],[160,27,145,39],[160,28,145,40],[161,12,146,24,"authState"],[161,27,146,33],[161,28,146,33,"authState"],[161,37,146,33],[161,38,146,34,"reset"],[161,43,146,39],[161,44,146,40],[161,45,146,41],[162,10,147,20],[163,10,149,20,"setLoading"],[163,20,149,30],[163,21,149,31],[163,26,149,36],[163,27,149,37],[164,8,150,16],[164,9,150,17],[164,15,150,23],[164,19,150,27,"event"],[164,24,150,32],[164,29,150,37],[164,41,150,49],[164,43,150,51],[165,10,151,20,"console"],[165,17,151,27],[165,18,151,28,"log"],[165,21,151,31],[165,22,151,32],[165,52,151,62],[165,53,151,63],[166,10,152,20,"authState"],[166,25,152,29],[166,26,152,29,"authState"],[166,35,152,29],[166,36,152,30,"reset"],[166,41,152,35],[166,42,152,36],[166,43,152,37],[167,10,153,20,"setSession"],[167,20,153,30],[167,21,153,31],[167,25,153,35],[167,26,153,36],[168,10,154,20,"setUser"],[168,17,154,27],[168,18,154,28],[168,22,154,32],[168,23,154,33],[169,10,155,20,"setProfile"],[169,20,155,30],[169,21,155,31],[169,25,155,35],[169,26,155,36],[170,10,156,20,"setLoading"],[170,20,156,30],[170,21,156,31],[170,26,156,36],[170,27,156,37],[171,8,157,16],[171,9,157,17],[171,15,157,23],[171,19,157,27,"event"],[171,24,157,32],[171,29,157,37],[171,46,157,54],[171,50,157,58,"newSession"],[171,60,157,68],[171,62,157,70,"user"],[171,66,157,74],[171,68,157,76],[172,10,158,20],[173,10,159,20,"console"],[173,17,159,27],[173,18,159,28,"log"],[173,21,159,31],[173,22,159,32],[173,65,159,75],[173,66,159,76],[174,10,160,20,"setSession"],[174,20,160,30],[174,21,160,31,"newSession"],[174,31,160,41],[174,32,160,42],[175,10,161,20],[175,16,161,26,"profileData"],[175,27,161,37],[175,30,161,40],[175,36,161,46,"fetchProfile"],[175,48,161,58],[175,49,161,59,"newSession"],[175,59,161,69],[175,60,161,70,"user"],[175,64,161,74],[175,65,161,75,"id"],[175,67,161,77],[175,68,161,78],[176,10,162,20],[176,14,162,24,"profileData"],[176,25,162,35],[176,27,162,37],[177,12,163,24,"setUser"],[177,19,163,31],[177,20,163,32,"newSession"],[177,30,163,42],[177,31,163,43,"user"],[177,35,163,47],[177,36,163,48],[178,12,164,24,"setProfile"],[178,22,164,34],[178,23,164,35,"profileData"],[178,34,164,46],[178,35,164,47],[179,10,165,20],[179,11,165,21],[179,17,165,27],[180,12,166,24],[181,12,167,24],[182,12,168,24],[182,16,168,28,"userRef"],[182,23,168,35],[182,24,168,36,"current"],[182,31,168,43],[182,35,168,47,"profileRef"],[182,45,168,57],[182,46,168,58,"current"],[182,53,168,65],[182,57,168,69,"userRef"],[182,64,168,76],[182,65,168,77,"current"],[182,72,168,84],[182,73,168,85,"id"],[182,75,168,87],[182,80,168,92,"newSession"],[182,90,168,102],[182,91,168,103,"user"],[182,95,168,107],[182,96,168,108,"id"],[182,98,168,110],[182,100,168,112],[183,14,169,28,"console"],[183,21,169,35],[183,22,169,36,"warn"],[183,26,169,40],[183,27,169,41],[183,89,169,103],[183,90,169,104],[184,12,170,24],[184,13,170,25],[184,19,170,31],[185,14,171,28,"console"],[185,21,171,35],[185,22,171,36,"warn"],[185,26,171,40],[185,27,171,41],[185,77,171,91],[185,78,171,92],[186,14,172,28,"signOut"],[186,21,172,35],[186,22,172,36],[186,23,172,37],[187,12,173,24],[188,10,174,20],[189,8,175,16],[190,6,176,12],[190,7,177,8],[190,8,177,9],[191,6,179,8],[191,13,179,15],[191,19,179,21,"subscription"],[191,31,179,33],[191,32,179,34,"unsubscribe"],[191,43,179,45],[191,44,179,46],[191,45,179,47],[192,4,180,4],[192,5,180,5],[192,7,180,7],[192,9,180,9],[192,10,180,10],[194,4,182,4],[195,4,183,4],[195,8,183,4,"useEffect"],[195,14,183,13],[195,15,183,13,"useEffect"],[195,24,183,13],[195,26,183,14],[195,32,183,20],[196,6,184,8],[197,6,185,8],[197,10,185,12,"Platform"],[197,18,185,20],[197,19,185,20,"default"],[197,26,185,20],[197,27,185,21,"OS"],[197,29,185,23],[197,34,185,28],[197,39,185,33],[197,41,185,35],[198,6,186,8],[198,10,186,12],[198,17,186,19,"window"],[198,23,186,25],[198,28,186,30],[198,39,186,41],[198,43,186,45],[198,50,186,52,"document"],[198,58,186,60],[198,63,186,65],[198,74,186,76],[198,76,186,78],[199,6,188,8],[199,12,188,14,"handleVisibilityChange"],[199,34,188,36],[199,37,188,39],[199,43,188,39,"handleVisibilityChange"],[199,44,188,39],[199,49,188,51],[200,8,189,12],[200,12,189,16,"document"],[200,20,189,24],[200,21,189,25,"visibilityState"],[200,36,189,40],[200,41,189,45],[200,50,189,54],[200,54,189,58,"session"],[200,61,189,65],[200,63,189,67],[201,10,190,16,"console"],[201,17,190,23],[201,18,190,24,"log"],[201,21,190,27],[201,22,190,28],[201,67,190,73],[201,68,190,74],[202,10,191,16],[202,14,191,20],[203,12,192,20],[203,18,192,26],[204,14,192,28,"error"],[205,12,192,34],[205,13,192,35],[205,16,192,38],[205,22,192,44,"supabase"],[205,39,192,52],[205,40,192,52,"supabase"],[205,48,192,52],[205,49,192,53,"auth"],[205,53,192,57],[205,54,192,58,"getSession"],[205,64,192,68],[205,65,192,69],[205,66,192,70],[206,12,193,20],[206,16,193,24,"error"],[206,21,193,29],[206,23,193,31],[207,14,194,24,"console"],[207,21,194,31],[207,22,194,32,"warn"],[207,26,194,36],[207,27,194,37],[207,60,194,70],[207,61,194,71],[208,14,195,24,"signOut"],[208,21,195,31],[208,22,195,32],[208,23,195,33],[209,12,196,20],[210,12,197,20],[211,10,198,16],[211,11,198,17],[211,12,198,18],[211,19,198,25,"error"],[211,24,198,30],[211,26,198,32],[212,12,199,20,"console"],[212,19,199,27],[212,20,199,28,"error"],[212,25,199,33],[212,26,199,34],[212,51,199,59],[212,53,199,61,"error"],[212,58,199,66],[212,59,199,67],[213,10,200,16],[214,8,201,12],[215,6,202,8],[215,7,202,9],[216,6,204,8,"document"],[216,14,204,16],[216,15,204,17,"addEventListener"],[216,31,204,33],[216,32,204,34],[216,50,204,52],[216,52,204,54,"handleVisibilityChange"],[216,74,204,76],[216,75,204,77],[217,6,205,8],[217,13,205,15],[217,19,205,21,"document"],[217,27,205,29],[217,28,205,30,"removeEventListener"],[217,47,205,49],[217,48,205,50],[217,66,205,68],[217,68,205,70,"handleVisibilityChange"],[217,90,205,92],[217,91,205,93],[218,4,206,4],[218,5,206,5],[218,7,206,7],[218,8,206,8,"session"],[218,15,206,15],[218,16,206,16],[218,17,206,17],[220,4,208,4],[221,4,209,4],[221,10,209,10,"restoreFromCache"],[221,26,209,26],[221,29,209,29],[221,35,209,29,"restoreFromCache"],[221,36,209,29],[221,41,209,41],[222,6,210,8],[222,10,210,12],[223,8,211,12],[223,14,211,18,"cachedProfileStr"],[223,30,211,34],[223,33,211,37],[223,39,211,43,"AsyncStorage"],[223,51,211,55],[223,52,211,55,"default"],[223,59,211,55],[223,60,211,56,"getItem"],[223,67,211,63],[223,68,211,64,"PROFILE_CACHE_KEY"],[223,85,211,81],[223,86,211,82],[224,8,212,12],[224,12,212,16,"cachedProfileStr"],[224,28,212,32],[224,30,212,34],[225,10,213,16],[225,16,213,22,"cachedProfile"],[225,29,213,35],[225,32,213,38,"JSON"],[225,36,213,42],[225,37,213,43,"parse"],[225,42,213,48],[225,43,213,49,"cachedProfileStr"],[225,59,213,65],[225,60,213,66],[226,10,214,16],[226,16,214,22],[227,12,214,24,"data"],[227,16,214,28],[227,18,214,30],[228,14,214,32,"session"],[228,21,214,39],[228,23,214,41,"currentSession"],[229,12,214,56],[230,10,214,58],[230,11,214,59],[230,14,214,62],[230,20,214,68,"supabase"],[230,37,214,76],[230,38,214,76,"supabase"],[230,46,214,76],[230,47,214,77,"auth"],[230,51,214,81],[230,52,214,82,"getSession"],[230,62,214,92],[230,63,214,93],[230,64,214,94],[231,10,215,16],[231,14,215,20,"currentSession"],[231,28,215,34],[231,30,215,36,"user"],[231,34,215,40],[231,38,215,44,"cachedProfile"],[231,51,215,57],[231,52,215,58,"id"],[231,54,215,60],[231,59,215,65,"currentSession"],[231,73,215,79],[231,74,215,80,"user"],[231,78,215,84],[231,79,215,85,"id"],[231,81,215,87],[231,83,215,89],[232,12,216,20,"console"],[232,19,216,27],[232,20,216,28,"log"],[232,23,216,31],[232,24,216,32],[232,63,216,71],[232,64,216,72],[233,12,217,20],[233,18,217,26,"merged"],[233,24,217,32],[233,27,217,35,"mergeAvatarFromMetadata"],[233,50,217,58],[233,51,217,59,"cachedProfile"],[233,64,217,72],[233,66,217,74,"currentSession"],[233,80,217,88],[233,81,217,89,"user"],[233,85,217,93],[233,86,217,94],[234,12,218,20,"setSession"],[234,22,218,30],[234,23,218,31,"currentSession"],[234,37,218,45],[234,38,218,46],[235,12,219,20,"setUser"],[235,19,219,27],[235,20,219,28,"currentSession"],[235,34,219,42],[235,35,219,43,"user"],[235,39,219,47],[235,40,219,48],[236,12,220,20,"setProfile"],[236,22,220,30],[236,23,220,31,"merged"],[236,29,220,37],[236,30,220,38],[237,12,221,20],[237,16,221,24,"merged"],[237,22,221,30],[237,27,221,35,"cachedProfile"],[237,40,221,48],[237,42,221,50],[238,14,222,24],[238,20,222,30,"AsyncStorage"],[238,32,222,42],[238,33,222,42,"default"],[238,40,222,42],[238,41,222,43,"setItem"],[238,48,222,50],[238,49,222,51,"PROFILE_CACHE_KEY"],[238,66,222,68],[238,68,222,70,"JSON"],[238,72,222,74],[238,73,222,75,"stringify"],[238,82,222,84],[238,83,222,85,"merged"],[238,89,222,91],[238,90,222,92],[238,91,222,93],[239,12,223,20],[240,10,224,16],[241,8,225,12],[242,6,226,8],[242,7,226,9],[242,8,226,10],[242,15,226,17,"e"],[242,16,226,18],[242,18,226,20],[243,8,227,12,"console"],[243,15,227,19],[243,16,227,20,"error"],[243,21,227,25],[243,22,227,26],[243,51,227,55],[243,53,227,57,"e"],[243,54,227,58],[243,55,227,59],[244,6,228,8],[244,7,228,9],[244,16,228,18],[245,8,229,12,"setLoading"],[245,18,229,22],[245,19,229,23],[245,24,229,28],[245,25,229,29],[246,6,230,8],[247,4,231,4],[247,5,231,5],[248,4,233,4],[248,10,233,10,"initializeAuth"],[248,24,233,24],[248,27,233,27],[248,33,233,27,"initializeAuth"],[248,34,233,27],[248,39,233,39],[249,6,234,8],[249,10,234,12],[250,8,235,12],[251,8,236,12],[251,14,236,18,"cachedProfileStr"],[251,30,236,34],[251,33,236,37],[251,39,236,43,"AsyncStorage"],[251,51,236,55],[251,52,236,55,"default"],[251,59,236,55],[251,60,236,56,"getItem"],[251,67,236,63],[251,68,236,64,"PROFILE_CACHE_KEY"],[251,85,236,81],[251,86,236,82],[252,8,237,12],[252,12,237,16,"cachedProfile"],[252,25,237,29],[252,28,237,32],[252,32,237,36],[253,8,238,12],[253,12,238,16,"cachedProfileStr"],[253,28,238,32],[253,30,238,34],[254,10,239,16],[254,14,239,20],[255,12,240,20,"cachedProfile"],[255,25,240,33],[255,28,240,36,"JSON"],[255,32,240,40],[255,33,240,41,"parse"],[255,38,240,46],[255,39,240,47,"cachedProfileStr"],[255,55,240,63],[255,56,240,64],[256,12,241,20,"console"],[256,19,241,27],[256,20,241,28,"log"],[256,23,241,31],[256,24,241,32],[256,51,241,59],[256,53,241,61,"cachedProfile"],[256,66,241,74],[256,67,241,75,"email"],[256,72,241,80],[256,73,241,81],[257,10,242,16],[257,11,242,17],[257,12,242,18],[257,19,242,25,"e"],[257,20,242,26],[257,22,242,28],[258,12,243,20,"console"],[258,19,243,27],[258,20,243,28,"error"],[258,25,243,33],[258,26,243,34],[258,58,243,66],[258,60,243,68,"e"],[258,61,243,69],[258,62,243,70],[259,10,244,16],[260,8,245,12],[261,8,247,12],[261,14,247,18],[262,10,247,20,"data"],[262,14,247,24],[262,16,247,26],[263,12,247,28,"session"],[264,10,247,36],[265,8,247,38],[265,9,247,39],[265,12,247,42],[265,18,247,48,"supabase"],[265,35,247,56],[265,36,247,56,"supabase"],[265,44,247,56],[265,45,247,57,"auth"],[265,49,247,61],[265,50,247,62,"getSession"],[265,60,247,72],[265,61,247,73],[265,62,247,74],[266,8,248,12,"console"],[266,15,248,19],[266,16,248,20,"log"],[266,19,248,23],[266,20,248,24],[266,41,248,45],[266,43,248,47,"session"],[266,50,248,54],[266,52,248,56,"user"],[266,56,248,60],[266,58,248,62,"email"],[266,63,248,67],[266,64,248,68],[267,8,250,12],[267,12,250,16,"session"],[267,19,250,23],[267,21,250,25,"user"],[267,25,250,29],[267,27,250,31],[268,10,251,16,"setSession"],[268,20,251,26],[268,21,251,27,"session"],[268,28,251,34],[268,29,251,35],[270,10,253,16],[271,10,254,16],[272,10,255,16],[272,14,255,20,"cachedProfile"],[272,27,255,33],[272,31,255,37,"cachedProfile"],[272,44,255,50],[272,45,255,51,"id"],[272,47,255,53],[272,52,255,58,"session"],[272,59,255,65],[272,60,255,66,"user"],[272,64,255,70],[272,65,255,71,"id"],[272,67,255,73],[272,69,255,75],[273,12,256,20,"console"],[273,19,256,27],[273,20,256,28,"log"],[273,23,256,31],[273,24,256,32],[273,66,256,74],[273,67,256,75],[274,12,257,20],[274,18,257,26,"merged"],[274,24,257,32],[274,27,257,35,"mergeAvatarFromMetadata"],[274,50,257,58],[274,51,257,59,"cachedProfile"],[274,64,257,72],[274,66,257,74,"session"],[274,73,257,81],[274,74,257,82,"user"],[274,78,257,86],[274,79,257,87],[275,12,258,20,"setUser"],[275,19,258,27],[275,20,258,28,"session"],[275,27,258,35],[275,28,258,36,"user"],[275,32,258,40],[275,33,258,41],[276,12,259,20,"setProfile"],[276,22,259,30],[276,23,259,31,"merged"],[276,29,259,37],[276,30,259,38],[277,12,260,20],[277,16,260,24,"merged"],[277,22,260,30],[277,27,260,35,"cachedProfile"],[277,40,260,48],[277,42,260,50],[278,14,261,24],[278,20,261,30,"AsyncStorage"],[278,32,261,42],[278,33,261,42,"default"],[278,40,261,42],[278,41,261,43,"setItem"],[278,48,261,50],[278,49,261,51,"PROFILE_CACHE_KEY"],[278,66,261,68],[278,68,261,70,"JSON"],[278,72,261,74],[278,73,261,75,"stringify"],[278,82,261,84],[278,83,261,85,"merged"],[278,89,261,91],[278,90,261,92],[278,91,261,93],[279,12,262,20],[280,12,263,20,"authState"],[280,27,263,29],[280,28,263,29,"authState"],[280,37,263,29],[280,38,263,30,"reset"],[280,43,263,35],[280,44,263,36],[280,45,263,37],[280,46,263,38],[280,47,263,39],[281,12,264,20,"setLoading"],[281,22,264,30],[281,23,264,31],[281,28,264,36],[281,29,264,37],[282,12,265,20],[282,19,265,27],[282,20,265,28],[283,10,266,16],[285,10,268,16],[286,10,269,16],[286,16,269,22,"profileData"],[286,27,269,33],[286,30,269,36],[286,36,269,42,"fetchProfile"],[286,48,269,54],[286,49,269,55,"session"],[286,56,269,62],[286,57,269,63,"user"],[286,61,269,67],[286,62,269,68,"id"],[286,64,269,70],[286,65,269,71],[287,10,270,16],[287,14,270,20,"profileData"],[287,25,270,31],[287,27,270,33],[288,12,271,20,"setUser"],[288,19,271,27],[288,20,271,28,"session"],[288,27,271,35],[288,28,271,36,"user"],[288,32,271,40],[288,33,271,41],[289,12,272,20,"setProfile"],[289,22,272,30],[289,23,272,31,"profileData"],[289,34,272,42],[289,35,272,43],[290,12,273,20,"authState"],[290,27,273,29],[290,28,273,29,"authState"],[290,37,273,29],[290,38,273,30,"reset"],[290,43,273,35],[290,44,273,36],[290,45,273,37],[290,46,273,38],[290,47,273,39],[291,10,274,16],[291,11,274,17],[291,17,274,23],[292,12,275,20],[293,12,276,20,"console"],[293,19,276,27],[293,20,276,28,"log"],[293,23,276,31],[293,24,276,32],[293,61,276,69],[293,62,276,70],[294,12,277,20,"setUser"],[294,19,277,27],[294,20,277,28],[294,24,277,32],[294,25,277,33],[295,12,278,20,"authState"],[295,27,278,29],[295,28,278,29,"authState"],[295,37,278,29],[295,38,278,30,"reset"],[295,43,278,35],[295,44,278,36],[295,45,278,37],[296,10,279,16],[297,8,280,12],[298,6,281,8],[298,7,281,9],[298,8,281,10],[298,15,281,17,"error"],[298,20,281,27],[298,22,281,29],[299,8,282,12],[300,8,283,12],[300,12,283,16,"error"],[300,17,283,21],[300,18,283,22,"name"],[300,22,283,26],[300,27,283,31],[300,39,283,43],[300,43,283,47],[300,44,283,48,"error"],[300,49,283,53],[300,51,283,55,"message"],[300,58,283,62],[300,60,283,64,"includes"],[300,68,283,72],[300,69,283,73],[300,78,283,82],[300,79,283,83],[300,81,283,85],[301,10,284,16,"console"],[301,17,284,23],[301,18,284,24,"error"],[301,23,284,29],[301,24,284,30],[301,42,284,48],[301,44,284,50,"error"],[301,49,284,55],[301,50,284,56],[302,8,285,12],[303,6,286,8],[303,7,286,9],[303,16,286,18],[304,8,287,12,"setLoading"],[304,18,287,22],[304,19,287,23],[304,24,287,28],[304,25,287,29],[305,6,288,8],[306,4,289,4],[306,5,289,5],[308,4,291,4],[309,4,292,4],[309,10,292,10,"fetchProfile"],[309,22,292,22],[309,25,292,25],[309,31,292,25,"fetchProfile"],[309,32,292,32,"userId"],[309,38,292,46],[309,40,292,48,"options"],[309,47,292,84],[309,52,292,110],[310,6,293,8],[311,6,294,8],[311,10,294,12,"pendingFetchPromise"],[311,29,294,31],[311,30,294,32,"current"],[311,37,294,39],[311,39,294,41],[312,8,295,12,"console"],[312,15,295,19],[312,16,295,20,"log"],[312,19,295,23],[312,20,295,24],[312,62,295,66],[312,63,295,67],[313,8,296,12],[313,15,296,19,"pendingFetchPromise"],[313,34,296,38],[313,35,296,39,"current"],[313,42,296,46],[314,6,297,8],[316,6,299,8],[317,6,300,8],[317,10,300,12,"options"],[317,17,300,19],[317,19,300,21,"skipIfCached"],[317,31,300,33],[317,33,300,35],[318,8,301,12],[318,14,301,18,"cachedStr"],[318,23,301,27],[318,26,301,30],[318,32,301,36,"AsyncStorage"],[318,44,301,48],[318,45,301,48,"default"],[318,52,301,48],[318,53,301,49,"getItem"],[318,60,301,56],[318,61,301,57,"PROFILE_CACHE_KEY"],[318,78,301,74],[318,79,301,75],[319,8,302,12],[319,12,302,16,"cachedStr"],[319,21,302,25],[319,23,302,27],[320,10,303,16],[320,14,303,20],[321,12,304,20],[321,18,304,26,"cached"],[321,24,304,32],[321,27,304,35,"JSON"],[321,31,304,39],[321,32,304,40,"parse"],[321,37,304,45],[321,38,304,46,"cachedStr"],[321,47,304,55],[321,48,304,56],[322,12,305,20],[322,16,305,24,"cached"],[322,22,305,30],[322,23,305,31,"id"],[322,25,305,33],[322,30,305,38,"userId"],[322,36,305,44],[322,38,305,46],[323,14,306,24,"console"],[323,21,306,31],[323,22,306,32,"log"],[323,25,306,35],[323,26,306,36],[323,67,306,77],[323,68,306,78],[324,14,307,24],[324,21,307,31,"cached"],[324,27,307,37],[325,12,308,20],[326,10,309,16],[326,11,309,17],[326,12,309,18],[326,19,309,25,"e"],[326,20,309,26],[326,22,309,28],[326,23,309,30],[327,8,310,12],[328,6,311,8],[330,6,313,8],[331,6,314,8],[331,12,314,14,"fetchPromise"],[331,24,314,26],[331,27,314,29],[331,28,314,30],[331,40,314,42],[332,8,315,12],[332,12,315,16],[333,10,316,16,"console"],[333,17,316,23],[333,18,316,24,"log"],[333,21,316,27],[333,22,316,28],[333,50,316,56,"userId"],[333,56,316,62],[333,58,316,64],[333,59,316,65],[335,10,318,16],[336,10,319,16],[336,16,319,22,"timeoutPromise"],[336,30,319,36],[336,33,319,39],[336,37,319,43,"Promise"],[336,44,319,50],[336,45,319,57],[336,46,319,58,"_"],[336,47,319,59],[336,49,319,61,"reject"],[336,55,319,67],[336,60,320,20,"setTimeout"],[336,70,320,30],[336,71,320,31],[336,77,320,37,"reject"],[336,83,320,43],[336,84,320,44],[336,88,320,48,"Error"],[336,93,320,53],[336,94,320,54],[336,117,320,77],[336,118,320,78],[336,119,320,79],[336,121,320,81],[336,126,320,86],[336,127,321,16],[336,128,321,17],[337,10,323,16],[337,16,323,22],[338,12,323,24,"data"],[338,16,323,28],[339,12,323,30,"error"],[340,10,323,36],[340,11,323,37],[340,14,323,40],[340,20,323,46,"Promise"],[340,27,323,53],[340,28,323,54,"race"],[340,32,323,58],[340,33,323,59],[340,34,324,20,"supabase"],[340,51,324,28],[340,52,324,28,"supabase"],[340,60,324,28],[340,61,324,29,"from"],[340,65,324,33],[340,66,324,34],[340,76,324,44],[340,77,324,45],[340,78,324,46,"select"],[340,84,324,52],[340,85,324,53],[340,88,324,56],[340,89,324,57],[340,90,324,58,"eq"],[340,92,324,60],[340,93,324,61],[340,97,324,65],[340,99,324,67,"userId"],[340,105,324,73],[340,106,324,74],[340,107,324,75,"single"],[340,113,324,81],[340,114,324,82],[340,115,324,83],[340,117,325,20,"timeoutPromise"],[340,131,325,34],[340,132,326,17],[340,133,326,25],[341,10,328,16],[341,14,328,20,"error"],[341,19,328,25],[341,21,328,27],[342,12,329,20],[342,16,329,24,"error"],[342,21,329,29],[342,22,329,30,"code"],[342,26,329,34],[342,31,329,39],[342,41,329,49],[342,43,329,51],[343,14,330,24,"console"],[343,21,330,31],[343,22,330,32,"log"],[343,25,330,35],[343,26,330,36],[343,68,330,78],[343,69,330,79],[344,14,331,24],[344,21,331,31],[344,25,331,35],[345,12,332,20],[346,12,333,20,"console"],[346,19,333,27],[346,20,333,28,"warn"],[346,24,333,32],[346,25,333,33],[346,50,333,58],[346,52,333,60,"error"],[346,57,333,65],[346,58,333,66,"message"],[346,65,333,73],[346,66,333,74],[347,12,334,20],[347,19,334,27],[347,23,334,31],[348,10,335,16],[349,10,337,16],[349,14,337,20,"data"],[349,18,337,24],[349,20,337,26],[350,12,338,20,"console"],[350,19,338,27],[350,20,338,28,"log"],[350,23,338,31],[350,24,338,32],[350,42,338,50],[350,44,338,52,"data"],[350,48,338,56],[350,49,338,57,"email"],[350,54,338,62],[350,55,338,63],[351,12,339,20],[351,18,339,26,"AsyncStorage"],[351,30,339,38],[351,31,339,38,"default"],[351,38,339,38],[351,39,339,39,"setItem"],[351,46,339,46],[351,47,339,47,"PROFILE_CACHE_KEY"],[351,64,339,64],[351,66,339,66,"JSON"],[351,70,339,70],[351,71,339,71,"stringify"],[351,80,339,80],[351,81,339,81,"data"],[351,85,339,85],[351,86,339,86],[351,87,339,87],[352,12,340,20],[352,19,340,27,"data"],[352,23,340,31],[353,10,341,16],[354,10,342,16],[354,17,342,23],[354,21,342,27],[355,8,343,12],[355,9,343,13],[355,10,343,14],[355,17,343,21,"error"],[355,22,343,31],[355,24,343,33],[356,10,344,16,"console"],[356,17,344,23],[356,18,344,24,"error"],[356,23,344,29],[356,24,344,30],[356,52,344,58],[356,54,344,60,"error"],[356,59,344,65],[356,60,344,66,"message"],[356,67,344,73],[356,68,344,74],[357,10,345,16],[357,17,345,23],[357,21,345,27],[358,8,346,12],[358,9,346,13],[358,18,346,22],[359,10,347,16,"pendingFetchPromise"],[359,29,347,35],[359,30,347,36,"current"],[359,37,347,43],[359,40,347,46],[359,44,347,50],[360,8,348,12],[361,6,349,8],[361,7,349,9],[361,9,349,11],[361,10,349,12],[362,6,351,8,"pendingFetchPromise"],[362,25,351,27],[362,26,351,28,"current"],[362,33,351,35],[362,36,351,38,"fetchPromise"],[362,48,351,50],[363,6,352,8],[363,13,352,15,"fetchPromise"],[363,25,352,27],[364,4,353,4],[364,5,353,5],[365,4,355,4],[365,10,355,10,"refreshProfile"],[365,24,355,24],[365,27,355,27],[365,33,355,27,"refreshProfile"],[365,34,355,27],[365,39,355,39],[366,6,356,8],[366,10,356,12,"session"],[366,17,356,19],[366,19,356,21,"user"],[366,23,356,25],[366,25,356,27],[367,8,357,12],[367,14,357,18,"profileData"],[367,25,357,29],[367,28,357,32],[367,34,357,38,"fetchProfile"],[367,46,357,50],[367,47,357,51,"session"],[367,54,357,58],[367,55,357,59,"user"],[367,59,357,63],[367,60,357,64,"id"],[367,62,357,66],[367,63,357,67],[368,8,358,12],[368,12,358,16,"profileData"],[368,23,358,27],[368,25,358,29],[369,10,359,16,"setProfile"],[369,20,359,26],[369,21,359,27,"profileData"],[369,32,359,38],[369,33,359,39],[370,10,360,16,"setUser"],[370,17,360,23],[370,18,360,24,"session"],[370,25,360,31],[370,26,360,32,"user"],[370,30,360,36],[370,31,360,37],[371,8,361,12],[372,6,362,8],[373,4,363,4],[373,5,363,5],[374,4,365,4],[374,10,365,10,"signOut"],[374,17,365,17],[374,20,365,20],[374,26,365,20,"signOut"],[374,27,365,20],[374,32,365,32],[375,6,366,8],[375,10,366,12],[376,8,367,12,"setSession"],[376,18,367,22],[376,19,367,23],[376,23,367,27],[376,24,367,28],[377,8,368,12,"setUser"],[377,15,368,19],[377,16,368,20],[377,20,368,24],[377,21,368,25],[378,8,369,12,"setProfile"],[378,18,369,22],[378,19,369,23],[378,23,369,27],[378,24,369,28],[379,8,370,12],[379,14,370,18,"AsyncStorage"],[379,26,370,30],[379,27,370,30,"default"],[379,34,370,30],[379,35,370,31,"removeItem"],[379,45,370,41],[379,46,370,42,"PROFILE_CACHE_KEY"],[379,63,370,59],[379,64,370,60],[379,65,370,61],[379,66,370,62],[380,8,371,12],[380,14,371,18,"supabase"],[380,31,371,26],[380,32,371,26,"supabase"],[380,40,371,26],[380,41,371,27,"auth"],[380,45,371,31],[380,46,371,32,"signOut"],[380,53,371,39],[380,54,371,40],[380,55,371,41],[381,6,372,8],[381,7,372,9],[381,8,372,10],[381,15,372,17,"error"],[381,20,372,22],[381,22,372,24],[382,8,373,12,"console"],[382,15,373,19],[382,16,373,20,"error"],[382,21,373,25],[382,22,373,26],[382,39,373,43],[382,41,373,45,"error"],[382,46,373,50],[382,47,373,51],[383,6,374,8],[384,4,375,4],[384,5,375,5],[385,4,377,4],[385,10,377,10,"value"],[385,15,377,15],[385,18,377,18],[386,6,378,8,"session"],[386,13,378,15],[387,6,379,8,"user"],[387,10,379,12],[388,6,380,8,"profile"],[388,13,380,15],[389,6,381,8,"loading"],[389,13,381,15],[390,6,382,8,"signOut"],[390,13,382,15],[391,6,383,8,"refreshProfile"],[392,4,384,4],[392,5,384,5],[393,4,386,4],[393,24,386,11],[393,28,386,11,"_reactJsxDevRuntime"],[393,47,386,11],[393,48,386,11,"jsxDEV"],[393,54,386,11],[393,56,386,12,"AuthContext"],[393,67,386,23],[393,68,386,24,"Provider"],[393,76,386,32],[394,6,386,33,"value"],[394,11,386,38],[394,13,386,40,"value"],[394,18,386,46],[395,6,386,46,"children"],[395,14,386,46],[395,16,386,48,"children"],[396,4,386,56],[397,6,386,56,"fileName"],[397,14,386,56],[397,16,386,56,"_jsxFileName"],[397,28,386,56],[398,6,386,56,"lineNumber"],[398,16,386,56],[399,6,386,56,"columnNumber"],[399,18,386,56],[400,4,386,56],[400,11,386,79],[400,12,386,80],[401,2,387,0],[402,2,387,1,"_s"],[402,4,387,1],[402,5,34,16,"AuthProvider"],[402,17,34,28],[403,2,34,28,"_c"],[403,4,34,28],[403,7,34,16,"AuthProvider"],[403,19,34,28],[404,2,389,7],[404,11,389,16,"useAuth"],[404,18,389,23,"useAuth"],[404,19,389,23],[404,21,389,26],[405,4,389,26,"_s2"],[405,7,389,26],[406,4,390,4],[406,10,390,10,"context"],[406,17,390,17],[406,20,390,20],[406,24,390,20,"useContext"],[406,30,390,30],[406,31,390,30,"useContext"],[406,41,390,30],[406,43,390,31,"AuthContext"],[406,54,390,42],[406,55,390,43],[407,4,391,4],[407,8,391,8,"context"],[407,15,391,15],[407,20,391,20,"undefined"],[407,29,391,29],[407,31,391,31],[408,6,392,8],[408,12,392,14],[408,16,392,18,"Error"],[408,21,392,23],[408,22,392,24],[408,67,392,69],[408,68,392,70],[409,4,393,4],[410,4,394,4],[410,11,394,11,"context"],[410,18,394,18],[411,2,395,0],[412,2,395,1,"_s2"],[412,5,395,1],[412,6,389,16,"useAuth"],[412,13,389,23],[413,2,389,23],[413,6,389,23,"_c"],[413,8,389,23],[414,2,389,23,"$RefreshReg$"],[414,14,389,23],[414,15,389,23,"_c"],[414,17,389,23],[415,0,389,23],[415,3]],"functionMap":{"names":["<global>","mergeAvatarFromMetadata","AuthProvider","useEffect$argument_0","supabase.auth.onAuthStateChange$argument_0","<anonymous>","handleVisibilityChange","restoreFromCache","initializeAuth","fetchProfile","Promise$argument_0","setTimeout$argument_0","refreshProfile","signOut","useAuth"],"mappings":"AAA;gCCuB;CDQ;OEE;cCY,iCD;cCC,uCD;cCE;YC8B;aDiG;eEG,gCF;KDC;cCG;uCGK;SHc;eEG,8EF;KDC;6BKG;KLsB;2BME;KNwD;yBOG;8BJsB;yDKK;+BCC,gDD,QL;SI6B;KPI;2BUE;KVQ;oBWE;KXU;CFY;OcE;CdM"},"hasCjsExports":false},"type":"js/module"}]}