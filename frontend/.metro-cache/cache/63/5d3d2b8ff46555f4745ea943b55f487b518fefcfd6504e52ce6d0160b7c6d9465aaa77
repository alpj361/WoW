{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":86,"index":86}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"../services/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":183},"end":{"line":4,"column":70,"index":253}}],"key":"KPiafkkHXMyy0AQm6tuLQc7uw64=","exportNames":["*"],"imports":1}},{"name":"../utils/authState","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":254},"end":{"line":5,"column":47,"index":301}}],"key":"NiKTyVyV9HlvikffeNdGsZOd0CQ=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":302},"end":{"line":6,"column":69,"index":371}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/Users/pj/Desktop/Wow/frontend/src/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _servicesSupabase = require(_dependencyMap[2], \"../services/supabase\");\n  var _utilsAuthState = require(_dependencyMap[3], \"../utils/authState\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[4], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactJsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  const PROFILE_CACHE_KEY = 'user_profile_cache';\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n\n  // Module-level flag removed - using authState.isInitialized instead (survives module reloads)\n\n  // Merge avatar_url from user_metadata into a cached profile if missing or stale\n  const mergeAvatarFromMetadata = (cachedProfile, user) => {\n    if (!user || !cachedProfile) return cachedProfile;\n    const metaAvatar = user.user_metadata?.avatar_url || user.user_metadata?.picture;\n    if (metaAvatar && (!cachedProfile.avatar_url || cachedProfile.avatar_url !== metaAvatar)) {\n      console.log('ðŸ–¼ï¸ Updating avatar_url from user_metadata');\n      return {\n        ...cachedProfile,\n        avatar_url: metaAvatar\n      };\n    }\n    return cachedProfile;\n  };\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [session, setSession] = (0, _react.useState)(null);\n    const [user, setUser] = (0, _react.useState)(null);\n    const [profile, setProfile] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const isInitializing = (0, _react.useRef)(false);\n    const pendingFetchPromise = (0, _react.useRef)(null);\n\n    // Refs to track state inside callbacks without re-subscribing\n    const userRef = (0, _react.useRef)(null);\n    const profileRef = (0, _react.useRef)(null);\n    (0, _react.useEffect)(() => {\n      userRef.current = user;\n    }, [user]);\n    (0, _react.useEffect)(() => {\n      profileRef.current = profile;\n    }, [profile]);\n    (0, _react.useEffect)(() => {\n      if (!(0, _servicesSupabase.isSupabaseConfigured)()) {\n        console.log('âš ï¸ Supabase not configured');\n        setLoading(false);\n        return;\n      }\n\n      // Prevent re-initialization on component remount (critical for expo-router)\n      // Using authState.isInitialized which persists across module reloads\n      if (_utilsAuthState.authState.getState().isInitialized) {\n        console.log('âš ï¸ Already initialized once, restoring from cache');\n        // Still need to restore state and set loading=false\n        restoreFromCache();\n        return;\n      }\n      _utilsAuthState.authState.setInitialized(true);\n\n      // Also set the ref for within-render safety\n      if (isInitializing.current) {\n        console.log('âš ï¸ Already initializing, skipping duplicate call');\n        // Don't return without ensuring loading is handled - restoreFromCache already called above\n        return;\n      }\n      isInitializing.current = true;\n\n      // Get initial session\n      initializeAuth();\n\n      // Listen for auth changes\n      const {\n        data: {\n          subscription\n        }\n      } = _servicesSupabase.supabase.auth.onAuthStateChange(async (event, newSession) => {\n        console.log('ðŸ” Auth state change:', event, newSession?.user?.email);\n\n        // INITIAL_SESSION is handled by initializeAuth() - skip to avoid duplicated work\n        if (event === 'INITIAL_SESSION') {\n          console.log('â­ï¸ Skipping INITIAL_SESSION (handled by initializeAuth)');\n          return;\n        }\n\n        // Check if auth-callback is processing - set session+user but skip profile fetch\n        const isProcessing = _utilsAuthState.authState.getState().isProcessing;\n        if (isProcessing && event === 'SIGNED_IN') {\n          console.log('â³ Auth callback is processing, setting session+user (skip profile fetch)');\n          setSession(newSession);\n          setUser(newSession?.user ?? null);\n          setLoading(false);\n          return;\n        }\n        if (event === 'SIGNED_IN' && newSession?.user) {\n          setSession(newSession);\n\n          // 1. Primero verificar memoria\n          if (profileRef.current && profileRef.current.id === newSession.user.id) {\n            console.log('ðŸš€ Using memory profile for SIGNED_IN');\n            const merged = mergeAvatarFromMetadata(profileRef.current, newSession.user);\n            if (merged !== profileRef.current) {\n              setProfile(merged);\n              await AsyncStorage.default.setItem(PROFILE_CACHE_KEY, JSON.stringify(merged));\n            }\n            setUser(newSession.user);\n            setLoading(false);\n            return;\n          }\n\n          // 2. Verificar AsyncStorage cache ANTES de fetch\n          const cachedStr = await AsyncStorage.default.getItem(PROFILE_CACHE_KEY);\n          if (cachedStr) {\n            try {\n              const cached = JSON.parse(cachedStr);\n              if (cached.id === newSession.user.id) {\n                console.log('ðŸ“¦ Using cached profile for SIGNED_IN');\n                const merged = mergeAvatarFromMetadata(cached, newSession.user);\n                setUser(newSession.user);\n                setProfile(merged);\n                if (merged !== cached) {\n                  await AsyncStorage.default.setItem(PROFILE_CACHE_KEY, JSON.stringify(merged));\n                }\n                setLoading(false);\n                return; // NO hacer fetch\n              }\n            } catch (e) {/* continue to fetch */}\n          }\n\n          // 3. Solo si no hay cache, hacer fetch\n          const profileData = await fetchProfile(newSession.user.id);\n          if (profileData) {\n            console.log('âœ… Profile found in onAuthStateChange');\n            setUser(newSession.user);\n            setProfile(profileData);\n            // Reset authState now that user is fully authenticated\n            _utilsAuthState.authState.reset();\n          } else {\n            // Si no hay datos en ningÃºn lado\n            console.log('âŒ No profile in onAuthStateChange (and no cache), user not set');\n            setUser(null);\n            setProfile(null);\n            _utilsAuthState.authState.reset();\n          }\n          setLoading(false);\n        } else if (event === 'SIGNED_OUT') {\n          console.log('ðŸšª SIGNED_OUT event received');\n          _utilsAuthState.authState.reset();\n          setSession(null);\n          setUser(null);\n          setProfile(null);\n          setLoading(false);\n        } else if (event === 'TOKEN_REFRESHED' && newSession?.user) {\n          // Token refresh - always re-fetch profile to ensure consistency\n          console.log('ðŸ”„ Token refreshed, re-validating profile');\n          setSession(newSession);\n          const profileData = await fetchProfile(newSession.user.id);\n          if (profileData) {\n            setUser(newSession.user);\n            setProfile(profileData);\n          } else {\n            // FIX: On token refresh, if profile fetch fails (timeout), \n            // ABSOLUTELY DO NOT SIGN OUT if we already have data.\n            if (userRef.current && profileRef.current && userRef.current.id === newSession.user.id) {\n              console.warn('âš ï¸ Profile fetch failed on refresh, keeping existing session');\n            } else {\n              console.warn('âš ï¸ Profile lost after token refresh, signing out');\n              signOut();\n            }\n          }\n        }\n      });\n      return () => subscription.unsubscribe();\n    }, []);\n\n    // Auto-recovery: Re-validate session when user returns to the page (web only)\n    (0, _react.useEffect)(() => {\n      // Only run on web platform\n      if (Platform.default.OS !== 'web') return;\n      if (typeof window === 'undefined' || typeof document === 'undefined') return;\n      const handleVisibilityChange = async () => {\n        if (document.visibilityState === 'visible' && session) {\n          console.log('ðŸ‘ï¸ Page visible, checking session validity');\n          try {\n            const {\n              error\n            } = await _servicesSupabase.supabase.auth.getSession();\n            if (error) {\n              console.warn('âš ï¸ Session invalid, signing out');\n              signOut();\n            }\n            // NO re-fetch profile - usar datos existentes en memoria\n          } catch (error) {\n            console.error('Error checking session:', error);\n          }\n        }\n      };\n      document.addEventListener('visibilitychange', handleVisibilityChange);\n      return () => document.removeEventListener('visibilitychange', handleVisibilityChange);\n    }, [session]);\n\n    // Quick restore from cache when already initialized (prevents loading stuck)\n    const restoreFromCache = async () => {\n      try {\n        const cachedProfileStr = await AsyncStorage.default.getItem(PROFILE_CACHE_KEY);\n        if (cachedProfileStr) {\n          const cachedProfile = JSON.parse(cachedProfileStr);\n          const {\n            data: {\n              session: currentSession\n            }\n          } = await _servicesSupabase.supabase.auth.getSession();\n          if (currentSession?.user && cachedProfile.id === currentSession.user.id) {\n            console.log('ðŸ”„ Restored from cache after re-mount');\n            const merged = mergeAvatarFromMetadata(cachedProfile, currentSession.user);\n            setSession(currentSession);\n            setUser(currentSession.user);\n            setProfile(merged);\n            if (merged !== cachedProfile) {\n              await AsyncStorage.default.setItem(PROFILE_CACHE_KEY, JSON.stringify(merged));\n            }\n          }\n        }\n      } catch (e) {\n        console.error('Error restoring from cache:', e);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const initializeAuth = async () => {\n      try {\n        // Step 1: Try to load from cache first for instant UI\n        const cachedProfileStr = await AsyncStorage.default.getItem(PROFILE_CACHE_KEY);\n        let cachedProfile = null;\n        if (cachedProfileStr) {\n          try {\n            cachedProfile = JSON.parse(cachedProfileStr);\n            console.log('ðŸ“¦ Loaded cached profile:', cachedProfile.email);\n          } catch (e) {\n            console.error('Failed to parse cached profile', e);\n          }\n        }\n        const {\n          data: {\n            session\n          }\n        } = await _servicesSupabase.supabase.auth.getSession();\n        console.log('ðŸ” Initial session:', session?.user?.email);\n        if (session?.user) {\n          setSession(session);\n\n          // If we have a cached profile and it matches the current user, use it immediately\n          // and DO NOT fetch - the cache is sufficient for loading the app\n          if (cachedProfile && cachedProfile.id === session.user.id) {\n            console.log('ðŸš€ Using cached profile for instant load');\n            const merged = mergeAvatarFromMetadata(cachedProfile, session.user);\n            setUser(session.user);\n            setProfile(merged);\n            if (merged !== cachedProfile) {\n              await AsyncStorage.default.setItem(PROFILE_CACHE_KEY, JSON.stringify(merged));\n            }\n            _utilsAuthState.authState.reset(); // Clean state after successful load\n            setLoading(false);\n            return; // NO fetch - cache is sufficient\n          }\n\n          // Solo fetch si NO hay cache vÃ¡lido\n          const profileData = await fetchProfile(session.user.id);\n          if (profileData) {\n            setUser(session.user);\n            setProfile(profileData);\n            _utilsAuthState.authState.reset(); // Clean state after successful load\n          } else {\n            // No cache AND fetch failed - treat as no profile\n            console.log('âŒ No profile on init (and no cache)');\n            setUser(null);\n            _utilsAuthState.authState.reset();\n          }\n        }\n      } catch (error) {\n        // Ignore abort errors which happen on hot reload or fast navigation\n        if (error.name !== 'AbortError' && !error?.message?.includes('aborted')) {\n          console.error('Init auth error:', error);\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    // Fetch profile with Promise-based deduplication\n    const fetchProfile = async (userId, options) => {\n      // Si ya hay un fetch en progreso, esperar ese resultado\n      if (pendingFetchPromise.current) {\n        console.log('â³ Waiting for existing fetch to complete');\n        return pendingFetchPromise.current;\n      }\n\n      // OpciÃ³n para skip si hay cache vÃ¡lido\n      if (options?.skipIfCached) {\n        const cachedStr = await AsyncStorage.default.getItem(PROFILE_CACHE_KEY);\n        if (cachedStr) {\n          try {\n            const cached = JSON.parse(cachedStr);\n            if (cached.id === userId) {\n              console.log('ðŸ“¦ Using cached profile, skipping fetch');\n              return cached;\n            }\n          } catch (e) {/* ignore */}\n        }\n      }\n\n      // Crear la promesa y guardarla\n      const fetchPromise = (async () => {\n        try {\n          console.log(`ðŸ” Fetching profile for: ${userId}`);\n\n          // Timeout de 10s (tenemos cache como fallback)\n          const timeoutPromise = new Promise((_, reject) => setTimeout(() => reject(new Error('Profile fetch timeout')), 10000));\n          const {\n            data,\n            error\n          } = await Promise.race([_servicesSupabase.supabase.from('profiles').select('*').eq('id', userId).single(), timeoutPromise]);\n          if (error) {\n            if (error.code === 'PGRST116') {\n              console.log('âŒ No profile found (user not registered)');\n              return null;\n            }\n            console.warn('âš ï¸ Profile fetch error:', error.message);\n            return null;\n          }\n          if (data) {\n            console.log('âœ… Profile found:', data.email);\n            await AsyncStorage.default.setItem(PROFILE_CACHE_KEY, JSON.stringify(data));\n            return data;\n          }\n          return null;\n        } catch (error) {\n          console.error('âŒ Profile fetch exception:', error.message);\n          return null;\n        } finally {\n          pendingFetchPromise.current = null;\n        }\n      })();\n      pendingFetchPromise.current = fetchPromise;\n      return fetchPromise;\n    };\n    const refreshProfile = async () => {\n      if (session?.user) {\n        const profileData = await fetchProfile(session.user.id);\n        if (profileData) {\n          setProfile(profileData);\n          setUser(session.user);\n        }\n      }\n    };\n    const signOut = async () => {\n      try {\n        setSession(null);\n        setUser(null);\n        setProfile(null);\n        await AsyncStorage.default.removeItem(PROFILE_CACHE_KEY); // Clear cache on logout\n        await _servicesSupabase.supabase.auth.signOut();\n      } catch (error) {\n        console.error('Sign out error:', error);\n      }\n    };\n    const value = {\n      session,\n      user,\n      profile,\n      loading,\n      signOut,\n      refreshProfile\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 12\n    }, this);\n  }\n  _s(AuthProvider, \"sf6z+JazA0WnkaR0UdhtBHBhRIU=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":416,"map":[[15,2,34,0,"exports"],[15,9,34,0],[15,10,34,0,"AuthProvider"],[15,22,34,0],[15,25,34,0,"AuthProvider"],[15,37,34,0],[16,2,389,0,"exports"],[16,9,389,0],[16,10,389,0,"useAuth"],[16,17,389,0],[16,20,389,0,"useAuth"],[16,27,389,0],[17,2,1,0],[17,6,1,0,"_react"],[17,12,1,0],[17,15,1,0,"require"],[17,22,1,0],[17,23,1,0,"_dependencyMap"],[17,37,1,0],[18,2,1,86],[18,6,1,86,"_reactNativeWebDistExportsPlatform"],[18,40,1,86],[18,43,1,86,"require"],[18,50,1,86],[18,51,1,86,"_dependencyMap"],[18,65,1,86],[19,2,1,86],[19,6,1,86,"Platform"],[19,14,1,86],[19,17,1,86,"_interopDefault"],[19,32,1,86],[19,33,1,86,"_reactNativeWebDistExportsPlatform"],[19,67,1,86],[20,2,4,0],[20,6,4,0,"_servicesSupabase"],[20,23,4,0],[20,26,4,0,"require"],[20,33,4,0],[20,34,4,0,"_dependencyMap"],[20,48,4,0],[21,2,5,0],[21,6,5,0,"_utilsAuthState"],[21,21,5,0],[21,24,5,0,"require"],[21,31,5,0],[21,32,5,0,"_dependencyMap"],[21,46,5,0],[22,2,6,0],[22,6,6,0,"_reactNativeAsyncStorageAsyncStorage"],[22,42,6,0],[22,45,6,0,"require"],[22,52,6,0],[22,53,6,0,"_dependencyMap"],[22,67,6,0],[23,2,6,0],[23,6,6,0,"AsyncStorage"],[23,18,6,0],[23,21,6,0,"_interopDefault"],[23,36,6,0],[23,37,6,0,"_reactNativeAsyncStorageAsyncStorage"],[23,73,6,0],[24,2,6,69],[24,6,6,69,"_reactJsxDevRuntime"],[24,25,6,69],[24,28,6,69,"require"],[24,35,6,69],[24,36,6,69,"_dependencyMap"],[24,50,6,69],[25,2,8,0],[25,8,8,6,"PROFILE_CACHE_KEY"],[25,25,8,23],[25,28,8,26],[25,48,8,46],[26,2,19,0],[26,8,19,6,"AuthContext"],[26,19,19,17],[26,35,19,20],[26,39,19,20,"createContext"],[26,45,19,33],[26,46,19,33,"createContext"],[26,59,19,33],[26,61,19,63,"undefined"],[26,70,19,72],[26,71,19,73],[28,2,21,0],[30,2,23,0],[31,2,24,0],[31,8,24,6,"mergeAvatarFromMetadata"],[31,31,24,29],[31,34,24,32,"mergeAvatarFromMetadata"],[31,35,24,33,"cachedProfile"],[31,48,24,51],[31,50,24,53,"user"],[31,54,24,70],[31,59,24,80],[32,4,25,4],[32,8,25,8],[32,9,25,9,"user"],[32,13,25,13],[32,17,25,17],[32,18,25,18,"cachedProfile"],[32,31,25,31],[32,33,25,33],[32,40,25,40,"cachedProfile"],[32,53,25,53],[33,4,26,4],[33,10,26,10,"metaAvatar"],[33,20,26,20],[33,23,26,23,"user"],[33,27,26,27],[33,28,26,28,"user_metadata"],[33,41,26,41],[33,43,26,43,"avatar_url"],[33,53,26,53],[33,57,26,57,"user"],[33,61,26,61],[33,62,26,62,"user_metadata"],[33,75,26,75],[33,77,26,77,"picture"],[33,84,26,84],[34,4,27,4],[34,8,27,8,"metaAvatar"],[34,18,27,18],[34,23,27,23],[34,24,27,24,"cachedProfile"],[34,37,27,37],[34,38,27,38,"avatar_url"],[34,48,27,48],[34,52,27,52,"cachedProfile"],[34,65,27,65],[34,66,27,66,"avatar_url"],[34,76,27,76],[34,81,27,81,"metaAvatar"],[34,91,27,91],[34,92,27,92],[34,94,27,94],[35,6,28,8,"console"],[35,13,28,15],[35,14,28,16,"log"],[35,17,28,19],[35,18,28,20],[35,62,28,64],[35,63,28,65],[36,6,29,8],[36,13,29,15],[37,8,29,17],[37,11,29,20,"cachedProfile"],[37,24,29,33],[38,8,29,35,"avatar_url"],[38,18,29,45],[38,20,29,47,"metaAvatar"],[39,6,29,58],[39,7,29,59],[40,4,30,4],[41,4,31,4],[41,11,31,11,"cachedProfile"],[41,24,31,24],[42,2,32,0],[42,3,32,1],[43,2,34,7],[43,11,34,16,"AuthProvider"],[43,23,34,28,"AuthProvider"],[43,24,34,29],[44,4,34,31,"children"],[45,2,34,71],[45,3,34,72],[45,5,34,74],[46,4,34,74,"_s"],[46,6,34,74],[47,4,35,4],[47,10,35,10],[47,11,35,11,"session"],[47,18,35,18],[47,20,35,20,"setSession"],[47,30,35,30],[47,31,35,31],[47,34,35,34],[47,38,35,34,"useState"],[47,44,35,42],[47,45,35,42,"useState"],[47,53,35,42],[47,55,35,59],[47,59,35,63],[47,60,35,64],[48,4,36,4],[48,10,36,10],[48,11,36,11,"user"],[48,15,36,15],[48,17,36,17,"setUser"],[48,24,36,24],[48,25,36,25],[48,28,36,28],[48,32,36,28,"useState"],[48,38,36,36],[48,39,36,36,"useState"],[48,47,36,36],[48,49,36,50],[48,53,36,54],[48,54,36,55],[49,4,37,4],[49,10,37,10],[49,11,37,11,"profile"],[49,18,37,18],[49,20,37,20,"setProfile"],[49,30,37,30],[49,31,37,31],[49,34,37,34],[49,38,37,34,"useState"],[49,44,37,42],[49,45,37,42,"useState"],[49,53,37,42],[49,55,37,55],[49,59,37,59],[49,60,37,60],[50,4,38,4],[50,10,38,10],[50,11,38,11,"loading"],[50,18,38,18],[50,20,38,20,"setLoading"],[50,30,38,30],[50,31,38,31],[50,34,38,34],[50,38,38,34,"useState"],[50,44,38,42],[50,45,38,42,"useState"],[50,53,38,42],[50,55,38,43],[50,59,38,47],[50,60,38,48],[51,4,39,4],[51,10,39,10,"isInitializing"],[51,24,39,24],[51,27,39,27],[51,31,39,27,"useRef"],[51,37,39,33],[51,38,39,33,"useRef"],[51,44,39,33],[51,46,39,34],[51,51,39,39],[51,52,39,40],[52,4,40,4],[52,10,40,10,"pendingFetchPromise"],[52,29,40,29],[52,32,40,32],[52,36,40,32,"useRef"],[52,42,40,38],[52,43,40,38,"useRef"],[52,49,40,38],[52,51,40,67],[52,55,40,71],[52,56,40,72],[54,4,42,4],[55,4,43,4],[55,10,43,10,"userRef"],[55,17,43,17],[55,20,43,20],[55,24,43,20,"useRef"],[55,30,43,26],[55,31,43,26,"useRef"],[55,37,43,26],[55,39,43,40],[55,43,43,44],[55,44,43,45],[56,4,44,4],[56,10,44,10,"profileRef"],[56,20,44,20],[56,23,44,23],[56,27,44,23,"useRef"],[56,33,44,29],[56,34,44,29,"useRef"],[56,40,44,29],[56,42,44,42],[56,46,44,46],[56,47,44,47],[57,4,46,4],[57,8,46,4,"useEffect"],[57,14,46,13],[57,15,46,13,"useEffect"],[57,24,46,13],[57,26,46,14],[57,32,46,20],[58,6,46,22,"userRef"],[58,13,46,29],[58,14,46,30,"current"],[58,21,46,37],[58,24,46,40,"user"],[58,28,46,44],[59,4,46,46],[59,5,46,47],[59,7,46,49],[59,8,46,50,"user"],[59,12,46,54],[59,13,46,55],[59,14,46,56],[60,4,47,4],[60,8,47,4,"useEffect"],[60,14,47,13],[60,15,47,13,"useEffect"],[60,24,47,13],[60,26,47,14],[60,32,47,20],[61,6,47,22,"profileRef"],[61,16,47,32],[61,17,47,33,"current"],[61,24,47,40],[61,27,47,43,"profile"],[61,34,47,50],[62,4,47,52],[62,5,47,53],[62,7,47,55],[62,8,47,56,"profile"],[62,15,47,63],[62,16,47,64],[62,17,47,65],[63,4,49,4],[63,8,49,4,"useEffect"],[63,14,49,13],[63,15,49,13,"useEffect"],[63,24,49,13],[63,26,49,14],[63,32,49,20],[64,6,50,8],[64,10,50,12],[64,11,50,13],[64,15,50,13,"isSupabaseConfigured"],[64,32,50,33],[64,33,50,33,"isSupabaseConfigured"],[64,53,50,33],[64,55,50,34],[64,56,50,35],[64,58,50,37],[65,8,51,12,"console"],[65,15,51,19],[65,16,51,20,"log"],[65,19,51,23],[65,20,51,24],[65,48,51,52],[65,49,51,53],[66,8,52,12,"setLoading"],[66,18,52,22],[66,19,52,23],[66,24,52,28],[66,25,52,29],[67,8,53,12],[68,6,54,8],[70,6,56,8],[71,6,57,8],[72,6,58,8],[72,10,58,12,"authState"],[72,25,58,21],[72,26,58,21,"authState"],[72,35,58,21],[72,36,58,22,"getState"],[72,44,58,30],[72,45,58,31],[72,46,58,32],[72,47,58,33,"isInitialized"],[72,60,58,46],[72,62,58,48],[73,8,59,12,"console"],[73,15,59,19],[73,16,59,20,"log"],[73,19,59,23],[73,20,59,24],[73,71,59,75],[73,72,59,76],[74,8,60,12],[75,8,61,12,"restoreFromCache"],[75,24,61,28],[75,25,61,29],[75,26,61,30],[76,8,62,12],[77,6,63,8],[78,6,64,8,"authState"],[78,21,64,17],[78,22,64,17,"authState"],[78,31,64,17],[78,32,64,18,"setInitialized"],[78,46,64,32],[78,47,64,33],[78,51,64,37],[78,52,64,38],[80,6,66,8],[81,6,67,8],[81,10,67,12,"isInitializing"],[81,24,67,26],[81,25,67,27,"current"],[81,32,67,34],[81,34,67,36],[82,8,68,12,"console"],[82,15,68,19],[82,16,68,20,"log"],[82,19,68,23],[82,20,68,24],[82,70,68,74],[82,71,68,75],[83,8,69,12],[84,8,70,12],[85,6,71,8],[86,6,72,8,"isInitializing"],[86,20,72,22],[86,21,72,23,"current"],[86,28,72,30],[86,31,72,33],[86,35,72,37],[88,6,74,8],[89,6,75,8,"initializeAuth"],[89,20,75,22],[89,21,75,23],[89,22,75,24],[91,6,77,8],[92,6,78,8],[92,12,78,14],[93,8,78,16,"data"],[93,12,78,20],[93,14,78,22],[94,10,78,24,"subscription"],[95,8,78,37],[96,6,78,39],[96,7,78,40],[96,10,78,43,"supabase"],[96,27,78,51],[96,28,78,51,"supabase"],[96,36,78,51],[96,37,78,52,"auth"],[96,41,78,56],[96,42,78,57,"onAuthStateChange"],[96,59,78,74],[96,60,79,12],[96,67,79,19,"event"],[96,72,79,24],[96,74,79,26,"newSession"],[96,84,79,36],[96,89,79,41],[97,8,80,16,"console"],[97,15,80,23],[97,16,80,24,"log"],[97,19,80,27],[97,20,80,28],[97,43,80,51],[97,45,80,53,"event"],[97,50,80,58],[97,52,80,60,"newSession"],[97,62,80,70],[97,64,80,72,"user"],[97,68,80,76],[97,70,80,78,"email"],[97,75,80,83],[97,76,80,84],[99,8,82,16],[100,8,83,16],[100,12,83,20,"event"],[100,17,83,25],[100,22,83,30],[100,39,83,47],[100,41,83,49],[101,10,84,20,"console"],[101,17,84,27],[101,18,84,28,"log"],[101,21,84,31],[101,22,84,32],[101,79,84,89],[101,80,84,90],[102,10,85,20],[103,8,86,16],[105,8,88,16],[106,8,89,16],[106,14,89,22,"isProcessing"],[106,26,89,34],[106,29,89,37,"authState"],[106,44,89,46],[106,45,89,46,"authState"],[106,54,89,46],[106,55,89,47,"getState"],[106,63,89,55],[106,64,89,56],[106,65,89,57],[106,66,89,58,"isProcessing"],[106,78,89,70],[107,8,90,16],[107,12,90,20,"isProcessing"],[107,24,90,32],[107,28,90,36,"event"],[107,33,90,41],[107,38,90,46],[107,49,90,57],[107,51,90,59],[108,10,91,20,"console"],[108,17,91,27],[108,18,91,28,"log"],[108,21,91,31],[108,22,91,32],[108,96,91,106],[108,97,91,107],[109,10,92,20,"setSession"],[109,20,92,30],[109,21,92,31,"newSession"],[109,31,92,41],[109,32,92,42],[110,10,93,20,"setUser"],[110,17,93,27],[110,18,93,28,"newSession"],[110,28,93,38],[110,30,93,40,"user"],[110,34,93,44],[110,38,93,48],[110,42,93,52],[110,43,93,53],[111,10,94,20,"setLoading"],[111,20,94,30],[111,21,94,31],[111,26,94,36],[111,27,94,37],[112,10,95,20],[113,8,96,16],[114,8,98,16],[114,12,98,20,"event"],[114,17,98,25],[114,22,98,30],[114,33,98,41],[114,37,98,45,"newSession"],[114,47,98,55],[114,49,98,57,"user"],[114,53,98,61],[114,55,98,63],[115,10,99,20,"setSession"],[115,20,99,30],[115,21,99,31,"newSession"],[115,31,99,41],[115,32,99,42],[117,10,101,20],[118,10,102,20],[118,14,102,24,"profileRef"],[118,24,102,34],[118,25,102,35,"current"],[118,32,102,42],[118,36,102,46,"profileRef"],[118,46,102,56],[118,47,102,57,"current"],[118,54,102,64],[118,55,102,65,"id"],[118,57,102,67],[118,62,102,72,"newSession"],[118,72,102,82],[118,73,102,83,"user"],[118,77,102,87],[118,78,102,88,"id"],[118,80,102,90],[118,82,102,92],[119,12,103,24,"console"],[119,19,103,31],[119,20,103,32,"log"],[119,23,103,35],[119,24,103,36],[119,63,103,75],[119,64,103,76],[120,12,104,24],[120,18,104,30,"merged"],[120,24,104,36],[120,27,104,39,"mergeAvatarFromMetadata"],[120,50,104,62],[120,51,104,63,"profileRef"],[120,61,104,73],[120,62,104,74,"current"],[120,69,104,81],[120,71,104,83,"newSession"],[120,81,104,93],[120,82,104,94,"user"],[120,86,104,98],[120,87,104,99],[121,12,105,24],[121,16,105,28,"merged"],[121,22,105,34],[121,27,105,39,"profileRef"],[121,37,105,49],[121,38,105,50,"current"],[121,45,105,57],[121,47,105,59],[122,14,106,28,"setProfile"],[122,24,106,38],[122,25,106,39,"merged"],[122,31,106,45],[122,32,106,46],[123,14,107,28],[123,20,107,34,"AsyncStorage"],[123,32,107,46],[123,33,107,46,"default"],[123,40,107,46],[123,41,107,47,"setItem"],[123,48,107,54],[123,49,107,55,"PROFILE_CACHE_KEY"],[123,66,107,72],[123,68,107,74,"JSON"],[123,72,107,78],[123,73,107,79,"stringify"],[123,82,107,88],[123,83,107,89,"merged"],[123,89,107,95],[123,90,107,96],[123,91,107,97],[124,12,108,24],[125,12,109,24,"setUser"],[125,19,109,31],[125,20,109,32,"newSession"],[125,30,109,42],[125,31,109,43,"user"],[125,35,109,47],[125,36,109,48],[126,12,110,24,"setLoading"],[126,22,110,34],[126,23,110,35],[126,28,110,40],[126,29,110,41],[127,12,111,24],[128,10,112,20],[130,10,114,20],[131,10,115,20],[131,16,115,26,"cachedStr"],[131,25,115,35],[131,28,115,38],[131,34,115,44,"AsyncStorage"],[131,46,115,56],[131,47,115,56,"default"],[131,54,115,56],[131,55,115,57,"getItem"],[131,62,115,64],[131,63,115,65,"PROFILE_CACHE_KEY"],[131,80,115,82],[131,81,115,83],[132,10,116,20],[132,14,116,24,"cachedStr"],[132,23,116,33],[132,25,116,35],[133,12,117,24],[133,16,117,28],[134,14,118,28],[134,20,118,34,"cached"],[134,26,118,40],[134,29,118,43,"JSON"],[134,33,118,47],[134,34,118,48,"parse"],[134,39,118,53],[134,40,118,54,"cachedStr"],[134,49,118,63],[134,50,118,64],[135,14,119,28],[135,18,119,32,"cached"],[135,24,119,38],[135,25,119,39,"id"],[135,27,119,41],[135,32,119,46,"newSession"],[135,42,119,56],[135,43,119,57,"user"],[135,47,119,61],[135,48,119,62,"id"],[135,50,119,64],[135,52,119,66],[136,16,120,32,"console"],[136,23,120,39],[136,24,120,40,"log"],[136,27,120,43],[136,28,120,44],[136,67,120,83],[136,68,120,84],[137,16,121,32],[137,22,121,38,"merged"],[137,28,121,44],[137,31,121,47,"mergeAvatarFromMetadata"],[137,54,121,70],[137,55,121,71,"cached"],[137,61,121,77],[137,63,121,79,"newSession"],[137,73,121,89],[137,74,121,90,"user"],[137,78,121,94],[137,79,121,95],[138,16,122,32,"setUser"],[138,23,122,39],[138,24,122,40,"newSession"],[138,34,122,50],[138,35,122,51,"user"],[138,39,122,55],[138,40,122,56],[139,16,123,32,"setProfile"],[139,26,123,42],[139,27,123,43,"merged"],[139,33,123,49],[139,34,123,50],[140,16,124,32],[140,20,124,36,"merged"],[140,26,124,42],[140,31,124,47,"cached"],[140,37,124,53],[140,39,124,55],[141,18,125,36],[141,24,125,42,"AsyncStorage"],[141,36,125,54],[141,37,125,54,"default"],[141,44,125,54],[141,45,125,55,"setItem"],[141,52,125,62],[141,53,125,63,"PROFILE_CACHE_KEY"],[141,70,125,80],[141,72,125,82,"JSON"],[141,76,125,86],[141,77,125,87,"stringify"],[141,86,125,96],[141,87,125,97,"merged"],[141,93,125,103],[141,94,125,104],[141,95,125,105],[142,16,126,32],[143,16,127,32,"setLoading"],[143,26,127,42],[143,27,127,43],[143,32,127,48],[143,33,127,49],[144,16,128,32],[144,23,128,39],[144,24,128,40],[145,14,129,28],[146,12,130,24],[146,13,130,25],[146,14,130,26],[146,21,130,33,"e"],[146,22,130,34],[146,24,130,36],[146,25,130,38],[147,10,131,20],[149,10,133,20],[150,10,134,20],[150,16,134,26,"profileData"],[150,27,134,37],[150,30,134,40],[150,36,134,46,"fetchProfile"],[150,48,134,58],[150,49,134,59,"newSession"],[150,59,134,69],[150,60,134,70,"user"],[150,64,134,74],[150,65,134,75,"id"],[150,67,134,77],[150,68,134,78],[151,10,135,20],[151,14,135,24,"profileData"],[151,25,135,35],[151,27,135,37],[152,12,136,24,"console"],[152,19,136,31],[152,20,136,32,"log"],[152,23,136,35],[152,24,136,36],[152,62,136,74],[152,63,136,75],[153,12,137,24,"setUser"],[153,19,137,31],[153,20,137,32,"newSession"],[153,30,137,42],[153,31,137,43,"user"],[153,35,137,47],[153,36,137,48],[154,12,138,24,"setProfile"],[154,22,138,34],[154,23,138,35,"profileData"],[154,34,138,46],[154,35,138,47],[155,12,139,24],[156,12,140,24,"authState"],[156,27,140,33],[156,28,140,33,"authState"],[156,37,140,33],[156,38,140,34,"reset"],[156,43,140,39],[156,44,140,40],[156,45,140,41],[157,10,141,20],[157,11,141,21],[157,17,141,27],[158,12,142,24],[159,12,143,24,"console"],[159,19,143,31],[159,20,143,32,"log"],[159,23,143,35],[159,24,143,36],[159,88,143,100],[159,89,143,101],[160,12,144,24,"setUser"],[160,19,144,31],[160,20,144,32],[160,24,144,36],[160,25,144,37],[161,12,145,24,"setProfile"],[161,22,145,34],[161,23,145,35],[161,27,145,39],[161,28,145,40],[162,12,146,24,"authState"],[162,27,146,33],[162,28,146,33,"authState"],[162,37,146,33],[162,38,146,34,"reset"],[162,43,146,39],[162,44,146,40],[162,45,146,41],[163,10,147,20],[164,10,149,20,"setLoading"],[164,20,149,30],[164,21,149,31],[164,26,149,36],[164,27,149,37],[165,8,150,16],[165,9,150,17],[165,15,150,23],[165,19,150,27,"event"],[165,24,150,32],[165,29,150,37],[165,41,150,49],[165,43,150,51],[166,10,151,20,"console"],[166,17,151,27],[166,18,151,28,"log"],[166,21,151,31],[166,22,151,32],[166,52,151,62],[166,53,151,63],[167,10,152,20,"authState"],[167,25,152,29],[167,26,152,29,"authState"],[167,35,152,29],[167,36,152,30,"reset"],[167,41,152,35],[167,42,152,36],[167,43,152,37],[168,10,153,20,"setSession"],[168,20,153,30],[168,21,153,31],[168,25,153,35],[168,26,153,36],[169,10,154,20,"setUser"],[169,17,154,27],[169,18,154,28],[169,22,154,32],[169,23,154,33],[170,10,155,20,"setProfile"],[170,20,155,30],[170,21,155,31],[170,25,155,35],[170,26,155,36],[171,10,156,20,"setLoading"],[171,20,156,30],[171,21,156,31],[171,26,156,36],[171,27,156,37],[172,8,157,16],[172,9,157,17],[172,15,157,23],[172,19,157,27,"event"],[172,24,157,32],[172,29,157,37],[172,46,157,54],[172,50,157,58,"newSession"],[172,60,157,68],[172,62,157,70,"user"],[172,66,157,74],[172,68,157,76],[173,10,158,20],[174,10,159,20,"console"],[174,17,159,27],[174,18,159,28,"log"],[174,21,159,31],[174,22,159,32],[174,65,159,75],[174,66,159,76],[175,10,160,20,"setSession"],[175,20,160,30],[175,21,160,31,"newSession"],[175,31,160,41],[175,32,160,42],[176,10,161,20],[176,16,161,26,"profileData"],[176,27,161,37],[176,30,161,40],[176,36,161,46,"fetchProfile"],[176,48,161,58],[176,49,161,59,"newSession"],[176,59,161,69],[176,60,161,70,"user"],[176,64,161,74],[176,65,161,75,"id"],[176,67,161,77],[176,68,161,78],[177,10,162,20],[177,14,162,24,"profileData"],[177,25,162,35],[177,27,162,37],[178,12,163,24,"setUser"],[178,19,163,31],[178,20,163,32,"newSession"],[178,30,163,42],[178,31,163,43,"user"],[178,35,163,47],[178,36,163,48],[179,12,164,24,"setProfile"],[179,22,164,34],[179,23,164,35,"profileData"],[179,34,164,46],[179,35,164,47],[180,10,165,20],[180,11,165,21],[180,17,165,27],[181,12,166,24],[182,12,167,24],[183,12,168,24],[183,16,168,28,"userRef"],[183,23,168,35],[183,24,168,36,"current"],[183,31,168,43],[183,35,168,47,"profileRef"],[183,45,168,57],[183,46,168,58,"current"],[183,53,168,65],[183,57,168,69,"userRef"],[183,64,168,76],[183,65,168,77,"current"],[183,72,168,84],[183,73,168,85,"id"],[183,75,168,87],[183,80,168,92,"newSession"],[183,90,168,102],[183,91,168,103,"user"],[183,95,168,107],[183,96,168,108,"id"],[183,98,168,110],[183,100,168,112],[184,14,169,28,"console"],[184,21,169,35],[184,22,169,36,"warn"],[184,26,169,40],[184,27,169,41],[184,89,169,103],[184,90,169,104],[185,12,170,24],[185,13,170,25],[185,19,170,31],[186,14,171,28,"console"],[186,21,171,35],[186,22,171,36,"warn"],[186,26,171,40],[186,27,171,41],[186,77,171,91],[186,78,171,92],[187,14,172,28,"signOut"],[187,21,172,35],[187,22,172,36],[187,23,172,37],[188,12,173,24],[189,10,174,20],[190,8,175,16],[191,6,176,12],[191,7,177,8],[191,8,177,9],[192,6,179,8],[192,13,179,15],[192,19,179,21,"subscription"],[192,31,179,33],[192,32,179,34,"unsubscribe"],[192,43,179,45],[192,44,179,46],[192,45,179,47],[193,4,180,4],[193,5,180,5],[193,7,180,7],[193,9,180,9],[193,10,180,10],[195,4,182,4],[196,4,183,4],[196,8,183,4,"useEffect"],[196,14,183,13],[196,15,183,13,"useEffect"],[196,24,183,13],[196,26,183,14],[196,32,183,20],[197,6,184,8],[198,6,185,8],[198,10,185,12,"Platform"],[198,18,185,20],[198,19,185,20,"default"],[198,26,185,20],[198,27,185,21,"OS"],[198,29,185,23],[198,34,185,28],[198,39,185,33],[198,41,185,35],[199,6,186,8],[199,10,186,12],[199,17,186,19,"window"],[199,23,186,25],[199,28,186,30],[199,39,186,41],[199,43,186,45],[199,50,186,52,"document"],[199,58,186,60],[199,63,186,65],[199,74,186,76],[199,76,186,78],[200,6,188,8],[200,12,188,14,"handleVisibilityChange"],[200,34,188,36],[200,37,188,39],[200,43,188,39,"handleVisibilityChange"],[200,44,188,39],[200,49,188,51],[201,8,189,12],[201,12,189,16,"document"],[201,20,189,24],[201,21,189,25,"visibilityState"],[201,36,189,40],[201,41,189,45],[201,50,189,54],[201,54,189,58,"session"],[201,61,189,65],[201,63,189,67],[202,10,190,16,"console"],[202,17,190,23],[202,18,190,24,"log"],[202,21,190,27],[202,22,190,28],[202,67,190,73],[202,68,190,74],[203,10,191,16],[203,14,191,20],[204,12,192,20],[204,18,192,26],[205,14,192,28,"error"],[206,12,192,34],[206,13,192,35],[206,16,192,38],[206,22,192,44,"supabase"],[206,39,192,52],[206,40,192,52,"supabase"],[206,48,192,52],[206,49,192,53,"auth"],[206,53,192,57],[206,54,192,58,"getSession"],[206,64,192,68],[206,65,192,69],[206,66,192,70],[207,12,193,20],[207,16,193,24,"error"],[207,21,193,29],[207,23,193,31],[208,14,194,24,"console"],[208,21,194,31],[208,22,194,32,"warn"],[208,26,194,36],[208,27,194,37],[208,60,194,70],[208,61,194,71],[209,14,195,24,"signOut"],[209,21,195,31],[209,22,195,32],[209,23,195,33],[210,12,196,20],[211,12,197,20],[212,10,198,16],[212,11,198,17],[212,12,198,18],[212,19,198,25,"error"],[212,24,198,30],[212,26,198,32],[213,12,199,20,"console"],[213,19,199,27],[213,20,199,28,"error"],[213,25,199,33],[213,26,199,34],[213,51,199,59],[213,53,199,61,"error"],[213,58,199,66],[213,59,199,67],[214,10,200,16],[215,8,201,12],[216,6,202,8],[216,7,202,9],[217,6,204,8,"document"],[217,14,204,16],[217,15,204,17,"addEventListener"],[217,31,204,33],[217,32,204,34],[217,50,204,52],[217,52,204,54,"handleVisibilityChange"],[217,74,204,76],[217,75,204,77],[218,6,205,8],[218,13,205,15],[218,19,205,21,"document"],[218,27,205,29],[218,28,205,30,"removeEventListener"],[218,47,205,49],[218,48,205,50],[218,66,205,68],[218,68,205,70,"handleVisibilityChange"],[218,90,205,92],[218,91,205,93],[219,4,206,4],[219,5,206,5],[219,7,206,7],[219,8,206,8,"session"],[219,15,206,15],[219,16,206,16],[219,17,206,17],[221,4,208,4],[222,4,209,4],[222,10,209,10,"restoreFromCache"],[222,26,209,26],[222,29,209,29],[222,35,209,29,"restoreFromCache"],[222,36,209,29],[222,41,209,41],[223,6,210,8],[223,10,210,12],[224,8,211,12],[224,14,211,18,"cachedProfileStr"],[224,30,211,34],[224,33,211,37],[224,39,211,43,"AsyncStorage"],[224,51,211,55],[224,52,211,55,"default"],[224,59,211,55],[224,60,211,56,"getItem"],[224,67,211,63],[224,68,211,64,"PROFILE_CACHE_KEY"],[224,85,211,81],[224,86,211,82],[225,8,212,12],[225,12,212,16,"cachedProfileStr"],[225,28,212,32],[225,30,212,34],[226,10,213,16],[226,16,213,22,"cachedProfile"],[226,29,213,35],[226,32,213,38,"JSON"],[226,36,213,42],[226,37,213,43,"parse"],[226,42,213,48],[226,43,213,49,"cachedProfileStr"],[226,59,213,65],[226,60,213,66],[227,10,214,16],[227,16,214,22],[228,12,214,24,"data"],[228,16,214,28],[228,18,214,30],[229,14,214,32,"session"],[229,21,214,39],[229,23,214,41,"currentSession"],[230,12,214,56],[231,10,214,58],[231,11,214,59],[231,14,214,62],[231,20,214,68,"supabase"],[231,37,214,76],[231,38,214,76,"supabase"],[231,46,214,76],[231,47,214,77,"auth"],[231,51,214,81],[231,52,214,82,"getSession"],[231,62,214,92],[231,63,214,93],[231,64,214,94],[232,10,215,16],[232,14,215,20,"currentSession"],[232,28,215,34],[232,30,215,36,"user"],[232,34,215,40],[232,38,215,44,"cachedProfile"],[232,51,215,57],[232,52,215,58,"id"],[232,54,215,60],[232,59,215,65,"currentSession"],[232,73,215,79],[232,74,215,80,"user"],[232,78,215,84],[232,79,215,85,"id"],[232,81,215,87],[232,83,215,89],[233,12,216,20,"console"],[233,19,216,27],[233,20,216,28,"log"],[233,23,216,31],[233,24,216,32],[233,63,216,71],[233,64,216,72],[234,12,217,20],[234,18,217,26,"merged"],[234,24,217,32],[234,27,217,35,"mergeAvatarFromMetadata"],[234,50,217,58],[234,51,217,59,"cachedProfile"],[234,64,217,72],[234,66,217,74,"currentSession"],[234,80,217,88],[234,81,217,89,"user"],[234,85,217,93],[234,86,217,94],[235,12,218,20,"setSession"],[235,22,218,30],[235,23,218,31,"currentSession"],[235,37,218,45],[235,38,218,46],[236,12,219,20,"setUser"],[236,19,219,27],[236,20,219,28,"currentSession"],[236,34,219,42],[236,35,219,43,"user"],[236,39,219,47],[236,40,219,48],[237,12,220,20,"setProfile"],[237,22,220,30],[237,23,220,31,"merged"],[237,29,220,37],[237,30,220,38],[238,12,221,20],[238,16,221,24,"merged"],[238,22,221,30],[238,27,221,35,"cachedProfile"],[238,40,221,48],[238,42,221,50],[239,14,222,24],[239,20,222,30,"AsyncStorage"],[239,32,222,42],[239,33,222,42,"default"],[239,40,222,42],[239,41,222,43,"setItem"],[239,48,222,50],[239,49,222,51,"PROFILE_CACHE_KEY"],[239,66,222,68],[239,68,222,70,"JSON"],[239,72,222,74],[239,73,222,75,"stringify"],[239,82,222,84],[239,83,222,85,"merged"],[239,89,222,91],[239,90,222,92],[239,91,222,93],[240,12,223,20],[241,10,224,16],[242,8,225,12],[243,6,226,8],[243,7,226,9],[243,8,226,10],[243,15,226,17,"e"],[243,16,226,18],[243,18,226,20],[244,8,227,12,"console"],[244,15,227,19],[244,16,227,20,"error"],[244,21,227,25],[244,22,227,26],[244,51,227,55],[244,53,227,57,"e"],[244,54,227,58],[244,55,227,59],[245,6,228,8],[245,7,228,9],[245,16,228,18],[246,8,229,12,"setLoading"],[246,18,229,22],[246,19,229,23],[246,24,229,28],[246,25,229,29],[247,6,230,8],[248,4,231,4],[248,5,231,5],[249,4,233,4],[249,10,233,10,"initializeAuth"],[249,24,233,24],[249,27,233,27],[249,33,233,27,"initializeAuth"],[249,34,233,27],[249,39,233,39],[250,6,234,8],[250,10,234,12],[251,8,235,12],[252,8,236,12],[252,14,236,18,"cachedProfileStr"],[252,30,236,34],[252,33,236,37],[252,39,236,43,"AsyncStorage"],[252,51,236,55],[252,52,236,55,"default"],[252,59,236,55],[252,60,236,56,"getItem"],[252,67,236,63],[252,68,236,64,"PROFILE_CACHE_KEY"],[252,85,236,81],[252,86,236,82],[253,8,237,12],[253,12,237,16,"cachedProfile"],[253,25,237,29],[253,28,237,32],[253,32,237,36],[254,8,238,12],[254,12,238,16,"cachedProfileStr"],[254,28,238,32],[254,30,238,34],[255,10,239,16],[255,14,239,20],[256,12,240,20,"cachedProfile"],[256,25,240,33],[256,28,240,36,"JSON"],[256,32,240,40],[256,33,240,41,"parse"],[256,38,240,46],[256,39,240,47,"cachedProfileStr"],[256,55,240,63],[256,56,240,64],[257,12,241,20,"console"],[257,19,241,27],[257,20,241,28,"log"],[257,23,241,31],[257,24,241,32],[257,51,241,59],[257,53,241,61,"cachedProfile"],[257,66,241,74],[257,67,241,75,"email"],[257,72,241,80],[257,73,241,81],[258,10,242,16],[258,11,242,17],[258,12,242,18],[258,19,242,25,"e"],[258,20,242,26],[258,22,242,28],[259,12,243,20,"console"],[259,19,243,27],[259,20,243,28,"error"],[259,25,243,33],[259,26,243,34],[259,58,243,66],[259,60,243,68,"e"],[259,61,243,69],[259,62,243,70],[260,10,244,16],[261,8,245,12],[262,8,247,12],[262,14,247,18],[263,10,247,20,"data"],[263,14,247,24],[263,16,247,26],[264,12,247,28,"session"],[265,10,247,36],[266,8,247,38],[266,9,247,39],[266,12,247,42],[266,18,247,48,"supabase"],[266,35,247,56],[266,36,247,56,"supabase"],[266,44,247,56],[266,45,247,57,"auth"],[266,49,247,61],[266,50,247,62,"getSession"],[266,60,247,72],[266,61,247,73],[266,62,247,74],[267,8,248,12,"console"],[267,15,248,19],[267,16,248,20,"log"],[267,19,248,23],[267,20,248,24],[267,41,248,45],[267,43,248,47,"session"],[267,50,248,54],[267,52,248,56,"user"],[267,56,248,60],[267,58,248,62,"email"],[267,63,248,67],[267,64,248,68],[268,8,250,12],[268,12,250,16,"session"],[268,19,250,23],[268,21,250,25,"user"],[268,25,250,29],[268,27,250,31],[269,10,251,16,"setSession"],[269,20,251,26],[269,21,251,27,"session"],[269,28,251,34],[269,29,251,35],[271,10,253,16],[272,10,254,16],[273,10,255,16],[273,14,255,20,"cachedProfile"],[273,27,255,33],[273,31,255,37,"cachedProfile"],[273,44,255,50],[273,45,255,51,"id"],[273,47,255,53],[273,52,255,58,"session"],[273,59,255,65],[273,60,255,66,"user"],[273,64,255,70],[273,65,255,71,"id"],[273,67,255,73],[273,69,255,75],[274,12,256,20,"console"],[274,19,256,27],[274,20,256,28,"log"],[274,23,256,31],[274,24,256,32],[274,66,256,74],[274,67,256,75],[275,12,257,20],[275,18,257,26,"merged"],[275,24,257,32],[275,27,257,35,"mergeAvatarFromMetadata"],[275,50,257,58],[275,51,257,59,"cachedProfile"],[275,64,257,72],[275,66,257,74,"session"],[275,73,257,81],[275,74,257,82,"user"],[275,78,257,86],[275,79,257,87],[276,12,258,20,"setUser"],[276,19,258,27],[276,20,258,28,"session"],[276,27,258,35],[276,28,258,36,"user"],[276,32,258,40],[276,33,258,41],[277,12,259,20,"setProfile"],[277,22,259,30],[277,23,259,31,"merged"],[277,29,259,37],[277,30,259,38],[278,12,260,20],[278,16,260,24,"merged"],[278,22,260,30],[278,27,260,35,"cachedProfile"],[278,40,260,48],[278,42,260,50],[279,14,261,24],[279,20,261,30,"AsyncStorage"],[279,32,261,42],[279,33,261,42,"default"],[279,40,261,42],[279,41,261,43,"setItem"],[279,48,261,50],[279,49,261,51,"PROFILE_CACHE_KEY"],[279,66,261,68],[279,68,261,70,"JSON"],[279,72,261,74],[279,73,261,75,"stringify"],[279,82,261,84],[279,83,261,85,"merged"],[279,89,261,91],[279,90,261,92],[279,91,261,93],[280,12,262,20],[281,12,263,20,"authState"],[281,27,263,29],[281,28,263,29,"authState"],[281,37,263,29],[281,38,263,30,"reset"],[281,43,263,35],[281,44,263,36],[281,45,263,37],[281,46,263,38],[281,47,263,39],[282,12,264,20,"setLoading"],[282,22,264,30],[282,23,264,31],[282,28,264,36],[282,29,264,37],[283,12,265,20],[283,19,265,27],[283,20,265,28],[284,10,266,16],[286,10,268,16],[287,10,269,16],[287,16,269,22,"profileData"],[287,27,269,33],[287,30,269,36],[287,36,269,42,"fetchProfile"],[287,48,269,54],[287,49,269,55,"session"],[287,56,269,62],[287,57,269,63,"user"],[287,61,269,67],[287,62,269,68,"id"],[287,64,269,70],[287,65,269,71],[288,10,270,16],[288,14,270,20,"profileData"],[288,25,270,31],[288,27,270,33],[289,12,271,20,"setUser"],[289,19,271,27],[289,20,271,28,"session"],[289,27,271,35],[289,28,271,36,"user"],[289,32,271,40],[289,33,271,41],[290,12,272,20,"setProfile"],[290,22,272,30],[290,23,272,31,"profileData"],[290,34,272,42],[290,35,272,43],[291,12,273,20,"authState"],[291,27,273,29],[291,28,273,29,"authState"],[291,37,273,29],[291,38,273,30,"reset"],[291,43,273,35],[291,44,273,36],[291,45,273,37],[291,46,273,38],[291,47,273,39],[292,10,274,16],[292,11,274,17],[292,17,274,23],[293,12,275,20],[294,12,276,20,"console"],[294,19,276,27],[294,20,276,28,"log"],[294,23,276,31],[294,24,276,32],[294,61,276,69],[294,62,276,70],[295,12,277,20,"setUser"],[295,19,277,27],[295,20,277,28],[295,24,277,32],[295,25,277,33],[296,12,278,20,"authState"],[296,27,278,29],[296,28,278,29,"authState"],[296,37,278,29],[296,38,278,30,"reset"],[296,43,278,35],[296,44,278,36],[296,45,278,37],[297,10,279,16],[298,8,280,12],[299,6,281,8],[299,7,281,9],[299,8,281,10],[299,15,281,17,"error"],[299,20,281,27],[299,22,281,29],[300,8,282,12],[301,8,283,12],[301,12,283,16,"error"],[301,17,283,21],[301,18,283,22,"name"],[301,22,283,26],[301,27,283,31],[301,39,283,43],[301,43,283,47],[301,44,283,48,"error"],[301,49,283,53],[301,51,283,55,"message"],[301,58,283,62],[301,60,283,64,"includes"],[301,68,283,72],[301,69,283,73],[301,78,283,82],[301,79,283,83],[301,81,283,85],[302,10,284,16,"console"],[302,17,284,23],[302,18,284,24,"error"],[302,23,284,29],[302,24,284,30],[302,42,284,48],[302,44,284,50,"error"],[302,49,284,55],[302,50,284,56],[303,8,285,12],[304,6,286,8],[304,7,286,9],[304,16,286,18],[305,8,287,12,"setLoading"],[305,18,287,22],[305,19,287,23],[305,24,287,28],[305,25,287,29],[306,6,288,8],[307,4,289,4],[307,5,289,5],[309,4,291,4],[310,4,292,4],[310,10,292,10,"fetchProfile"],[310,22,292,22],[310,25,292,25],[310,31,292,25,"fetchProfile"],[310,32,292,32,"userId"],[310,38,292,46],[310,40,292,48,"options"],[310,47,292,84],[310,52,292,110],[311,6,293,8],[312,6,294,8],[312,10,294,12,"pendingFetchPromise"],[312,29,294,31],[312,30,294,32,"current"],[312,37,294,39],[312,39,294,41],[313,8,295,12,"console"],[313,15,295,19],[313,16,295,20,"log"],[313,19,295,23],[313,20,295,24],[313,62,295,66],[313,63,295,67],[314,8,296,12],[314,15,296,19,"pendingFetchPromise"],[314,34,296,38],[314,35,296,39,"current"],[314,42,296,46],[315,6,297,8],[317,6,299,8],[318,6,300,8],[318,10,300,12,"options"],[318,17,300,19],[318,19,300,21,"skipIfCached"],[318,31,300,33],[318,33,300,35],[319,8,301,12],[319,14,301,18,"cachedStr"],[319,23,301,27],[319,26,301,30],[319,32,301,36,"AsyncStorage"],[319,44,301,48],[319,45,301,48,"default"],[319,52,301,48],[319,53,301,49,"getItem"],[319,60,301,56],[319,61,301,57,"PROFILE_CACHE_KEY"],[319,78,301,74],[319,79,301,75],[320,8,302,12],[320,12,302,16,"cachedStr"],[320,21,302,25],[320,23,302,27],[321,10,303,16],[321,14,303,20],[322,12,304,20],[322,18,304,26,"cached"],[322,24,304,32],[322,27,304,35,"JSON"],[322,31,304,39],[322,32,304,40,"parse"],[322,37,304,45],[322,38,304,46,"cachedStr"],[322,47,304,55],[322,48,304,56],[323,12,305,20],[323,16,305,24,"cached"],[323,22,305,30],[323,23,305,31,"id"],[323,25,305,33],[323,30,305,38,"userId"],[323,36,305,44],[323,38,305,46],[324,14,306,24,"console"],[324,21,306,31],[324,22,306,32,"log"],[324,25,306,35],[324,26,306,36],[324,67,306,77],[324,68,306,78],[325,14,307,24],[325,21,307,31,"cached"],[325,27,307,37],[326,12,308,20],[327,10,309,16],[327,11,309,17],[327,12,309,18],[327,19,309,25,"e"],[327,20,309,26],[327,22,309,28],[327,23,309,30],[328,8,310,12],[329,6,311,8],[331,6,313,8],[332,6,314,8],[332,12,314,14,"fetchPromise"],[332,24,314,26],[332,27,314,29],[332,28,314,30],[332,40,314,42],[333,8,315,12],[333,12,315,16],[334,10,316,16,"console"],[334,17,316,23],[334,18,316,24,"log"],[334,21,316,27],[334,22,316,28],[334,50,316,56,"userId"],[334,56,316,62],[334,58,316,64],[334,59,316,65],[336,10,318,16],[337,10,319,16],[337,16,319,22,"timeoutPromise"],[337,30,319,36],[337,33,319,39],[337,37,319,43,"Promise"],[337,44,319,50],[337,45,319,57],[337,46,319,58,"_"],[337,47,319,59],[337,49,319,61,"reject"],[337,55,319,67],[337,60,320,20,"setTimeout"],[337,70,320,30],[337,71,320,31],[337,77,320,37,"reject"],[337,83,320,43],[337,84,320,44],[337,88,320,48,"Error"],[337,93,320,53],[337,94,320,54],[337,117,320,77],[337,118,320,78],[337,119,320,79],[337,121,320,81],[337,126,320,86],[337,127,321,16],[337,128,321,17],[338,10,323,16],[338,16,323,22],[339,12,323,24,"data"],[339,16,323,28],[340,12,323,30,"error"],[341,10,323,36],[341,11,323,37],[341,14,323,40],[341,20,323,46,"Promise"],[341,27,323,53],[341,28,323,54,"race"],[341,32,323,58],[341,33,323,59],[341,34,324,20,"supabase"],[341,51,324,28],[341,52,324,28,"supabase"],[341,60,324,28],[341,61,324,29,"from"],[341,65,324,33],[341,66,324,34],[341,76,324,44],[341,77,324,45],[341,78,324,46,"select"],[341,84,324,52],[341,85,324,53],[341,88,324,56],[341,89,324,57],[341,90,324,58,"eq"],[341,92,324,60],[341,93,324,61],[341,97,324,65],[341,99,324,67,"userId"],[341,105,324,73],[341,106,324,74],[341,107,324,75,"single"],[341,113,324,81],[341,114,324,82],[341,115,324,83],[341,117,325,20,"timeoutPromise"],[341,131,325,34],[341,132,326,17],[341,133,326,25],[342,10,328,16],[342,14,328,20,"error"],[342,19,328,25],[342,21,328,27],[343,12,329,20],[343,16,329,24,"error"],[343,21,329,29],[343,22,329,30,"code"],[343,26,329,34],[343,31,329,39],[343,41,329,49],[343,43,329,51],[344,14,330,24,"console"],[344,21,330,31],[344,22,330,32,"log"],[344,25,330,35],[344,26,330,36],[344,68,330,78],[344,69,330,79],[345,14,331,24],[345,21,331,31],[345,25,331,35],[346,12,332,20],[347,12,333,20,"console"],[347,19,333,27],[347,20,333,28,"warn"],[347,24,333,32],[347,25,333,33],[347,50,333,58],[347,52,333,60,"error"],[347,57,333,65],[347,58,333,66,"message"],[347,65,333,73],[347,66,333,74],[348,12,334,20],[348,19,334,27],[348,23,334,31],[349,10,335,16],[350,10,337,16],[350,14,337,20,"data"],[350,18,337,24],[350,20,337,26],[351,12,338,20,"console"],[351,19,338,27],[351,20,338,28,"log"],[351,23,338,31],[351,24,338,32],[351,42,338,50],[351,44,338,52,"data"],[351,48,338,56],[351,49,338,57,"email"],[351,54,338,62],[351,55,338,63],[352,12,339,20],[352,18,339,26,"AsyncStorage"],[352,30,339,38],[352,31,339,38,"default"],[352,38,339,38],[352,39,339,39,"setItem"],[352,46,339,46],[352,47,339,47,"PROFILE_CACHE_KEY"],[352,64,339,64],[352,66,339,66,"JSON"],[352,70,339,70],[352,71,339,71,"stringify"],[352,80,339,80],[352,81,339,81,"data"],[352,85,339,85],[352,86,339,86],[352,87,339,87],[353,12,340,20],[353,19,340,27,"data"],[353,23,340,31],[354,10,341,16],[355,10,342,16],[355,17,342,23],[355,21,342,27],[356,8,343,12],[356,9,343,13],[356,10,343,14],[356,17,343,21,"error"],[356,22,343,31],[356,24,343,33],[357,10,344,16,"console"],[357,17,344,23],[357,18,344,24,"error"],[357,23,344,29],[357,24,344,30],[357,52,344,58],[357,54,344,60,"error"],[357,59,344,65],[357,60,344,66,"message"],[357,67,344,73],[357,68,344,74],[358,10,345,16],[358,17,345,23],[358,21,345,27],[359,8,346,12],[359,9,346,13],[359,18,346,22],[360,10,347,16,"pendingFetchPromise"],[360,29,347,35],[360,30,347,36,"current"],[360,37,347,43],[360,40,347,46],[360,44,347,50],[361,8,348,12],[362,6,349,8],[362,7,349,9],[362,9,349,11],[362,10,349,12],[363,6,351,8,"pendingFetchPromise"],[363,25,351,27],[363,26,351,28,"current"],[363,33,351,35],[363,36,351,38,"fetchPromise"],[363,48,351,50],[364,6,352,8],[364,13,352,15,"fetchPromise"],[364,25,352,27],[365,4,353,4],[365,5,353,5],[366,4,355,4],[366,10,355,10,"refreshProfile"],[366,24,355,24],[366,27,355,27],[366,33,355,27,"refreshProfile"],[366,34,355,27],[366,39,355,39],[367,6,356,8],[367,10,356,12,"session"],[367,17,356,19],[367,19,356,21,"user"],[367,23,356,25],[367,25,356,27],[368,8,357,12],[368,14,357,18,"profileData"],[368,25,357,29],[368,28,357,32],[368,34,357,38,"fetchProfile"],[368,46,357,50],[368,47,357,51,"session"],[368,54,357,58],[368,55,357,59,"user"],[368,59,357,63],[368,60,357,64,"id"],[368,62,357,66],[368,63,357,67],[369,8,358,12],[369,12,358,16,"profileData"],[369,23,358,27],[369,25,358,29],[370,10,359,16,"setProfile"],[370,20,359,26],[370,21,359,27,"profileData"],[370,32,359,38],[370,33,359,39],[371,10,360,16,"setUser"],[371,17,360,23],[371,18,360,24,"session"],[371,25,360,31],[371,26,360,32,"user"],[371,30,360,36],[371,31,360,37],[372,8,361,12],[373,6,362,8],[374,4,363,4],[374,5,363,5],[375,4,365,4],[375,10,365,10,"signOut"],[375,17,365,17],[375,20,365,20],[375,26,365,20,"signOut"],[375,27,365,20],[375,32,365,32],[376,6,366,8],[376,10,366,12],[377,8,367,12,"setSession"],[377,18,367,22],[377,19,367,23],[377,23,367,27],[377,24,367,28],[378,8,368,12,"setUser"],[378,15,368,19],[378,16,368,20],[378,20,368,24],[378,21,368,25],[379,8,369,12,"setProfile"],[379,18,369,22],[379,19,369,23],[379,23,369,27],[379,24,369,28],[380,8,370,12],[380,14,370,18,"AsyncStorage"],[380,26,370,30],[380,27,370,30,"default"],[380,34,370,30],[380,35,370,31,"removeItem"],[380,45,370,41],[380,46,370,42,"PROFILE_CACHE_KEY"],[380,63,370,59],[380,64,370,60],[380,65,370,61],[380,66,370,62],[381,8,371,12],[381,14,371,18,"supabase"],[381,31,371,26],[381,32,371,26,"supabase"],[381,40,371,26],[381,41,371,27,"auth"],[381,45,371,31],[381,46,371,32,"signOut"],[381,53,371,39],[381,54,371,40],[381,55,371,41],[382,6,372,8],[382,7,372,9],[382,8,372,10],[382,15,372,17,"error"],[382,20,372,22],[382,22,372,24],[383,8,373,12,"console"],[383,15,373,19],[383,16,373,20,"error"],[383,21,373,25],[383,22,373,26],[383,39,373,43],[383,41,373,45,"error"],[383,46,373,50],[383,47,373,51],[384,6,374,8],[385,4,375,4],[385,5,375,5],[386,4,377,4],[386,10,377,10,"value"],[386,15,377,15],[386,18,377,18],[387,6,378,8,"session"],[387,13,378,15],[388,6,379,8,"user"],[388,10,379,12],[389,6,380,8,"profile"],[389,13,380,15],[390,6,381,8,"loading"],[390,13,381,15],[391,6,382,8,"signOut"],[391,13,382,15],[392,6,383,8,"refreshProfile"],[393,4,384,4],[393,5,384,5],[394,4,386,4],[394,24,386,11],[394,28,386,11,"_reactJsxDevRuntime"],[394,47,386,11],[394,48,386,11,"jsxDEV"],[394,54,386,11],[394,56,386,12,"AuthContext"],[394,67,386,23],[394,68,386,24,"Provider"],[394,76,386,32],[395,6,386,33,"value"],[395,11,386,38],[395,13,386,40,"value"],[395,18,386,46],[396,6,386,46,"children"],[396,14,386,46],[396,16,386,48,"children"],[397,4,386,56],[398,6,386,56,"fileName"],[398,14,386,56],[398,16,386,56,"_jsxFileName"],[398,28,386,56],[399,6,386,56,"lineNumber"],[399,16,386,56],[400,6,386,56,"columnNumber"],[400,18,386,56],[401,4,386,56],[401,11,386,79],[401,12,386,80],[402,2,387,0],[403,2,387,1,"_s"],[403,4,387,1],[403,5,34,16,"AuthProvider"],[403,17,34,28],[404,2,34,28,"_c"],[404,4,34,28],[404,7,34,16,"AuthProvider"],[404,19,34,28],[405,2,389,7],[405,11,389,16,"useAuth"],[405,18,389,23,"useAuth"],[405,19,389,23],[405,21,389,26],[406,4,389,26,"_s2"],[406,7,389,26],[407,4,390,4],[407,10,390,10,"context"],[407,17,390,17],[407,20,390,20],[407,24,390,20,"useContext"],[407,30,390,30],[407,31,390,30,"useContext"],[407,41,390,30],[407,43,390,31,"AuthContext"],[407,54,390,42],[407,55,390,43],[408,4,391,4],[408,8,391,8,"context"],[408,15,391,15],[408,20,391,20,"undefined"],[408,29,391,29],[408,31,391,31],[409,6,392,8],[409,12,392,14],[409,16,392,18,"Error"],[409,21,392,23],[409,22,392,24],[409,67,392,69],[409,68,392,70],[410,4,393,4],[411,4,394,4],[411,11,394,11,"context"],[411,18,394,18],[412,2,395,0],[413,2,395,1,"_s2"],[413,5,395,1],[413,6,389,16,"useAuth"],[413,13,389,23],[414,2,389,23],[414,6,389,23,"_c"],[414,8,389,23],[415,2,389,23,"$RefreshReg$"],[415,14,389,23],[415,15,389,23,"_c"],[415,17,389,23],[416,0,389,23],[416,3]],"functionMap":{"names":["<global>","mergeAvatarFromMetadata","AuthProvider","useEffect$argument_0","supabase.auth.onAuthStateChange$argument_0","<anonymous>","handleVisibilityChange","restoreFromCache","initializeAuth","fetchProfile","Promise$argument_0","setTimeout$argument_0","refreshProfile","signOut","useAuth"],"mappings":"AAA;gCCuB;CDQ;OEE;cCY,iCD;cCC,uCD;cCE;YC8B;aDiG;eEG,gCF;KDC;cCG;uCGK;SHc;eEG,8EF;KDC;6BKG;KLsB;2BME;KNwD;yBOG;8BJsB;yDKK;+BCC,gDD,QL;SI6B;KPI;2BUE;KVQ;oBWE;KXU;CFY;OcE;CdM"},"hasCjsExports":false},"type":"js/module"}]}