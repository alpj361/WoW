{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":86,"index":86}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"../services/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":183},"end":{"line":4,"column":70,"index":253}}],"key":"KPiafkkHXMyy0AQm6tuLQc7uw64=","exportNames":["*"],"imports":1}},{"name":"../utils/authState","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":254},"end":{"line":5,"column":47,"index":301}}],"key":"NiKTyVyV9HlvikffeNdGsZOd0CQ=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":302},"end":{"line":6,"column":69,"index":371}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/Users/pj/Desktop/Wow/frontend/src/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _servicesSupabase = require(_dependencyMap[2], \"../services/supabase\");\n  var _utilsAuthState = require(_dependencyMap[3], \"../utils/authState\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[4], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactJsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  const PROFILE_CACHE_KEY = 'user_profile_cache';\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n\n  // Module-level flag removed - using authState.isInitialized instead (survives module reloads)\n\n  // Merge avatar_url from user_metadata into a cached profile if missing or stale\n  const mergeAvatarFromMetadata = (cachedProfile, user) => {\n    if (!user || !cachedProfile) return cachedProfile;\n    const metaAvatar = user.user_metadata?.avatar_url || user.user_metadata?.picture;\n    if (metaAvatar && (!cachedProfile.avatar_url || cachedProfile.avatar_url !== metaAvatar)) {\n      console.log('ðŸ–¼ï¸ Updating avatar_url from user_metadata');\n      return {\n        ...cachedProfile,\n        avatar_url: metaAvatar\n      };\n    }\n    return cachedProfile;\n  };\n  function AuthProvider({\n    children\n  }) {\n    const [session, setSession] = (0, _react.useState)(null);\n    const [user, setUser] = (0, _react.useState)(null);\n    const [profile, setProfile] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const isInitializing = (0, _react.useRef)(false);\n    const pendingFetchPromise = (0, _react.useRef)(null);\n\n    // Refs to track state inside callbacks without re-subscribing\n    const userRef = (0, _react.useRef)(null);\n    const profileRef = (0, _react.useRef)(null);\n    (0, _react.useEffect)(() => {\n      userRef.current = user;\n    }, [user]);\n    (0, _react.useEffect)(() => {\n      profileRef.current = profile;\n    }, [profile]);\n    (0, _react.useEffect)(() => {\n      if (!(0, _servicesSupabase.isSupabaseConfigured)()) {\n        console.log('âš ï¸ Supabase not configured');\n        setLoading(false);\n        return;\n      }\n\n      // Prevent re-initialization on component remount (critical for expo-router)\n      // Using authState.isInitialized which persists across module reloads\n      if (_utilsAuthState.authState.getState().isInitialized) {\n        console.log('âš ï¸ Already initialized once, restoring from cache');\n        // Still need to restore state and set loading=false\n        restoreFromCache();\n        return;\n      }\n      _utilsAuthState.authState.setInitialized(true);\n\n      // Also set the ref for within-render safety\n      if (isInitializing.current) {\n        console.log('âš ï¸ Already initializing, skipping duplicate call');\n        // Don't return without ensuring loading is handled - restoreFromCache already called above\n        return;\n      }\n      isInitializing.current = true;\n\n      // Get initial session\n      initializeAuth();\n\n      // Listen for auth changes\n      const {\n        data: {\n          subscription\n        }\n      } = _servicesSupabase.supabase.auth.onAuthStateChange(async (event, newSession) => {\n        console.log('ðŸ” Auth state change:', event, newSession?.user?.email);\n\n        // INITIAL_SESSION is handled by initializeAuth() - skip to avoid duplicated work\n        if (event === 'INITIAL_SESSION') {\n          console.log('â­ï¸ Skipping INITIAL_SESSION (handled by initializeAuth)');\n          return;\n        }\n\n        // Check if auth-callback is processing - set session+user but skip profile fetch\n        const isProcessing = _utilsAuthState.authState.getState().isProcessing;\n        if (isProcessing && event === 'SIGNED_IN') {\n          console.log('â³ Auth callback is processing, setting session+user (skip profile fetch)');\n          setSession(newSession);\n          setUser(newSession?.user ?? null);\n          setLoading(false);\n          return;\n        }\n        if (event === 'SIGNED_IN' && newSession?.user) {\n          setSession(newSession);\n\n          // 1. Primero verificar memoria\n          if (profileRef.current && profileRef.current.id === newSession.user.id) {\n            console.log('ðŸš€ Using memory profile for SIGNED_IN');\n            const merged = mergeAvatarFromMetadata(profileRef.current, newSession.user);\n            if (merged !== profileRef.current) {\n              setProfile(merged);\n              await AsyncStorage.default.setItem(PROFILE_CACHE_KEY, JSON.stringify(merged));\n            }\n            setUser(newSession.user);\n            setLoading(false);\n            return;\n          }\n\n          // 2. Verificar AsyncStorage cache ANTES de fetch\n          const cachedStr = await AsyncStorage.default.getItem(PROFILE_CACHE_KEY);\n          if (cachedStr) {\n            try {\n              const cached = JSON.parse(cachedStr);\n              if (cached.id === newSession.user.id) {\n                console.log('ðŸ“¦ Using cached profile for SIGNED_IN');\n                const merged = mergeAvatarFromMetadata(cached, newSession.user);\n                setUser(newSession.user);\n                setProfile(merged);\n                if (merged !== cached) {\n                  await AsyncStorage.default.setItem(PROFILE_CACHE_KEY, JSON.stringify(merged));\n                }\n                setLoading(false);\n                return; // NO hacer fetch\n              }\n            } catch (e) {/* continue to fetch */}\n          }\n\n          // 3. Solo si no hay cache, hacer fetch\n          const profileData = await fetchProfile(newSession.user.id);\n          if (profileData) {\n            console.log('âœ… Profile found in onAuthStateChange');\n            setUser(newSession.user);\n            setProfile(profileData);\n            // Reset authState now that user is fully authenticated\n            _utilsAuthState.authState.reset();\n          } else {\n            // Si no hay datos en ningÃºn lado\n            console.log('âŒ No profile in onAuthStateChange (and no cache), user not set');\n            setUser(null);\n            setProfile(null);\n            _utilsAuthState.authState.reset();\n          }\n          setLoading(false);\n        } else if (event === 'SIGNED_OUT') {\n          console.log('ðŸšª SIGNED_OUT event received');\n          _utilsAuthState.authState.reset();\n          setSession(null);\n          setUser(null);\n          setProfile(null);\n          setLoading(false);\n        } else if (event === 'TOKEN_REFRESHED' && newSession?.user) {\n          // Token refresh - always re-fetch profile to ensure consistency\n          console.log('ðŸ”„ Token refreshed, re-validating profile');\n          setSession(newSession);\n          const profileData = await fetchProfile(newSession.user.id);\n          if (profileData) {\n            setUser(newSession.user);\n            setProfile(profileData);\n          } else {\n            // FIX: On token refresh, if profile fetch fails (timeout), \n            // ABSOLUTELY DO NOT SIGN OUT if we already have data.\n            if (userRef.current && profileRef.current && userRef.current.id === newSession.user.id) {\n              console.warn('âš ï¸ Profile fetch failed on refresh, keeping existing session');\n            } else {\n              console.warn('âš ï¸ Profile lost after token refresh, signing out');\n              signOut();\n            }\n          }\n        }\n      });\n      return () => subscription.unsubscribe();\n    }, []);\n\n    // Auto-recovery: Re-validate session when user returns to the page (web only)\n    (0, _react.useEffect)(() => {\n      // Only run on web platform\n      if (Platform.default.OS !== 'web') return;\n      if (true || typeof document === 'undefined') return;\n      const handleVisibilityChange = async () => {\n        if (document.visibilityState === 'visible' && session) {\n          console.log('ðŸ‘ï¸ Page visible, checking session validity');\n          try {\n            const {\n              error\n            } = await _servicesSupabase.supabase.auth.getSession();\n            if (error) {\n              console.warn('âš ï¸ Session invalid, signing out');\n              signOut();\n            }\n            // NO re-fetch profile - usar datos existentes en memoria\n          } catch (error) {\n            console.error('Error checking session:', error);\n          }\n        }\n      };\n      document.addEventListener('visibilitychange', handleVisibilityChange);\n      return () => document.removeEventListener('visibilitychange', handleVisibilityChange);\n    }, [session]);\n\n    // Quick restore from cache when already initialized (prevents loading stuck)\n    const restoreFromCache = async () => {\n      try {\n        const cachedProfileStr = await AsyncStorage.default.getItem(PROFILE_CACHE_KEY);\n        if (cachedProfileStr) {\n          const cachedProfile = JSON.parse(cachedProfileStr);\n          const {\n            data: {\n              session: currentSession\n            }\n          } = await _servicesSupabase.supabase.auth.getSession();\n          if (currentSession?.user && cachedProfile.id === currentSession.user.id) {\n            console.log('ðŸ”„ Restored from cache after re-mount');\n            const merged = mergeAvatarFromMetadata(cachedProfile, currentSession.user);\n            setSession(currentSession);\n            setUser(currentSession.user);\n            setProfile(merged);\n            if (merged !== cachedProfile) {\n              await AsyncStorage.default.setItem(PROFILE_CACHE_KEY, JSON.stringify(merged));\n            }\n          }\n        }\n      } catch (e) {\n        console.error('Error restoring from cache:', e);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const initializeAuth = async () => {\n      try {\n        // Step 1: Try to load from cache first for instant UI\n        const cachedProfileStr = await AsyncStorage.default.getItem(PROFILE_CACHE_KEY);\n        let cachedProfile = null;\n        if (cachedProfileStr) {\n          try {\n            cachedProfile = JSON.parse(cachedProfileStr);\n            console.log('ðŸ“¦ Loaded cached profile:', cachedProfile.email);\n          } catch (e) {\n            console.error('Failed to parse cached profile', e);\n          }\n        }\n        const {\n          data: {\n            session\n          }\n        } = await _servicesSupabase.supabase.auth.getSession();\n        console.log('ðŸ” Initial session:', session?.user?.email);\n        if (session?.user) {\n          setSession(session);\n\n          // If we have a cached profile and it matches the current user, use it immediately\n          // and DO NOT fetch - the cache is sufficient for loading the app\n          if (cachedProfile && cachedProfile.id === session.user.id) {\n            console.log('ðŸš€ Using cached profile for instant load');\n            const merged = mergeAvatarFromMetadata(cachedProfile, session.user);\n            setUser(session.user);\n            setProfile(merged);\n            if (merged !== cachedProfile) {\n              await AsyncStorage.default.setItem(PROFILE_CACHE_KEY, JSON.stringify(merged));\n            }\n            _utilsAuthState.authState.reset(); // Clean state after successful load\n            setLoading(false);\n            return; // NO fetch - cache is sufficient\n          }\n\n          // Solo fetch si NO hay cache vÃ¡lido\n          const profileData = await fetchProfile(session.user.id);\n          if (profileData) {\n            setUser(session.user);\n            setProfile(profileData);\n            _utilsAuthState.authState.reset(); // Clean state after successful load\n          } else {\n            // No cache AND fetch failed - treat as no profile\n            console.log('âŒ No profile on init (and no cache)');\n            setUser(null);\n            _utilsAuthState.authState.reset();\n          }\n        }\n      } catch (error) {\n        // Ignore abort errors which happen on hot reload or fast navigation\n        if (error.name !== 'AbortError' && !error?.message?.includes('aborted')) {\n          console.error('Init auth error:', error);\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    // Fetch profile with Promise-based deduplication\n    const fetchProfile = async (userId, options) => {\n      // Si ya hay un fetch en progreso, esperar ese resultado\n      if (pendingFetchPromise.current) {\n        console.log('â³ Waiting for existing fetch to complete');\n        return pendingFetchPromise.current;\n      }\n\n      // OpciÃ³n para skip si hay cache vÃ¡lido\n      if (options?.skipIfCached) {\n        const cachedStr = await AsyncStorage.default.getItem(PROFILE_CACHE_KEY);\n        if (cachedStr) {\n          try {\n            const cached = JSON.parse(cachedStr);\n            if (cached.id === userId) {\n              console.log('ðŸ“¦ Using cached profile, skipping fetch');\n              return cached;\n            }\n          } catch (e) {/* ignore */}\n        }\n      }\n\n      // Crear la promesa y guardarla\n      const fetchPromise = (async () => {\n        try {\n          console.log(`ðŸ” Fetching profile for: ${userId}`);\n\n          // Timeout de 10s (tenemos cache como fallback)\n          const timeoutPromise = new Promise((_, reject) => setTimeout(() => reject(new Error('Profile fetch timeout')), 10000));\n          const {\n            data,\n            error\n          } = await Promise.race([_servicesSupabase.supabase.from('profiles').select('*').eq('id', userId).single(), timeoutPromise]);\n          if (error) {\n            if (error.code === 'PGRST116') {\n              console.log('âŒ No profile found (user not registered)');\n              return null;\n            }\n            console.warn('âš ï¸ Profile fetch error:', error.message);\n            return null;\n          }\n          if (data) {\n            console.log('âœ… Profile found:', data.email);\n            await AsyncStorage.default.setItem(PROFILE_CACHE_KEY, JSON.stringify(data));\n            return data;\n          }\n          return null;\n        } catch (error) {\n          console.error('âŒ Profile fetch exception:', error.message);\n          return null;\n        } finally {\n          pendingFetchPromise.current = null;\n        }\n      })();\n      pendingFetchPromise.current = fetchPromise;\n      return fetchPromise;\n    };\n    const refreshProfile = async () => {\n      if (session?.user) {\n        const profileData = await fetchProfile(session.user.id);\n        if (profileData) {\n          setProfile(profileData);\n          setUser(session.user);\n        }\n      }\n    };\n    const signOut = async () => {\n      try {\n        setSession(null);\n        setUser(null);\n        setProfile(null);\n        await AsyncStorage.default.removeItem(PROFILE_CACHE_KEY); // Clear cache on logout\n        await _servicesSupabase.supabase.auth.signOut();\n      } catch (error) {\n        console.error('Sign out error:', error);\n      }\n    };\n    const value = {\n      session,\n      user,\n      profile,\n      loading,\n      signOut,\n      refreshProfile\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 12\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":407,"map":[[13,2,34,0,"exports"],[13,9,34,0],[13,10,34,0,"AuthProvider"],[13,22,34,0],[13,25,34,0,"AuthProvider"],[13,37,34,0],[14,2,389,0,"exports"],[14,9,389,0],[14,10,389,0,"useAuth"],[14,17,389,0],[14,20,389,0,"useAuth"],[14,27,389,0],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,1,86],[16,6,1,86,"_reactNativeWebDistExportsPlatform"],[16,40,1,86],[16,43,1,86,"require"],[16,50,1,86],[16,51,1,86,"_dependencyMap"],[16,65,1,86],[17,2,1,86],[17,6,1,86,"Platform"],[17,14,1,86],[17,17,1,86,"_interopDefault"],[17,32,1,86],[17,33,1,86,"_reactNativeWebDistExportsPlatform"],[17,67,1,86],[18,2,4,0],[18,6,4,0,"_servicesSupabase"],[18,23,4,0],[18,26,4,0,"require"],[18,33,4,0],[18,34,4,0,"_dependencyMap"],[18,48,4,0],[19,2,5,0],[19,6,5,0,"_utilsAuthState"],[19,21,5,0],[19,24,5,0,"require"],[19,31,5,0],[19,32,5,0,"_dependencyMap"],[19,46,5,0],[20,2,6,0],[20,6,6,0,"_reactNativeAsyncStorageAsyncStorage"],[20,42,6,0],[20,45,6,0,"require"],[20,52,6,0],[20,53,6,0,"_dependencyMap"],[20,67,6,0],[21,2,6,0],[21,6,6,0,"AsyncStorage"],[21,18,6,0],[21,21,6,0,"_interopDefault"],[21,36,6,0],[21,37,6,0,"_reactNativeAsyncStorageAsyncStorage"],[21,73,6,0],[22,2,6,69],[22,6,6,69,"_reactJsxDevRuntime"],[22,25,6,69],[22,28,6,69,"require"],[22,35,6,69],[22,36,6,69,"_dependencyMap"],[22,50,6,69],[23,2,8,0],[23,8,8,6,"PROFILE_CACHE_KEY"],[23,25,8,23],[23,28,8,26],[23,48,8,46],[24,2,19,0],[24,8,19,6,"AuthContext"],[24,19,19,17],[24,35,19,20],[24,39,19,20,"createContext"],[24,45,19,33],[24,46,19,33,"createContext"],[24,59,19,33],[24,61,19,63,"undefined"],[24,70,19,72],[24,71,19,73],[26,2,21,0],[28,2,23,0],[29,2,24,0],[29,8,24,6,"mergeAvatarFromMetadata"],[29,31,24,29],[29,34,24,32,"mergeAvatarFromMetadata"],[29,35,24,33,"cachedProfile"],[29,48,24,51],[29,50,24,53,"user"],[29,54,24,70],[29,59,24,80],[30,4,25,4],[30,8,25,8],[30,9,25,9,"user"],[30,13,25,13],[30,17,25,17],[30,18,25,18,"cachedProfile"],[30,31,25,31],[30,33,25,33],[30,40,25,40,"cachedProfile"],[30,53,25,53],[31,4,26,4],[31,10,26,10,"metaAvatar"],[31,20,26,20],[31,23,26,23,"user"],[31,27,26,27],[31,28,26,28,"user_metadata"],[31,41,26,41],[31,43,26,43,"avatar_url"],[31,53,26,53],[31,57,26,57,"user"],[31,61,26,61],[31,62,26,62,"user_metadata"],[31,75,26,75],[31,77,26,77,"picture"],[31,84,26,84],[32,4,27,4],[32,8,27,8,"metaAvatar"],[32,18,27,18],[32,23,27,23],[32,24,27,24,"cachedProfile"],[32,37,27,37],[32,38,27,38,"avatar_url"],[32,48,27,48],[32,52,27,52,"cachedProfile"],[32,65,27,65],[32,66,27,66,"avatar_url"],[32,76,27,76],[32,81,27,81,"metaAvatar"],[32,91,27,91],[32,92,27,92],[32,94,27,94],[33,6,28,8,"console"],[33,13,28,15],[33,14,28,16,"log"],[33,17,28,19],[33,18,28,20],[33,62,28,64],[33,63,28,65],[34,6,29,8],[34,13,29,15],[35,8,29,17],[35,11,29,20,"cachedProfile"],[35,24,29,33],[36,8,29,35,"avatar_url"],[36,18,29,45],[36,20,29,47,"metaAvatar"],[37,6,29,58],[37,7,29,59],[38,4,30,4],[39,4,31,4],[39,11,31,11,"cachedProfile"],[39,24,31,24],[40,2,32,0],[40,3,32,1],[41,2,34,7],[41,11,34,16,"AuthProvider"],[41,23,34,28,"AuthProvider"],[41,24,34,29],[42,4,34,31,"children"],[43,2,34,71],[43,3,34,72],[43,5,34,74],[44,4,35,4],[44,10,35,10],[44,11,35,11,"session"],[44,18,35,18],[44,20,35,20,"setSession"],[44,30,35,30],[44,31,35,31],[44,34,35,34],[44,38,35,34,"useState"],[44,44,35,42],[44,45,35,42,"useState"],[44,53,35,42],[44,55,35,59],[44,59,35,63],[44,60,35,64],[45,4,36,4],[45,10,36,10],[45,11,36,11,"user"],[45,15,36,15],[45,17,36,17,"setUser"],[45,24,36,24],[45,25,36,25],[45,28,36,28],[45,32,36,28,"useState"],[45,38,36,36],[45,39,36,36,"useState"],[45,47,36,36],[45,49,36,50],[45,53,36,54],[45,54,36,55],[46,4,37,4],[46,10,37,10],[46,11,37,11,"profile"],[46,18,37,18],[46,20,37,20,"setProfile"],[46,30,37,30],[46,31,37,31],[46,34,37,34],[46,38,37,34,"useState"],[46,44,37,42],[46,45,37,42,"useState"],[46,53,37,42],[46,55,37,55],[46,59,37,59],[46,60,37,60],[47,4,38,4],[47,10,38,10],[47,11,38,11,"loading"],[47,18,38,18],[47,20,38,20,"setLoading"],[47,30,38,30],[47,31,38,31],[47,34,38,34],[47,38,38,34,"useState"],[47,44,38,42],[47,45,38,42,"useState"],[47,53,38,42],[47,55,38,43],[47,59,38,47],[47,60,38,48],[48,4,39,4],[48,10,39,10,"isInitializing"],[48,24,39,24],[48,27,39,27],[48,31,39,27,"useRef"],[48,37,39,33],[48,38,39,33,"useRef"],[48,44,39,33],[48,46,39,34],[48,51,39,39],[48,52,39,40],[49,4,40,4],[49,10,40,10,"pendingFetchPromise"],[49,29,40,29],[49,32,40,32],[49,36,40,32,"useRef"],[49,42,40,38],[49,43,40,38,"useRef"],[49,49,40,38],[49,51,40,67],[49,55,40,71],[49,56,40,72],[51,4,42,4],[52,4,43,4],[52,10,43,10,"userRef"],[52,17,43,17],[52,20,43,20],[52,24,43,20,"useRef"],[52,30,43,26],[52,31,43,26,"useRef"],[52,37,43,26],[52,39,43,40],[52,43,43,44],[52,44,43,45],[53,4,44,4],[53,10,44,10,"profileRef"],[53,20,44,20],[53,23,44,23],[53,27,44,23,"useRef"],[53,33,44,29],[53,34,44,29,"useRef"],[53,40,44,29],[53,42,44,42],[53,46,44,46],[53,47,44,47],[54,4,46,4],[54,8,46,4,"useEffect"],[54,14,46,13],[54,15,46,13,"useEffect"],[54,24,46,13],[54,26,46,14],[54,32,46,20],[55,6,46,22,"userRef"],[55,13,46,29],[55,14,46,30,"current"],[55,21,46,37],[55,24,46,40,"user"],[55,28,46,44],[56,4,46,46],[56,5,46,47],[56,7,46,49],[56,8,46,50,"user"],[56,12,46,54],[56,13,46,55],[56,14,46,56],[57,4,47,4],[57,8,47,4,"useEffect"],[57,14,47,13],[57,15,47,13,"useEffect"],[57,24,47,13],[57,26,47,14],[57,32,47,20],[58,6,47,22,"profileRef"],[58,16,47,32],[58,17,47,33,"current"],[58,24,47,40],[58,27,47,43,"profile"],[58,34,47,50],[59,4,47,52],[59,5,47,53],[59,7,47,55],[59,8,47,56,"profile"],[59,15,47,63],[59,16,47,64],[59,17,47,65],[60,4,49,4],[60,8,49,4,"useEffect"],[60,14,49,13],[60,15,49,13,"useEffect"],[60,24,49,13],[60,26,49,14],[60,32,49,20],[61,6,50,8],[61,10,50,12],[61,11,50,13],[61,15,50,13,"isSupabaseConfigured"],[61,32,50,33],[61,33,50,33,"isSupabaseConfigured"],[61,53,50,33],[61,55,50,34],[61,56,50,35],[61,58,50,37],[62,8,51,12,"console"],[62,15,51,19],[62,16,51,20,"log"],[62,19,51,23],[62,20,51,24],[62,48,51,52],[62,49,51,53],[63,8,52,12,"setLoading"],[63,18,52,22],[63,19,52,23],[63,24,52,28],[63,25,52,29],[64,8,53,12],[65,6,54,8],[67,6,56,8],[68,6,57,8],[69,6,58,8],[69,10,58,12,"authState"],[69,25,58,21],[69,26,58,21,"authState"],[69,35,58,21],[69,36,58,22,"getState"],[69,44,58,30],[69,45,58,31],[69,46,58,32],[69,47,58,33,"isInitialized"],[69,60,58,46],[69,62,58,48],[70,8,59,12,"console"],[70,15,59,19],[70,16,59,20,"log"],[70,19,59,23],[70,20,59,24],[70,71,59,75],[70,72,59,76],[71,8,60,12],[72,8,61,12,"restoreFromCache"],[72,24,61,28],[72,25,61,29],[72,26,61,30],[73,8,62,12],[74,6,63,8],[75,6,64,8,"authState"],[75,21,64,17],[75,22,64,17,"authState"],[75,31,64,17],[75,32,64,18,"setInitialized"],[75,46,64,32],[75,47,64,33],[75,51,64,37],[75,52,64,38],[77,6,66,8],[78,6,67,8],[78,10,67,12,"isInitializing"],[78,24,67,26],[78,25,67,27,"current"],[78,32,67,34],[78,34,67,36],[79,8,68,12,"console"],[79,15,68,19],[79,16,68,20,"log"],[79,19,68,23],[79,20,68,24],[79,70,68,74],[79,71,68,75],[80,8,69,12],[81,8,70,12],[82,6,71,8],[83,6,72,8,"isInitializing"],[83,20,72,22],[83,21,72,23,"current"],[83,28,72,30],[83,31,72,33],[83,35,72,37],[85,6,74,8],[86,6,75,8,"initializeAuth"],[86,20,75,22],[86,21,75,23],[86,22,75,24],[88,6,77,8],[89,6,78,8],[89,12,78,14],[90,8,78,16,"data"],[90,12,78,20],[90,14,78,22],[91,10,78,24,"subscription"],[92,8,78,37],[93,6,78,39],[93,7,78,40],[93,10,78,43,"supabase"],[93,27,78,51],[93,28,78,51,"supabase"],[93,36,78,51],[93,37,78,52,"auth"],[93,41,78,56],[93,42,78,57,"onAuthStateChange"],[93,59,78,74],[93,60,79,12],[93,67,79,19,"event"],[93,72,79,24],[93,74,79,26,"newSession"],[93,84,79,36],[93,89,79,41],[94,8,80,16,"console"],[94,15,80,23],[94,16,80,24,"log"],[94,19,80,27],[94,20,80,28],[94,43,80,51],[94,45,80,53,"event"],[94,50,80,58],[94,52,80,60,"newSession"],[94,62,80,70],[94,64,80,72,"user"],[94,68,80,76],[94,70,80,78,"email"],[94,75,80,83],[94,76,80,84],[96,8,82,16],[97,8,83,16],[97,12,83,20,"event"],[97,17,83,25],[97,22,83,30],[97,39,83,47],[97,41,83,49],[98,10,84,20,"console"],[98,17,84,27],[98,18,84,28,"log"],[98,21,84,31],[98,22,84,32],[98,79,84,89],[98,80,84,90],[99,10,85,20],[100,8,86,16],[102,8,88,16],[103,8,89,16],[103,14,89,22,"isProcessing"],[103,26,89,34],[103,29,89,37,"authState"],[103,44,89,46],[103,45,89,46,"authState"],[103,54,89,46],[103,55,89,47,"getState"],[103,63,89,55],[103,64,89,56],[103,65,89,57],[103,66,89,58,"isProcessing"],[103,78,89,70],[104,8,90,16],[104,12,90,20,"isProcessing"],[104,24,90,32],[104,28,90,36,"event"],[104,33,90,41],[104,38,90,46],[104,49,90,57],[104,51,90,59],[105,10,91,20,"console"],[105,17,91,27],[105,18,91,28,"log"],[105,21,91,31],[105,22,91,32],[105,96,91,106],[105,97,91,107],[106,10,92,20,"setSession"],[106,20,92,30],[106,21,92,31,"newSession"],[106,31,92,41],[106,32,92,42],[107,10,93,20,"setUser"],[107,17,93,27],[107,18,93,28,"newSession"],[107,28,93,38],[107,30,93,40,"user"],[107,34,93,44],[107,38,93,48],[107,42,93,52],[107,43,93,53],[108,10,94,20,"setLoading"],[108,20,94,30],[108,21,94,31],[108,26,94,36],[108,27,94,37],[109,10,95,20],[110,8,96,16],[111,8,98,16],[111,12,98,20,"event"],[111,17,98,25],[111,22,98,30],[111,33,98,41],[111,37,98,45,"newSession"],[111,47,98,55],[111,49,98,57,"user"],[111,53,98,61],[111,55,98,63],[112,10,99,20,"setSession"],[112,20,99,30],[112,21,99,31,"newSession"],[112,31,99,41],[112,32,99,42],[114,10,101,20],[115,10,102,20],[115,14,102,24,"profileRef"],[115,24,102,34],[115,25,102,35,"current"],[115,32,102,42],[115,36,102,46,"profileRef"],[115,46,102,56],[115,47,102,57,"current"],[115,54,102,64],[115,55,102,65,"id"],[115,57,102,67],[115,62,102,72,"newSession"],[115,72,102,82],[115,73,102,83,"user"],[115,77,102,87],[115,78,102,88,"id"],[115,80,102,90],[115,82,102,92],[116,12,103,24,"console"],[116,19,103,31],[116,20,103,32,"log"],[116,23,103,35],[116,24,103,36],[116,63,103,75],[116,64,103,76],[117,12,104,24],[117,18,104,30,"merged"],[117,24,104,36],[117,27,104,39,"mergeAvatarFromMetadata"],[117,50,104,62],[117,51,104,63,"profileRef"],[117,61,104,73],[117,62,104,74,"current"],[117,69,104,81],[117,71,104,83,"newSession"],[117,81,104,93],[117,82,104,94,"user"],[117,86,104,98],[117,87,104,99],[118,12,105,24],[118,16,105,28,"merged"],[118,22,105,34],[118,27,105,39,"profileRef"],[118,37,105,49],[118,38,105,50,"current"],[118,45,105,57],[118,47,105,59],[119,14,106,28,"setProfile"],[119,24,106,38],[119,25,106,39,"merged"],[119,31,106,45],[119,32,106,46],[120,14,107,28],[120,20,107,34,"AsyncStorage"],[120,32,107,46],[120,33,107,46,"default"],[120,40,107,46],[120,41,107,47,"setItem"],[120,48,107,54],[120,49,107,55,"PROFILE_CACHE_KEY"],[120,66,107,72],[120,68,107,74,"JSON"],[120,72,107,78],[120,73,107,79,"stringify"],[120,82,107,88],[120,83,107,89,"merged"],[120,89,107,95],[120,90,107,96],[120,91,107,97],[121,12,108,24],[122,12,109,24,"setUser"],[122,19,109,31],[122,20,109,32,"newSession"],[122,30,109,42],[122,31,109,43,"user"],[122,35,109,47],[122,36,109,48],[123,12,110,24,"setLoading"],[123,22,110,34],[123,23,110,35],[123,28,110,40],[123,29,110,41],[124,12,111,24],[125,10,112,20],[127,10,114,20],[128,10,115,20],[128,16,115,26,"cachedStr"],[128,25,115,35],[128,28,115,38],[128,34,115,44,"AsyncStorage"],[128,46,115,56],[128,47,115,56,"default"],[128,54,115,56],[128,55,115,57,"getItem"],[128,62,115,64],[128,63,115,65,"PROFILE_CACHE_KEY"],[128,80,115,82],[128,81,115,83],[129,10,116,20],[129,14,116,24,"cachedStr"],[129,23,116,33],[129,25,116,35],[130,12,117,24],[130,16,117,28],[131,14,118,28],[131,20,118,34,"cached"],[131,26,118,40],[131,29,118,43,"JSON"],[131,33,118,47],[131,34,118,48,"parse"],[131,39,118,53],[131,40,118,54,"cachedStr"],[131,49,118,63],[131,50,118,64],[132,14,119,28],[132,18,119,32,"cached"],[132,24,119,38],[132,25,119,39,"id"],[132,27,119,41],[132,32,119,46,"newSession"],[132,42,119,56],[132,43,119,57,"user"],[132,47,119,61],[132,48,119,62,"id"],[132,50,119,64],[132,52,119,66],[133,16,120,32,"console"],[133,23,120,39],[133,24,120,40,"log"],[133,27,120,43],[133,28,120,44],[133,67,120,83],[133,68,120,84],[134,16,121,32],[134,22,121,38,"merged"],[134,28,121,44],[134,31,121,47,"mergeAvatarFromMetadata"],[134,54,121,70],[134,55,121,71,"cached"],[134,61,121,77],[134,63,121,79,"newSession"],[134,73,121,89],[134,74,121,90,"user"],[134,78,121,94],[134,79,121,95],[135,16,122,32,"setUser"],[135,23,122,39],[135,24,122,40,"newSession"],[135,34,122,50],[135,35,122,51,"user"],[135,39,122,55],[135,40,122,56],[136,16,123,32,"setProfile"],[136,26,123,42],[136,27,123,43,"merged"],[136,33,123,49],[136,34,123,50],[137,16,124,32],[137,20,124,36,"merged"],[137,26,124,42],[137,31,124,47,"cached"],[137,37,124,53],[137,39,124,55],[138,18,125,36],[138,24,125,42,"AsyncStorage"],[138,36,125,54],[138,37,125,54,"default"],[138,44,125,54],[138,45,125,55,"setItem"],[138,52,125,62],[138,53,125,63,"PROFILE_CACHE_KEY"],[138,70,125,80],[138,72,125,82,"JSON"],[138,76,125,86],[138,77,125,87,"stringify"],[138,86,125,96],[138,87,125,97,"merged"],[138,93,125,103],[138,94,125,104],[138,95,125,105],[139,16,126,32],[140,16,127,32,"setLoading"],[140,26,127,42],[140,27,127,43],[140,32,127,48],[140,33,127,49],[141,16,128,32],[141,23,128,39],[141,24,128,40],[142,14,129,28],[143,12,130,24],[143,13,130,25],[143,14,130,26],[143,21,130,33,"e"],[143,22,130,34],[143,24,130,36],[143,25,130,38],[144,10,131,20],[146,10,133,20],[147,10,134,20],[147,16,134,26,"profileData"],[147,27,134,37],[147,30,134,40],[147,36,134,46,"fetchProfile"],[147,48,134,58],[147,49,134,59,"newSession"],[147,59,134,69],[147,60,134,70,"user"],[147,64,134,74],[147,65,134,75,"id"],[147,67,134,77],[147,68,134,78],[148,10,135,20],[148,14,135,24,"profileData"],[148,25,135,35],[148,27,135,37],[149,12,136,24,"console"],[149,19,136,31],[149,20,136,32,"log"],[149,23,136,35],[149,24,136,36],[149,62,136,74],[149,63,136,75],[150,12,137,24,"setUser"],[150,19,137,31],[150,20,137,32,"newSession"],[150,30,137,42],[150,31,137,43,"user"],[150,35,137,47],[150,36,137,48],[151,12,138,24,"setProfile"],[151,22,138,34],[151,23,138,35,"profileData"],[151,34,138,46],[151,35,138,47],[152,12,139,24],[153,12,140,24,"authState"],[153,27,140,33],[153,28,140,33,"authState"],[153,37,140,33],[153,38,140,34,"reset"],[153,43,140,39],[153,44,140,40],[153,45,140,41],[154,10,141,20],[154,11,141,21],[154,17,141,27],[155,12,142,24],[156,12,143,24,"console"],[156,19,143,31],[156,20,143,32,"log"],[156,23,143,35],[156,24,143,36],[156,88,143,100],[156,89,143,101],[157,12,144,24,"setUser"],[157,19,144,31],[157,20,144,32],[157,24,144,36],[157,25,144,37],[158,12,145,24,"setProfile"],[158,22,145,34],[158,23,145,35],[158,27,145,39],[158,28,145,40],[159,12,146,24,"authState"],[159,27,146,33],[159,28,146,33,"authState"],[159,37,146,33],[159,38,146,34,"reset"],[159,43,146,39],[159,44,146,40],[159,45,146,41],[160,10,147,20],[161,10,149,20,"setLoading"],[161,20,149,30],[161,21,149,31],[161,26,149,36],[161,27,149,37],[162,8,150,16],[162,9,150,17],[162,15,150,23],[162,19,150,27,"event"],[162,24,150,32],[162,29,150,37],[162,41,150,49],[162,43,150,51],[163,10,151,20,"console"],[163,17,151,27],[163,18,151,28,"log"],[163,21,151,31],[163,22,151,32],[163,52,151,62],[163,53,151,63],[164,10,152,20,"authState"],[164,25,152,29],[164,26,152,29,"authState"],[164,35,152,29],[164,36,152,30,"reset"],[164,41,152,35],[164,42,152,36],[164,43,152,37],[165,10,153,20,"setSession"],[165,20,153,30],[165,21,153,31],[165,25,153,35],[165,26,153,36],[166,10,154,20,"setUser"],[166,17,154,27],[166,18,154,28],[166,22,154,32],[166,23,154,33],[167,10,155,20,"setProfile"],[167,20,155,30],[167,21,155,31],[167,25,155,35],[167,26,155,36],[168,10,156,20,"setLoading"],[168,20,156,30],[168,21,156,31],[168,26,156,36],[168,27,156,37],[169,8,157,16],[169,9,157,17],[169,15,157,23],[169,19,157,27,"event"],[169,24,157,32],[169,29,157,37],[169,46,157,54],[169,50,157,58,"newSession"],[169,60,157,68],[169,62,157,70,"user"],[169,66,157,74],[169,68,157,76],[170,10,158,20],[171,10,159,20,"console"],[171,17,159,27],[171,18,159,28,"log"],[171,21,159,31],[171,22,159,32],[171,65,159,75],[171,66,159,76],[172,10,160,20,"setSession"],[172,20,160,30],[172,21,160,31,"newSession"],[172,31,160,41],[172,32,160,42],[173,10,161,20],[173,16,161,26,"profileData"],[173,27,161,37],[173,30,161,40],[173,36,161,46,"fetchProfile"],[173,48,161,58],[173,49,161,59,"newSession"],[173,59,161,69],[173,60,161,70,"user"],[173,64,161,74],[173,65,161,75,"id"],[173,67,161,77],[173,68,161,78],[174,10,162,20],[174,14,162,24,"profileData"],[174,25,162,35],[174,27,162,37],[175,12,163,24,"setUser"],[175,19,163,31],[175,20,163,32,"newSession"],[175,30,163,42],[175,31,163,43,"user"],[175,35,163,47],[175,36,163,48],[176,12,164,24,"setProfile"],[176,22,164,34],[176,23,164,35,"profileData"],[176,34,164,46],[176,35,164,47],[177,10,165,20],[177,11,165,21],[177,17,165,27],[178,12,166,24],[179,12,167,24],[180,12,168,24],[180,16,168,28,"userRef"],[180,23,168,35],[180,24,168,36,"current"],[180,31,168,43],[180,35,168,47,"profileRef"],[180,45,168,57],[180,46,168,58,"current"],[180,53,168,65],[180,57,168,69,"userRef"],[180,64,168,76],[180,65,168,77,"current"],[180,72,168,84],[180,73,168,85,"id"],[180,75,168,87],[180,80,168,92,"newSession"],[180,90,168,102],[180,91,168,103,"user"],[180,95,168,107],[180,96,168,108,"id"],[180,98,168,110],[180,100,168,112],[181,14,169,28,"console"],[181,21,169,35],[181,22,169,36,"warn"],[181,26,169,40],[181,27,169,41],[181,89,169,103],[181,90,169,104],[182,12,170,24],[182,13,170,25],[182,19,170,31],[183,14,171,28,"console"],[183,21,171,35],[183,22,171,36,"warn"],[183,26,171,40],[183,27,171,41],[183,77,171,91],[183,78,171,92],[184,14,172,28,"signOut"],[184,21,172,35],[184,22,172,36],[184,23,172,37],[185,12,173,24],[186,10,174,20],[187,8,175,16],[188,6,176,12],[188,7,177,8],[188,8,177,9],[189,6,179,8],[189,13,179,15],[189,19,179,21,"subscription"],[189,31,179,33],[189,32,179,34,"unsubscribe"],[189,43,179,45],[189,44,179,46],[189,45,179,47],[190,4,180,4],[190,5,180,5],[190,7,180,7],[190,9,180,9],[190,10,180,10],[192,4,182,4],[193,4,183,4],[193,8,183,4,"useEffect"],[193,14,183,13],[193,15,183,13,"useEffect"],[193,24,183,13],[193,26,183,14],[193,32,183,20],[194,6,184,8],[195,6,185,8],[195,10,185,12,"Platform"],[195,18,185,20],[195,19,185,20,"default"],[195,26,185,20],[195,27,185,21,"OS"],[195,29,185,23],[195,34,185,28],[195,39,185,33],[195,41,185,35],[196,6,186,8],[196,10,186,12],[196,18,186,45],[196,25,186,52,"document"],[196,33,186,60],[196,38,186,65],[196,49,186,76],[196,51,186,78],[197,6,188,8],[197,12,188,14,"handleVisibilityChange"],[197,34,188,36],[197,37,188,39],[197,43,188,39,"handleVisibilityChange"],[197,44,188,39],[197,49,188,51],[198,8,189,12],[198,12,189,16,"document"],[198,20,189,24],[198,21,189,25,"visibilityState"],[198,36,189,40],[198,41,189,45],[198,50,189,54],[198,54,189,58,"session"],[198,61,189,65],[198,63,189,67],[199,10,190,16,"console"],[199,17,190,23],[199,18,190,24,"log"],[199,21,190,27],[199,22,190,28],[199,67,190,73],[199,68,190,74],[200,10,191,16],[200,14,191,20],[201,12,192,20],[201,18,192,26],[202,14,192,28,"error"],[203,12,192,34],[203,13,192,35],[203,16,192,38],[203,22,192,44,"supabase"],[203,39,192,52],[203,40,192,52,"supabase"],[203,48,192,52],[203,49,192,53,"auth"],[203,53,192,57],[203,54,192,58,"getSession"],[203,64,192,68],[203,65,192,69],[203,66,192,70],[204,12,193,20],[204,16,193,24,"error"],[204,21,193,29],[204,23,193,31],[205,14,194,24,"console"],[205,21,194,31],[205,22,194,32,"warn"],[205,26,194,36],[205,27,194,37],[205,60,194,70],[205,61,194,71],[206,14,195,24,"signOut"],[206,21,195,31],[206,22,195,32],[206,23,195,33],[207,12,196,20],[208,12,197,20],[209,10,198,16],[209,11,198,17],[209,12,198,18],[209,19,198,25,"error"],[209,24,198,30],[209,26,198,32],[210,12,199,20,"console"],[210,19,199,27],[210,20,199,28,"error"],[210,25,199,33],[210,26,199,34],[210,51,199,59],[210,53,199,61,"error"],[210,58,199,66],[210,59,199,67],[211,10,200,16],[212,8,201,12],[213,6,202,8],[213,7,202,9],[214,6,204,8,"document"],[214,14,204,16],[214,15,204,17,"addEventListener"],[214,31,204,33],[214,32,204,34],[214,50,204,52],[214,52,204,54,"handleVisibilityChange"],[214,74,204,76],[214,75,204,77],[215,6,205,8],[215,13,205,15],[215,19,205,21,"document"],[215,27,205,29],[215,28,205,30,"removeEventListener"],[215,47,205,49],[215,48,205,50],[215,66,205,68],[215,68,205,70,"handleVisibilityChange"],[215,90,205,92],[215,91,205,93],[216,4,206,4],[216,5,206,5],[216,7,206,7],[216,8,206,8,"session"],[216,15,206,15],[216,16,206,16],[216,17,206,17],[218,4,208,4],[219,4,209,4],[219,10,209,10,"restoreFromCache"],[219,26,209,26],[219,29,209,29],[219,35,209,29,"restoreFromCache"],[219,36,209,29],[219,41,209,41],[220,6,210,8],[220,10,210,12],[221,8,211,12],[221,14,211,18,"cachedProfileStr"],[221,30,211,34],[221,33,211,37],[221,39,211,43,"AsyncStorage"],[221,51,211,55],[221,52,211,55,"default"],[221,59,211,55],[221,60,211,56,"getItem"],[221,67,211,63],[221,68,211,64,"PROFILE_CACHE_KEY"],[221,85,211,81],[221,86,211,82],[222,8,212,12],[222,12,212,16,"cachedProfileStr"],[222,28,212,32],[222,30,212,34],[223,10,213,16],[223,16,213,22,"cachedProfile"],[223,29,213,35],[223,32,213,38,"JSON"],[223,36,213,42],[223,37,213,43,"parse"],[223,42,213,48],[223,43,213,49,"cachedProfileStr"],[223,59,213,65],[223,60,213,66],[224,10,214,16],[224,16,214,22],[225,12,214,24,"data"],[225,16,214,28],[225,18,214,30],[226,14,214,32,"session"],[226,21,214,39],[226,23,214,41,"currentSession"],[227,12,214,56],[228,10,214,58],[228,11,214,59],[228,14,214,62],[228,20,214,68,"supabase"],[228,37,214,76],[228,38,214,76,"supabase"],[228,46,214,76],[228,47,214,77,"auth"],[228,51,214,81],[228,52,214,82,"getSession"],[228,62,214,92],[228,63,214,93],[228,64,214,94],[229,10,215,16],[229,14,215,20,"currentSession"],[229,28,215,34],[229,30,215,36,"user"],[229,34,215,40],[229,38,215,44,"cachedProfile"],[229,51,215,57],[229,52,215,58,"id"],[229,54,215,60],[229,59,215,65,"currentSession"],[229,73,215,79],[229,74,215,80,"user"],[229,78,215,84],[229,79,215,85,"id"],[229,81,215,87],[229,83,215,89],[230,12,216,20,"console"],[230,19,216,27],[230,20,216,28,"log"],[230,23,216,31],[230,24,216,32],[230,63,216,71],[230,64,216,72],[231,12,217,20],[231,18,217,26,"merged"],[231,24,217,32],[231,27,217,35,"mergeAvatarFromMetadata"],[231,50,217,58],[231,51,217,59,"cachedProfile"],[231,64,217,72],[231,66,217,74,"currentSession"],[231,80,217,88],[231,81,217,89,"user"],[231,85,217,93],[231,86,217,94],[232,12,218,20,"setSession"],[232,22,218,30],[232,23,218,31,"currentSession"],[232,37,218,45],[232,38,218,46],[233,12,219,20,"setUser"],[233,19,219,27],[233,20,219,28,"currentSession"],[233,34,219,42],[233,35,219,43,"user"],[233,39,219,47],[233,40,219,48],[234,12,220,20,"setProfile"],[234,22,220,30],[234,23,220,31,"merged"],[234,29,220,37],[234,30,220,38],[235,12,221,20],[235,16,221,24,"merged"],[235,22,221,30],[235,27,221,35,"cachedProfile"],[235,40,221,48],[235,42,221,50],[236,14,222,24],[236,20,222,30,"AsyncStorage"],[236,32,222,42],[236,33,222,42,"default"],[236,40,222,42],[236,41,222,43,"setItem"],[236,48,222,50],[236,49,222,51,"PROFILE_CACHE_KEY"],[236,66,222,68],[236,68,222,70,"JSON"],[236,72,222,74],[236,73,222,75,"stringify"],[236,82,222,84],[236,83,222,85,"merged"],[236,89,222,91],[236,90,222,92],[236,91,222,93],[237,12,223,20],[238,10,224,16],[239,8,225,12],[240,6,226,8],[240,7,226,9],[240,8,226,10],[240,15,226,17,"e"],[240,16,226,18],[240,18,226,20],[241,8,227,12,"console"],[241,15,227,19],[241,16,227,20,"error"],[241,21,227,25],[241,22,227,26],[241,51,227,55],[241,53,227,57,"e"],[241,54,227,58],[241,55,227,59],[242,6,228,8],[242,7,228,9],[242,16,228,18],[243,8,229,12,"setLoading"],[243,18,229,22],[243,19,229,23],[243,24,229,28],[243,25,229,29],[244,6,230,8],[245,4,231,4],[245,5,231,5],[246,4,233,4],[246,10,233,10,"initializeAuth"],[246,24,233,24],[246,27,233,27],[246,33,233,27,"initializeAuth"],[246,34,233,27],[246,39,233,39],[247,6,234,8],[247,10,234,12],[248,8,235,12],[249,8,236,12],[249,14,236,18,"cachedProfileStr"],[249,30,236,34],[249,33,236,37],[249,39,236,43,"AsyncStorage"],[249,51,236,55],[249,52,236,55,"default"],[249,59,236,55],[249,60,236,56,"getItem"],[249,67,236,63],[249,68,236,64,"PROFILE_CACHE_KEY"],[249,85,236,81],[249,86,236,82],[250,8,237,12],[250,12,237,16,"cachedProfile"],[250,25,237,29],[250,28,237,32],[250,32,237,36],[251,8,238,12],[251,12,238,16,"cachedProfileStr"],[251,28,238,32],[251,30,238,34],[252,10,239,16],[252,14,239,20],[253,12,240,20,"cachedProfile"],[253,25,240,33],[253,28,240,36,"JSON"],[253,32,240,40],[253,33,240,41,"parse"],[253,38,240,46],[253,39,240,47,"cachedProfileStr"],[253,55,240,63],[253,56,240,64],[254,12,241,20,"console"],[254,19,241,27],[254,20,241,28,"log"],[254,23,241,31],[254,24,241,32],[254,51,241,59],[254,53,241,61,"cachedProfile"],[254,66,241,74],[254,67,241,75,"email"],[254,72,241,80],[254,73,241,81],[255,10,242,16],[255,11,242,17],[255,12,242,18],[255,19,242,25,"e"],[255,20,242,26],[255,22,242,28],[256,12,243,20,"console"],[256,19,243,27],[256,20,243,28,"error"],[256,25,243,33],[256,26,243,34],[256,58,243,66],[256,60,243,68,"e"],[256,61,243,69],[256,62,243,70],[257,10,244,16],[258,8,245,12],[259,8,247,12],[259,14,247,18],[260,10,247,20,"data"],[260,14,247,24],[260,16,247,26],[261,12,247,28,"session"],[262,10,247,36],[263,8,247,38],[263,9,247,39],[263,12,247,42],[263,18,247,48,"supabase"],[263,35,247,56],[263,36,247,56,"supabase"],[263,44,247,56],[263,45,247,57,"auth"],[263,49,247,61],[263,50,247,62,"getSession"],[263,60,247,72],[263,61,247,73],[263,62,247,74],[264,8,248,12,"console"],[264,15,248,19],[264,16,248,20,"log"],[264,19,248,23],[264,20,248,24],[264,41,248,45],[264,43,248,47,"session"],[264,50,248,54],[264,52,248,56,"user"],[264,56,248,60],[264,58,248,62,"email"],[264,63,248,67],[264,64,248,68],[265,8,250,12],[265,12,250,16,"session"],[265,19,250,23],[265,21,250,25,"user"],[265,25,250,29],[265,27,250,31],[266,10,251,16,"setSession"],[266,20,251,26],[266,21,251,27,"session"],[266,28,251,34],[266,29,251,35],[268,10,253,16],[269,10,254,16],[270,10,255,16],[270,14,255,20,"cachedProfile"],[270,27,255,33],[270,31,255,37,"cachedProfile"],[270,44,255,50],[270,45,255,51,"id"],[270,47,255,53],[270,52,255,58,"session"],[270,59,255,65],[270,60,255,66,"user"],[270,64,255,70],[270,65,255,71,"id"],[270,67,255,73],[270,69,255,75],[271,12,256,20,"console"],[271,19,256,27],[271,20,256,28,"log"],[271,23,256,31],[271,24,256,32],[271,66,256,74],[271,67,256,75],[272,12,257,20],[272,18,257,26,"merged"],[272,24,257,32],[272,27,257,35,"mergeAvatarFromMetadata"],[272,50,257,58],[272,51,257,59,"cachedProfile"],[272,64,257,72],[272,66,257,74,"session"],[272,73,257,81],[272,74,257,82,"user"],[272,78,257,86],[272,79,257,87],[273,12,258,20,"setUser"],[273,19,258,27],[273,20,258,28,"session"],[273,27,258,35],[273,28,258,36,"user"],[273,32,258,40],[273,33,258,41],[274,12,259,20,"setProfile"],[274,22,259,30],[274,23,259,31,"merged"],[274,29,259,37],[274,30,259,38],[275,12,260,20],[275,16,260,24,"merged"],[275,22,260,30],[275,27,260,35,"cachedProfile"],[275,40,260,48],[275,42,260,50],[276,14,261,24],[276,20,261,30,"AsyncStorage"],[276,32,261,42],[276,33,261,42,"default"],[276,40,261,42],[276,41,261,43,"setItem"],[276,48,261,50],[276,49,261,51,"PROFILE_CACHE_KEY"],[276,66,261,68],[276,68,261,70,"JSON"],[276,72,261,74],[276,73,261,75,"stringify"],[276,82,261,84],[276,83,261,85,"merged"],[276,89,261,91],[276,90,261,92],[276,91,261,93],[277,12,262,20],[278,12,263,20,"authState"],[278,27,263,29],[278,28,263,29,"authState"],[278,37,263,29],[278,38,263,30,"reset"],[278,43,263,35],[278,44,263,36],[278,45,263,37],[278,46,263,38],[278,47,263,39],[279,12,264,20,"setLoading"],[279,22,264,30],[279,23,264,31],[279,28,264,36],[279,29,264,37],[280,12,265,20],[280,19,265,27],[280,20,265,28],[281,10,266,16],[283,10,268,16],[284,10,269,16],[284,16,269,22,"profileData"],[284,27,269,33],[284,30,269,36],[284,36,269,42,"fetchProfile"],[284,48,269,54],[284,49,269,55,"session"],[284,56,269,62],[284,57,269,63,"user"],[284,61,269,67],[284,62,269,68,"id"],[284,64,269,70],[284,65,269,71],[285,10,270,16],[285,14,270,20,"profileData"],[285,25,270,31],[285,27,270,33],[286,12,271,20,"setUser"],[286,19,271,27],[286,20,271,28,"session"],[286,27,271,35],[286,28,271,36,"user"],[286,32,271,40],[286,33,271,41],[287,12,272,20,"setProfile"],[287,22,272,30],[287,23,272,31,"profileData"],[287,34,272,42],[287,35,272,43],[288,12,273,20,"authState"],[288,27,273,29],[288,28,273,29,"authState"],[288,37,273,29],[288,38,273,30,"reset"],[288,43,273,35],[288,44,273,36],[288,45,273,37],[288,46,273,38],[288,47,273,39],[289,10,274,16],[289,11,274,17],[289,17,274,23],[290,12,275,20],[291,12,276,20,"console"],[291,19,276,27],[291,20,276,28,"log"],[291,23,276,31],[291,24,276,32],[291,61,276,69],[291,62,276,70],[292,12,277,20,"setUser"],[292,19,277,27],[292,20,277,28],[292,24,277,32],[292,25,277,33],[293,12,278,20,"authState"],[293,27,278,29],[293,28,278,29,"authState"],[293,37,278,29],[293,38,278,30,"reset"],[293,43,278,35],[293,44,278,36],[293,45,278,37],[294,10,279,16],[295,8,280,12],[296,6,281,8],[296,7,281,9],[296,8,281,10],[296,15,281,17,"error"],[296,20,281,27],[296,22,281,29],[297,8,282,12],[298,8,283,12],[298,12,283,16,"error"],[298,17,283,21],[298,18,283,22,"name"],[298,22,283,26],[298,27,283,31],[298,39,283,43],[298,43,283,47],[298,44,283,48,"error"],[298,49,283,53],[298,51,283,55,"message"],[298,58,283,62],[298,60,283,64,"includes"],[298,68,283,72],[298,69,283,73],[298,78,283,82],[298,79,283,83],[298,81,283,85],[299,10,284,16,"console"],[299,17,284,23],[299,18,284,24,"error"],[299,23,284,29],[299,24,284,30],[299,42,284,48],[299,44,284,50,"error"],[299,49,284,55],[299,50,284,56],[300,8,285,12],[301,6,286,8],[301,7,286,9],[301,16,286,18],[302,8,287,12,"setLoading"],[302,18,287,22],[302,19,287,23],[302,24,287,28],[302,25,287,29],[303,6,288,8],[304,4,289,4],[304,5,289,5],[306,4,291,4],[307,4,292,4],[307,10,292,10,"fetchProfile"],[307,22,292,22],[307,25,292,25],[307,31,292,25,"fetchProfile"],[307,32,292,32,"userId"],[307,38,292,46],[307,40,292,48,"options"],[307,47,292,84],[307,52,292,110],[308,6,293,8],[309,6,294,8],[309,10,294,12,"pendingFetchPromise"],[309,29,294,31],[309,30,294,32,"current"],[309,37,294,39],[309,39,294,41],[310,8,295,12,"console"],[310,15,295,19],[310,16,295,20,"log"],[310,19,295,23],[310,20,295,24],[310,62,295,66],[310,63,295,67],[311,8,296,12],[311,15,296,19,"pendingFetchPromise"],[311,34,296,38],[311,35,296,39,"current"],[311,42,296,46],[312,6,297,8],[314,6,299,8],[315,6,300,8],[315,10,300,12,"options"],[315,17,300,19],[315,19,300,21,"skipIfCached"],[315,31,300,33],[315,33,300,35],[316,8,301,12],[316,14,301,18,"cachedStr"],[316,23,301,27],[316,26,301,30],[316,32,301,36,"AsyncStorage"],[316,44,301,48],[316,45,301,48,"default"],[316,52,301,48],[316,53,301,49,"getItem"],[316,60,301,56],[316,61,301,57,"PROFILE_CACHE_KEY"],[316,78,301,74],[316,79,301,75],[317,8,302,12],[317,12,302,16,"cachedStr"],[317,21,302,25],[317,23,302,27],[318,10,303,16],[318,14,303,20],[319,12,304,20],[319,18,304,26,"cached"],[319,24,304,32],[319,27,304,35,"JSON"],[319,31,304,39],[319,32,304,40,"parse"],[319,37,304,45],[319,38,304,46,"cachedStr"],[319,47,304,55],[319,48,304,56],[320,12,305,20],[320,16,305,24,"cached"],[320,22,305,30],[320,23,305,31,"id"],[320,25,305,33],[320,30,305,38,"userId"],[320,36,305,44],[320,38,305,46],[321,14,306,24,"console"],[321,21,306,31],[321,22,306,32,"log"],[321,25,306,35],[321,26,306,36],[321,67,306,77],[321,68,306,78],[322,14,307,24],[322,21,307,31,"cached"],[322,27,307,37],[323,12,308,20],[324,10,309,16],[324,11,309,17],[324,12,309,18],[324,19,309,25,"e"],[324,20,309,26],[324,22,309,28],[324,23,309,30],[325,8,310,12],[326,6,311,8],[328,6,313,8],[329,6,314,8],[329,12,314,14,"fetchPromise"],[329,24,314,26],[329,27,314,29],[329,28,314,30],[329,40,314,42],[330,8,315,12],[330,12,315,16],[331,10,316,16,"console"],[331,17,316,23],[331,18,316,24,"log"],[331,21,316,27],[331,22,316,28],[331,50,316,56,"userId"],[331,56,316,62],[331,58,316,64],[331,59,316,65],[333,10,318,16],[334,10,319,16],[334,16,319,22,"timeoutPromise"],[334,30,319,36],[334,33,319,39],[334,37,319,43,"Promise"],[334,44,319,50],[334,45,319,57],[334,46,319,58,"_"],[334,47,319,59],[334,49,319,61,"reject"],[334,55,319,67],[334,60,320,20,"setTimeout"],[334,70,320,30],[334,71,320,31],[334,77,320,37,"reject"],[334,83,320,43],[334,84,320,44],[334,88,320,48,"Error"],[334,93,320,53],[334,94,320,54],[334,117,320,77],[334,118,320,78],[334,119,320,79],[334,121,320,81],[334,126,320,86],[334,127,321,16],[334,128,321,17],[335,10,323,16],[335,16,323,22],[336,12,323,24,"data"],[336,16,323,28],[337,12,323,30,"error"],[338,10,323,36],[338,11,323,37],[338,14,323,40],[338,20,323,46,"Promise"],[338,27,323,53],[338,28,323,54,"race"],[338,32,323,58],[338,33,323,59],[338,34,324,20,"supabase"],[338,51,324,28],[338,52,324,28,"supabase"],[338,60,324,28],[338,61,324,29,"from"],[338,65,324,33],[338,66,324,34],[338,76,324,44],[338,77,324,45],[338,78,324,46,"select"],[338,84,324,52],[338,85,324,53],[338,88,324,56],[338,89,324,57],[338,90,324,58,"eq"],[338,92,324,60],[338,93,324,61],[338,97,324,65],[338,99,324,67,"userId"],[338,105,324,73],[338,106,324,74],[338,107,324,75,"single"],[338,113,324,81],[338,114,324,82],[338,115,324,83],[338,117,325,20,"timeoutPromise"],[338,131,325,34],[338,132,326,17],[338,133,326,25],[339,10,328,16],[339,14,328,20,"error"],[339,19,328,25],[339,21,328,27],[340,12,329,20],[340,16,329,24,"error"],[340,21,329,29],[340,22,329,30,"code"],[340,26,329,34],[340,31,329,39],[340,41,329,49],[340,43,329,51],[341,14,330,24,"console"],[341,21,330,31],[341,22,330,32,"log"],[341,25,330,35],[341,26,330,36],[341,68,330,78],[341,69,330,79],[342,14,331,24],[342,21,331,31],[342,25,331,35],[343,12,332,20],[344,12,333,20,"console"],[344,19,333,27],[344,20,333,28,"warn"],[344,24,333,32],[344,25,333,33],[344,50,333,58],[344,52,333,60,"error"],[344,57,333,65],[344,58,333,66,"message"],[344,65,333,73],[344,66,333,74],[345,12,334,20],[345,19,334,27],[345,23,334,31],[346,10,335,16],[347,10,337,16],[347,14,337,20,"data"],[347,18,337,24],[347,20,337,26],[348,12,338,20,"console"],[348,19,338,27],[348,20,338,28,"log"],[348,23,338,31],[348,24,338,32],[348,42,338,50],[348,44,338,52,"data"],[348,48,338,56],[348,49,338,57,"email"],[348,54,338,62],[348,55,338,63],[349,12,339,20],[349,18,339,26,"AsyncStorage"],[349,30,339,38],[349,31,339,38,"default"],[349,38,339,38],[349,39,339,39,"setItem"],[349,46,339,46],[349,47,339,47,"PROFILE_CACHE_KEY"],[349,64,339,64],[349,66,339,66,"JSON"],[349,70,339,70],[349,71,339,71,"stringify"],[349,80,339,80],[349,81,339,81,"data"],[349,85,339,85],[349,86,339,86],[349,87,339,87],[350,12,340,20],[350,19,340,27,"data"],[350,23,340,31],[351,10,341,16],[352,10,342,16],[352,17,342,23],[352,21,342,27],[353,8,343,12],[353,9,343,13],[353,10,343,14],[353,17,343,21,"error"],[353,22,343,31],[353,24,343,33],[354,10,344,16,"console"],[354,17,344,23],[354,18,344,24,"error"],[354,23,344,29],[354,24,344,30],[354,52,344,58],[354,54,344,60,"error"],[354,59,344,65],[354,60,344,66,"message"],[354,67,344,73],[354,68,344,74],[355,10,345,16],[355,17,345,23],[355,21,345,27],[356,8,346,12],[356,9,346,13],[356,18,346,22],[357,10,347,16,"pendingFetchPromise"],[357,29,347,35],[357,30,347,36,"current"],[357,37,347,43],[357,40,347,46],[357,44,347,50],[358,8,348,12],[359,6,349,8],[359,7,349,9],[359,9,349,11],[359,10,349,12],[360,6,351,8,"pendingFetchPromise"],[360,25,351,27],[360,26,351,28,"current"],[360,33,351,35],[360,36,351,38,"fetchPromise"],[360,48,351,50],[361,6,352,8],[361,13,352,15,"fetchPromise"],[361,25,352,27],[362,4,353,4],[362,5,353,5],[363,4,355,4],[363,10,355,10,"refreshProfile"],[363,24,355,24],[363,27,355,27],[363,33,355,27,"refreshProfile"],[363,34,355,27],[363,39,355,39],[364,6,356,8],[364,10,356,12,"session"],[364,17,356,19],[364,19,356,21,"user"],[364,23,356,25],[364,25,356,27],[365,8,357,12],[365,14,357,18,"profileData"],[365,25,357,29],[365,28,357,32],[365,34,357,38,"fetchProfile"],[365,46,357,50],[365,47,357,51,"session"],[365,54,357,58],[365,55,357,59,"user"],[365,59,357,63],[365,60,357,64,"id"],[365,62,357,66],[365,63,357,67],[366,8,358,12],[366,12,358,16,"profileData"],[366,23,358,27],[366,25,358,29],[367,10,359,16,"setProfile"],[367,20,359,26],[367,21,359,27,"profileData"],[367,32,359,38],[367,33,359,39],[368,10,360,16,"setUser"],[368,17,360,23],[368,18,360,24,"session"],[368,25,360,31],[368,26,360,32,"user"],[368,30,360,36],[368,31,360,37],[369,8,361,12],[370,6,362,8],[371,4,363,4],[371,5,363,5],[372,4,365,4],[372,10,365,10,"signOut"],[372,17,365,17],[372,20,365,20],[372,26,365,20,"signOut"],[372,27,365,20],[372,32,365,32],[373,6,366,8],[373,10,366,12],[374,8,367,12,"setSession"],[374,18,367,22],[374,19,367,23],[374,23,367,27],[374,24,367,28],[375,8,368,12,"setUser"],[375,15,368,19],[375,16,368,20],[375,20,368,24],[375,21,368,25],[376,8,369,12,"setProfile"],[376,18,369,22],[376,19,369,23],[376,23,369,27],[376,24,369,28],[377,8,370,12],[377,14,370,18,"AsyncStorage"],[377,26,370,30],[377,27,370,30,"default"],[377,34,370,30],[377,35,370,31,"removeItem"],[377,45,370,41],[377,46,370,42,"PROFILE_CACHE_KEY"],[377,63,370,59],[377,64,370,60],[377,65,370,61],[377,66,370,62],[378,8,371,12],[378,14,371,18,"supabase"],[378,31,371,26],[378,32,371,26,"supabase"],[378,40,371,26],[378,41,371,27,"auth"],[378,45,371,31],[378,46,371,32,"signOut"],[378,53,371,39],[378,54,371,40],[378,55,371,41],[379,6,372,8],[379,7,372,9],[379,8,372,10],[379,15,372,17,"error"],[379,20,372,22],[379,22,372,24],[380,8,373,12,"console"],[380,15,373,19],[380,16,373,20,"error"],[380,21,373,25],[380,22,373,26],[380,39,373,43],[380,41,373,45,"error"],[380,46,373,50],[380,47,373,51],[381,6,374,8],[382,4,375,4],[382,5,375,5],[383,4,377,4],[383,10,377,10,"value"],[383,15,377,15],[383,18,377,18],[384,6,378,8,"session"],[384,13,378,15],[385,6,379,8,"user"],[385,10,379,12],[386,6,380,8,"profile"],[386,13,380,15],[387,6,381,8,"loading"],[387,13,381,15],[388,6,382,8,"signOut"],[388,13,382,15],[389,6,383,8,"refreshProfile"],[390,4,384,4],[390,5,384,5],[391,4,386,4],[391,24,386,11],[391,28,386,11,"_reactJsxDevRuntime"],[391,47,386,11],[391,48,386,11,"jsxDEV"],[391,54,386,11],[391,56,386,12,"AuthContext"],[391,67,386,23],[391,68,386,24,"Provider"],[391,76,386,32],[392,6,386,33,"value"],[392,11,386,38],[392,13,386,40,"value"],[392,18,386,46],[393,6,386,46,"children"],[393,14,386,46],[393,16,386,48,"children"],[394,4,386,56],[395,6,386,56,"fileName"],[395,14,386,56],[395,16,386,56,"_jsxFileName"],[395,28,386,56],[396,6,386,56,"lineNumber"],[396,16,386,56],[397,6,386,56,"columnNumber"],[397,18,386,56],[398,4,386,56],[398,11,386,79],[398,12,386,80],[399,2,387,0],[400,2,389,7],[400,11,389,16,"useAuth"],[400,18,389,23,"useAuth"],[400,19,389,23],[400,21,389,26],[401,4,390,4],[401,10,390,10,"context"],[401,17,390,17],[401,20,390,20],[401,24,390,20,"useContext"],[401,30,390,30],[401,31,390,30,"useContext"],[401,41,390,30],[401,43,390,31,"AuthContext"],[401,54,390,42],[401,55,390,43],[402,4,391,4],[402,8,391,8,"context"],[402,15,391,15],[402,20,391,20,"undefined"],[402,29,391,29],[402,31,391,31],[403,6,392,8],[403,12,392,14],[403,16,392,18,"Error"],[403,21,392,23],[403,22,392,24],[403,67,392,69],[403,68,392,70],[404,4,393,4],[405,4,394,4],[405,11,394,11,"context"],[405,18,394,18],[406,2,395,0],[407,0,395,1],[407,3]],"functionMap":{"names":["<global>","mergeAvatarFromMetadata","AuthProvider","useEffect$argument_0","supabase.auth.onAuthStateChange$argument_0","<anonymous>","handleVisibilityChange","restoreFromCache","initializeAuth","fetchProfile","Promise$argument_0","setTimeout$argument_0","refreshProfile","signOut","useAuth"],"mappings":"AAA;gCCuB;CDQ;OEE;cCY,iCD;cCC,uCD;cCE;YC8B;aDiG;eEG,gCF;KDC;cCG;uCGK;SHc;eEG,8EF;KDC;6BKG;KLsB;2BME;KNwD;yBOG;8BJsB;yDKK;+BCC,gDD,QL;SI6B;KPI;2BUE;KVQ;oBWE;KXU;CFY;OcE;CdM"},"hasCjsExports":false},"type":"js/module"}]}