{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":134},"end":{"line":3,"column":70,"index":204}}],"key":"KPiafkkHXMyy0AQm6tuLQc7uw64=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/Users/pj/Desktop/Wow/frontend/src/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesSupabase = require(_dependencyMap[1], \"../services/supabase\");\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    const [session, setSession] = (0, _react.useState)(null);\n    const [user, setUser] = (0, _react.useState)(null);\n    const [profile, setProfile] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      if (!(0, _servicesSupabase.isSupabaseConfigured)()) {\n        console.log('âš ï¸ Supabase not configured');\n        setLoading(false);\n        return;\n      }\n\n      // Get initial session\n      _servicesSupabase.supabase.auth.getSession().then(({\n        data: {\n          session\n        }\n      }) => {\n        console.log('ðŸ” Initial session:', session?.user?.email);\n        setSession(session);\n        setUser(session?.user ?? null);\n        if (session?.user) {\n          fetchProfile(session.user.id);\n        } else {\n          setLoading(false);\n        }\n      });\n\n      // Listen for auth changes\n      const {\n        data: {\n          subscription\n        }\n      } = _servicesSupabase.supabase.auth.onAuthStateChange(async (event, session) => {\n        console.log('ðŸ” Auth state change:', event, session?.user?.email);\n        setSession(session);\n        setUser(session?.user ?? null);\n        if (session?.user) {\n          await fetchProfile(session.user.id);\n        } else {\n          setProfile(null);\n          setLoading(false);\n        }\n      });\n      return () => subscription.unsubscribe();\n    }, []);\n    const fetchProfile = async userId => {\n      try {\n        const {\n          data,\n          error\n        } = await _servicesSupabase.supabase.from('profiles').select('*').eq('id', userId).single();\n        if (data && !error) {\n          setProfile(data);\n        }\n      } catch (error) {\n        console.error('Error fetching profile:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const signOut = async () => {\n      try {\n        setSession(null);\n        setUser(null);\n        setProfile(null);\n        await _servicesSupabase.supabase.auth.signOut();\n      } catch (error) {\n        console.error('Error signing out:', error);\n      }\n    };\n    const value = {\n      session,\n      user,\n      profile,\n      loading,\n      signOut\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 12\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":110,"map":[[8,2,15,0,"exports"],[8,9,15,0],[8,10,15,0,"AuthProvider"],[8,22,15,0],[8,25,15,0,"AuthProvider"],[8,37,15,0],[9,2,100,0,"exports"],[9,9,100,0],[9,10,100,0,"useAuth"],[9,17,100,0],[9,20,100,0,"useAuth"],[9,27,100,0],[10,2,1,0],[10,6,1,0,"_react"],[10,12,1,0],[10,15,1,0,"require"],[10,22,1,0],[10,23,1,0,"_dependencyMap"],[10,37,1,0],[11,2,3,0],[11,6,3,0,"_servicesSupabase"],[11,23,3,0],[11,26,3,0,"require"],[11,33,3,0],[11,34,3,0,"_dependencyMap"],[11,48,3,0],[12,2,3,70],[12,6,3,70,"_reactJsxDevRuntime"],[12,25,3,70],[12,28,3,70,"require"],[12,35,3,70],[12,36,3,70,"_dependencyMap"],[12,50,3,70],[13,2,13,0],[13,8,13,6,"AuthContext"],[13,19,13,17],[13,35,13,20],[13,39,13,20,"createContext"],[13,45,13,33],[13,46,13,33,"createContext"],[13,59,13,33],[13,61,13,63,"undefined"],[13,70,13,72],[13,71,13,73],[14,2,15,7],[14,11,15,16,"AuthProvider"],[14,23,15,28,"AuthProvider"],[14,24,15,29],[15,4,15,31,"children"],[16,2,15,71],[16,3,15,72],[16,5,15,74],[17,4,16,4],[17,10,16,10],[17,11,16,11,"session"],[17,18,16,18],[17,20,16,20,"setSession"],[17,30,16,30],[17,31,16,31],[17,34,16,34],[17,38,16,34,"useState"],[17,44,16,42],[17,45,16,42,"useState"],[17,53,16,42],[17,55,16,59],[17,59,16,63],[17,60,16,64],[18,4,17,4],[18,10,17,10],[18,11,17,11,"user"],[18,15,17,15],[18,17,17,17,"setUser"],[18,24,17,24],[18,25,17,25],[18,28,17,28],[18,32,17,28,"useState"],[18,38,17,36],[18,39,17,36,"useState"],[18,47,17,36],[18,49,17,50],[18,53,17,54],[18,54,17,55],[19,4,18,4],[19,10,18,10],[19,11,18,11,"profile"],[19,18,18,18],[19,20,18,20,"setProfile"],[19,30,18,30],[19,31,18,31],[19,34,18,34],[19,38,18,34,"useState"],[19,44,18,42],[19,45,18,42,"useState"],[19,53,18,42],[19,55,18,55],[19,59,18,59],[19,60,18,60],[20,4,19,4],[20,10,19,10],[20,11,19,11,"loading"],[20,18,19,18],[20,20,19,20,"setLoading"],[20,30,19,30],[20,31,19,31],[20,34,19,34],[20,38,19,34,"useState"],[20,44,19,42],[20,45,19,42,"useState"],[20,53,19,42],[20,55,19,43],[20,59,19,47],[20,60,19,48],[21,4,21,4],[21,8,21,4,"useEffect"],[21,14,21,13],[21,15,21,13,"useEffect"],[21,24,21,13],[21,26,21,14],[21,32,21,20],[22,6,22,8],[22,10,22,12],[22,11,22,13],[22,15,22,13,"isSupabaseConfigured"],[22,32,22,33],[22,33,22,33,"isSupabaseConfigured"],[22,53,22,33],[22,55,22,34],[22,56,22,35],[22,58,22,37],[23,8,23,12,"console"],[23,15,23,19],[23,16,23,20,"log"],[23,19,23,23],[23,20,23,24],[23,48,23,52],[23,49,23,53],[24,8,24,12,"setLoading"],[24,18,24,22],[24,19,24,23],[24,24,24,28],[24,25,24,29],[25,8,25,12],[26,6,26,8],[28,6,28,8],[29,6,29,8,"supabase"],[29,23,29,16],[29,24,29,16,"supabase"],[29,32,29,16],[29,33,29,17,"auth"],[29,37,29,21],[29,38,29,22,"getSession"],[29,48,29,32],[29,49,29,33],[29,50,29,34],[29,51,29,35,"then"],[29,55,29,39],[29,56,29,40],[29,57,29,41],[30,8,29,43,"data"],[30,12,29,47],[30,14,29,49],[31,10,29,51,"session"],[32,8,29,59],[33,6,29,61],[33,7,29,62],[33,12,29,67],[34,8,30,12,"console"],[34,15,30,19],[34,16,30,20,"log"],[34,19,30,23],[34,20,30,24],[34,41,30,45],[34,43,30,47,"session"],[34,50,30,54],[34,52,30,56,"user"],[34,56,30,60],[34,58,30,62,"email"],[34,63,30,67],[34,64,30,68],[35,8,31,12,"setSession"],[35,18,31,22],[35,19,31,23,"session"],[35,26,31,30],[35,27,31,31],[36,8,32,12,"setUser"],[36,15,32,19],[36,16,32,20,"session"],[36,23,32,27],[36,25,32,29,"user"],[36,29,32,33],[36,33,32,37],[36,37,32,41],[36,38,32,42],[37,8,34,12],[37,12,34,16,"session"],[37,19,34,23],[37,21,34,25,"user"],[37,25,34,29],[37,27,34,31],[38,10,35,16,"fetchProfile"],[38,22,35,28],[38,23,35,29,"session"],[38,30,35,36],[38,31,35,37,"user"],[38,35,35,41],[38,36,35,42,"id"],[38,38,35,44],[38,39,35,45],[39,8,36,12],[39,9,36,13],[39,15,36,19],[40,10,37,16,"setLoading"],[40,20,37,26],[40,21,37,27],[40,26,37,32],[40,27,37,33],[41,8,38,12],[42,6,39,8],[42,7,39,9],[42,8,39,10],[44,6,41,8],[45,6,42,8],[45,12,42,14],[46,8,42,16,"data"],[46,12,42,20],[46,14,42,22],[47,10,42,24,"subscription"],[48,8,42,37],[49,6,42,39],[49,7,42,40],[49,10,42,43,"supabase"],[49,27,42,51],[49,28,42,51,"supabase"],[49,36,42,51],[49,37,42,52,"auth"],[49,41,42,56],[49,42,42,57,"onAuthStateChange"],[49,59,42,74],[49,60,43,12],[49,67,43,19,"event"],[49,72,43,24],[49,74,43,26,"session"],[49,81,43,33],[49,86,43,38],[50,8,44,16,"console"],[50,15,44,23],[50,16,44,24,"log"],[50,19,44,27],[50,20,44,28],[50,43,44,51],[50,45,44,53,"event"],[50,50,44,58],[50,52,44,60,"session"],[50,59,44,67],[50,61,44,69,"user"],[50,65,44,73],[50,67,44,75,"email"],[50,72,44,80],[50,73,44,81],[51,8,45,16,"setSession"],[51,18,45,26],[51,19,45,27,"session"],[51,26,45,34],[51,27,45,35],[52,8,46,16,"setUser"],[52,15,46,23],[52,16,46,24,"session"],[52,23,46,31],[52,25,46,33,"user"],[52,29,46,37],[52,33,46,41],[52,37,46,45],[52,38,46,46],[53,8,48,16],[53,12,48,20,"session"],[53,19,48,27],[53,21,48,29,"user"],[53,25,48,33],[53,27,48,35],[54,10,49,20],[54,16,49,26,"fetchProfile"],[54,28,49,38],[54,29,49,39,"session"],[54,36,49,46],[54,37,49,47,"user"],[54,41,49,51],[54,42,49,52,"id"],[54,44,49,54],[54,45,49,55],[55,8,50,16],[55,9,50,17],[55,15,50,23],[56,10,51,20,"setProfile"],[56,20,51,30],[56,21,51,31],[56,25,51,35],[56,26,51,36],[57,10,52,20,"setLoading"],[57,20,52,30],[57,21,52,31],[57,26,52,36],[57,27,52,37],[58,8,53,16],[59,6,54,12],[59,7,55,8],[59,8,55,9],[60,6,57,8],[60,13,57,15],[60,19,57,21,"subscription"],[60,31,57,33],[60,32,57,34,"unsubscribe"],[60,43,57,45],[60,44,57,46],[60,45,57,47],[61,4,58,4],[61,5,58,5],[61,7,58,7],[61,9,58,9],[61,10,58,10],[62,4,60,4],[62,10,60,10,"fetchProfile"],[62,22,60,22],[62,25,60,25],[62,31,60,32,"userId"],[62,37,60,46],[62,41,60,51],[63,6,61,8],[63,10,61,12],[64,8,62,12],[64,14,62,18],[65,10,62,20,"data"],[65,14,62,24],[66,10,62,26,"error"],[67,8,62,32],[67,9,62,33],[67,12,62,36],[67,18,62,42,"supabase"],[67,35,62,50],[67,36,62,50,"supabase"],[67,44,62,50],[67,45,63,17,"from"],[67,49,63,21],[67,50,63,22],[67,60,63,32],[67,61,63,33],[67,62,64,17,"select"],[67,68,64,23],[67,69,64,24],[67,72,64,27],[67,73,64,28],[67,74,65,17,"eq"],[67,76,65,19],[67,77,65,20],[67,81,65,24],[67,83,65,26,"userId"],[67,89,65,32],[67,90,65,33],[67,91,66,17,"single"],[67,97,66,23],[67,98,66,24],[67,99,66,25],[68,8,68,12],[68,12,68,16,"data"],[68,16,68,20],[68,20,68,24],[68,21,68,25,"error"],[68,26,68,30],[68,28,68,32],[69,10,69,16,"setProfile"],[69,20,69,26],[69,21,69,27,"data"],[69,25,69,31],[69,26,69,32],[70,8,70,12],[71,6,71,8],[71,7,71,9],[71,8,71,10],[71,15,71,17,"error"],[71,20,71,22],[71,22,71,24],[72,8,72,12,"console"],[72,15,72,19],[72,16,72,20,"error"],[72,21,72,25],[72,22,72,26],[72,47,72,51],[72,49,72,53,"error"],[72,54,72,58],[72,55,72,59],[73,6,73,8],[73,7,73,9],[73,16,73,18],[74,8,74,12,"setLoading"],[74,18,74,22],[74,19,74,23],[74,24,74,28],[74,25,74,29],[75,6,75,8],[76,4,76,4],[76,5,76,5],[77,4,78,4],[77,10,78,10,"signOut"],[77,17,78,17],[77,20,78,20],[77,26,78,20,"signOut"],[77,27,78,20],[77,32,78,32],[78,6,79,8],[78,10,79,12],[79,8,80,12,"setSession"],[79,18,80,22],[79,19,80,23],[79,23,80,27],[79,24,80,28],[80,8,81,12,"setUser"],[80,15,81,19],[80,16,81,20],[80,20,81,24],[80,21,81,25],[81,8,82,12,"setProfile"],[81,18,82,22],[81,19,82,23],[81,23,82,27],[81,24,82,28],[82,8,83,12],[82,14,83,18,"supabase"],[82,31,83,26],[82,32,83,26,"supabase"],[82,40,83,26],[82,41,83,27,"auth"],[82,45,83,31],[82,46,83,32,"signOut"],[82,53,83,39],[82,54,83,40],[82,55,83,41],[83,6,84,8],[83,7,84,9],[83,8,84,10],[83,15,84,17,"error"],[83,20,84,22],[83,22,84,24],[84,8,85,12,"console"],[84,15,85,19],[84,16,85,20,"error"],[84,21,85,25],[84,22,85,26],[84,42,85,46],[84,44,85,48,"error"],[84,49,85,53],[84,50,85,54],[85,6,86,8],[86,4,87,4],[86,5,87,5],[87,4,89,4],[87,10,89,10,"value"],[87,15,89,15],[87,18,89,18],[88,6,90,8,"session"],[88,13,90,15],[89,6,91,8,"user"],[89,10,91,12],[90,6,92,8,"profile"],[90,13,92,15],[91,6,93,8,"loading"],[91,13,93,15],[92,6,94,8,"signOut"],[93,4,95,4],[93,5,95,5],[94,4,97,4],[94,24,97,11],[94,28,97,11,"_reactJsxDevRuntime"],[94,47,97,11],[94,48,97,11,"jsxDEV"],[94,54,97,11],[94,56,97,12,"AuthContext"],[94,67,97,23],[94,68,97,24,"Provider"],[94,76,97,32],[95,6,97,33,"value"],[95,11,97,38],[95,13,97,40,"value"],[95,18,97,46],[96,6,97,46,"children"],[96,14,97,46],[96,16,97,48,"children"],[97,4,97,56],[98,6,97,56,"fileName"],[98,14,97,56],[98,16,97,56,"_jsxFileName"],[98,28,97,56],[99,6,97,56,"lineNumber"],[99,16,97,56],[100,6,97,56,"columnNumber"],[100,18,97,56],[101,4,97,56],[101,11,97,79],[101,12,97,80],[102,2,98,0],[103,2,100,7],[103,11,100,16,"useAuth"],[103,18,100,23,"useAuth"],[103,19,100,23],[103,21,100,26],[104,4,101,4],[104,10,101,10,"context"],[104,17,101,17],[104,20,101,20],[104,24,101,20,"useContext"],[104,30,101,30],[104,31,101,30,"useContext"],[104,41,101,30],[104,43,101,31,"AuthContext"],[104,54,101,42],[104,55,101,43],[105,4,102,4],[105,8,102,8,"context"],[105,15,102,15],[105,20,102,20,"undefined"],[105,29,102,29],[105,31,102,31],[106,6,103,8],[106,12,103,14],[106,16,103,18,"Error"],[106,21,103,23],[106,22,103,24],[106,67,103,69],[106,68,103,70],[107,4,104,4],[108,4,105,4],[108,11,105,11,"context"],[108,18,105,18],[109,2,106,0],[110,0,106,1],[110,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","supabase.auth.getSession.then$argument_0","supabase.auth.onAuthStateChange$argument_0","<anonymous>","fetchProfile","signOut","useAuth"],"mappings":"AAA;OCc;cCM;wCCQ;SDU;YEI;aFW;eGG,gCH;KDC;yBKE;KLgB;oBME;KNS;CDW;OQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}