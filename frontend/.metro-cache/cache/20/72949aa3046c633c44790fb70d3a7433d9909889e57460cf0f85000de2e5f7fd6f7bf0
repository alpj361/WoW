{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":86,"index":86}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":142},"end":{"line":3,"column":70,"index":212}}],"key":"KPiafkkHXMyy0AQm6tuLQc7uw64=","exportNames":["*"],"imports":1}},{"name":"../utils/authState","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":213},"end":{"line":4,"column":47,"index":260}}],"key":"NiKTyVyV9HlvikffeNdGsZOd0CQ=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/Users/pj/Desktop/Wow/frontend/src/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesSupabase = require(_dependencyMap[1], \"../services/supabase\");\n  var _utilsAuthState = require(_dependencyMap[2], \"../utils/authState\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    const [session, setSession] = (0, _react.useState)(null);\n    const [user, setUser] = (0, _react.useState)(null);\n    const [profile, setProfile] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      if (!(0, _servicesSupabase.isSupabaseConfigured)()) {\n        console.log('âš ï¸ Supabase not configured');\n        setLoading(false);\n        return;\n      }\n\n      // Get initial session\n      initializeAuth();\n\n      // Listen for auth changes\n      const {\n        data: {\n          subscription\n        }\n      } = _servicesSupabase.supabase.auth.onAuthStateChange(async (event, newSession) => {\n        console.log('ðŸ” Auth state change:', event, newSession?.user?.email);\n\n        // Check if auth-callback is processing - don't interfere\n        const isProcessing = _utilsAuthState.authState.getState().isProcessing;\n        if (isProcessing && event === 'SIGNED_IN') {\n          console.log('â³ Auth callback is processing, skipping profile check');\n          setSession(newSession);\n          // Don't set user yet - let auth-callback handle it\n          return;\n        }\n        if (event === 'SIGNED_IN' && newSession?.user) {\n          setSession(newSession);\n          // Check profile\n          const profileData = await fetchProfile(newSession.user.id);\n          if (profileData) {\n            console.log('âœ… Profile found in onAuthStateChange');\n            setUser(newSession.user);\n            setProfile(profileData);\n          } else {\n            // No profile = not fully registered\n            console.log('âŒ No profile in onAuthStateChange, user not set');\n            setUser(null);\n            setProfile(null);\n          }\n          setLoading(false);\n        } else if (event === 'SIGNED_OUT') {\n          console.log('ðŸšª SIGNED_OUT event received');\n          setSession(null);\n          setUser(null);\n          setProfile(null);\n          setLoading(false);\n        } else if (event === 'TOKEN_REFRESHED' && newSession?.user) {\n          // Token refresh - always re-fetch profile to ensure consistency\n          console.log('ðŸ”„ Token refreshed, re-validating profile');\n          setSession(newSession);\n          const profileData = await fetchProfile(newSession.user.id);\n          if (profileData) {\n            setUser(newSession.user);\n            setProfile(profileData);\n          } else {\n            console.warn('âš ï¸ Profile lost after token refresh, signing out');\n            signOut();\n          }\n        }\n      });\n      return () => subscription.unsubscribe();\n    }, []);\n\n    // Auto-recovery: Re-validate session when user returns to the page\n    (0, _react.useEffect)(() => {\n      if (true) return; // Only on web\n\n      const handleVisibilityChange = async () => {\n        if (document.visibilityState === 'visible' && session) {\n          console.log('ðŸ‘ï¸ Page visible, re-validating session');\n          try {\n            const {\n              data: {\n                session: currentSession\n              },\n              error\n            } = await _servicesSupabase.supabase.auth.getSession();\n            if (error || !currentSession) {\n              console.warn('âš ï¸ Session expired while away, signing out');\n              signOut();\n            } else if (currentSession.user.id !== session.user.id) {\n              // Session changed (different user) - reload\n              console.log('ðŸ”„ Session changed, reloading');\n              window.location.reload();\n            }\n          } catch (error) {\n            console.error('Error checking session:', error);\n          }\n        }\n      };\n      document.addEventListener('visibilitychange', handleVisibilityChange);\n      return () => document.removeEventListener('visibilitychange', handleVisibilityChange);\n    }, [session]);\n    const initializeAuth = async () => {\n      try {\n        const {\n          data: {\n            session\n          }\n        } = await _servicesSupabase.supabase.auth.getSession();\n        console.log('ðŸ” Initial session:', session?.user?.email);\n        if (session?.user) {\n          setSession(session);\n          const profileData = await fetchProfile(session.user.id);\n          if (profileData) {\n            setUser(session.user);\n            setProfile(profileData);\n          } else {\n            console.log('âŒ No profile on init');\n            setUser(null);\n          }\n        }\n      } catch (error) {\n        // Ignore abort errors which happen on hot reload or fast navigation\n        if (error.name === 'AbortError' || error?.message?.includes('aborted')) {\n          console.log('âš ï¸ Auth init aborted (safe to ignore)');\n        } else {\n          console.error('Init auth error:', error);\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    // Fetch profile, returns profile data or null\n    const fetchProfile = async userId => {\n      // Retry logic with faster timeout for profile fetch\n      for (let i = 0; i < 2; i++) {\n        try {\n          console.log(`ðŸ” Fetching profile for: ${userId} (attempt ${i + 1})`);\n\n          // Set a 5 second timeout for each attempt\n          const timeoutPromise = new Promise((_, reject) => setTimeout(() => reject(new Error('Profile fetch timeout')), 5000));\n          const fetchPromise = _servicesSupabase.supabase.from('profiles').select('*').eq('id', userId).single();\n          const {\n            data,\n            error\n          } = await Promise.race([fetchPromise, timeoutPromise]);\n          if (error) {\n            // If it's a \"not found\" error, return null immediately (no retry)\n            if (error.code === 'PGRST116') {\n              console.log('âŒ No profile found (user not registered)');\n              return null;\n            }\n\n            // For other errors, retry\n            console.warn(`âš ï¸ Profile fetch error (attempt ${i + 1}):`, error.message);\n            if (i === 1) return null; // Give up after 2 tries\n            await new Promise(r => setTimeout(r, 500)); // Wait 500ms\n            continue;\n          }\n          if (data) {\n            console.log('âœ… Profile found:', data.email);\n            return data;\n          } else {\n            console.log('âŒ No profile found (data is null)');\n            return null;\n          }\n        } catch (error) {\n          console.error(`âŒ Profile fetch exception (attempt ${i + 1}):`, error.message);\n          if (i === 1) return null;\n          await new Promise(r => setTimeout(r, 500));\n        }\n      }\n      return null;\n    };\n    const refreshProfile = async () => {\n      if (session?.user) {\n        const profileData = await fetchProfile(session.user.id);\n        if (profileData) {\n          setProfile(profileData);\n          setUser(session.user);\n        }\n      }\n    };\n    const signOut = async () => {\n      try {\n        setSession(null);\n        setUser(null);\n        setProfile(null);\n        await _servicesSupabase.supabase.auth.signOut();\n      } catch (error) {\n        console.error('Sign out error:', error);\n      }\n    };\n    const value = {\n      session,\n      user,\n      profile,\n      loading,\n      signOut,\n      refreshProfile\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 12\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":232,"map":[[8,2,17,0,"exports"],[8,9,17,0],[8,10,17,0,"AuthProvider"],[8,22,17,0],[8,25,17,0,"AuthProvider"],[8,37,17,0],[9,2,229,0,"exports"],[9,9,229,0],[9,10,229,0,"useAuth"],[9,17,229,0],[9,20,229,0,"useAuth"],[9,27,229,0],[10,2,1,0],[10,6,1,0,"_react"],[10,12,1,0],[10,15,1,0,"require"],[10,22,1,0],[10,23,1,0,"_dependencyMap"],[10,37,1,0],[11,2,3,0],[11,6,3,0,"_servicesSupabase"],[11,23,3,0],[11,26,3,0,"require"],[11,33,3,0],[11,34,3,0,"_dependencyMap"],[11,48,3,0],[12,2,4,0],[12,6,4,0,"_utilsAuthState"],[12,21,4,0],[12,24,4,0,"require"],[12,31,4,0],[12,32,4,0,"_dependencyMap"],[12,46,4,0],[13,2,4,47],[13,6,4,47,"_reactJsxDevRuntime"],[13,25,4,47],[13,28,4,47,"require"],[13,35,4,47],[13,36,4,47,"_dependencyMap"],[13,50,4,47],[14,2,15,0],[14,8,15,6,"AuthContext"],[14,19,15,17],[14,35,15,20],[14,39,15,20,"createContext"],[14,45,15,33],[14,46,15,33,"createContext"],[14,59,15,33],[14,61,15,63,"undefined"],[14,70,15,72],[14,71,15,73],[15,2,17,7],[15,11,17,16,"AuthProvider"],[15,23,17,28,"AuthProvider"],[15,24,17,29],[16,4,17,31,"children"],[17,2,17,71],[17,3,17,72],[17,5,17,74],[18,4,18,4],[18,10,18,10],[18,11,18,11,"session"],[18,18,18,18],[18,20,18,20,"setSession"],[18,30,18,30],[18,31,18,31],[18,34,18,34],[18,38,18,34,"useState"],[18,44,18,42],[18,45,18,42,"useState"],[18,53,18,42],[18,55,18,59],[18,59,18,63],[18,60,18,64],[19,4,19,4],[19,10,19,10],[19,11,19,11,"user"],[19,15,19,15],[19,17,19,17,"setUser"],[19,24,19,24],[19,25,19,25],[19,28,19,28],[19,32,19,28,"useState"],[19,38,19,36],[19,39,19,36,"useState"],[19,47,19,36],[19,49,19,50],[19,53,19,54],[19,54,19,55],[20,4,20,4],[20,10,20,10],[20,11,20,11,"profile"],[20,18,20,18],[20,20,20,20,"setProfile"],[20,30,20,30],[20,31,20,31],[20,34,20,34],[20,38,20,34,"useState"],[20,44,20,42],[20,45,20,42,"useState"],[20,53,20,42],[20,55,20,55],[20,59,20,59],[20,60,20,60],[21,4,21,4],[21,10,21,10],[21,11,21,11,"loading"],[21,18,21,18],[21,20,21,20,"setLoading"],[21,30,21,30],[21,31,21,31],[21,34,21,34],[21,38,21,34,"useState"],[21,44,21,42],[21,45,21,42,"useState"],[21,53,21,42],[21,55,21,43],[21,59,21,47],[21,60,21,48],[22,4,23,4],[22,8,23,4,"useEffect"],[22,14,23,13],[22,15,23,13,"useEffect"],[22,24,23,13],[22,26,23,14],[22,32,23,20],[23,6,24,8],[23,10,24,12],[23,11,24,13],[23,15,24,13,"isSupabaseConfigured"],[23,32,24,33],[23,33,24,33,"isSupabaseConfigured"],[23,53,24,33],[23,55,24,34],[23,56,24,35],[23,58,24,37],[24,8,25,12,"console"],[24,15,25,19],[24,16,25,20,"log"],[24,19,25,23],[24,20,25,24],[24,48,25,52],[24,49,25,53],[25,8,26,12,"setLoading"],[25,18,26,22],[25,19,26,23],[25,24,26,28],[25,25,26,29],[26,8,27,12],[27,6,28,8],[29,6,30,8],[30,6,31,8,"initializeAuth"],[30,20,31,22],[30,21,31,23],[30,22,31,24],[32,6,33,8],[33,6,34,8],[33,12,34,14],[34,8,34,16,"data"],[34,12,34,20],[34,14,34,22],[35,10,34,24,"subscription"],[36,8,34,37],[37,6,34,39],[37,7,34,40],[37,10,34,43,"supabase"],[37,27,34,51],[37,28,34,51,"supabase"],[37,36,34,51],[37,37,34,52,"auth"],[37,41,34,56],[37,42,34,57,"onAuthStateChange"],[37,59,34,74],[37,60,35,12],[37,67,35,19,"event"],[37,72,35,24],[37,74,35,26,"newSession"],[37,84,35,36],[37,89,35,41],[38,8,36,16,"console"],[38,15,36,23],[38,16,36,24,"log"],[38,19,36,27],[38,20,36,28],[38,43,36,51],[38,45,36,53,"event"],[38,50,36,58],[38,52,36,60,"newSession"],[38,62,36,70],[38,64,36,72,"user"],[38,68,36,76],[38,70,36,78,"email"],[38,75,36,83],[38,76,36,84],[40,8,38,16],[41,8,39,16],[41,14,39,22,"isProcessing"],[41,26,39,34],[41,29,39,37,"authState"],[41,44,39,46],[41,45,39,46,"authState"],[41,54,39,46],[41,55,39,47,"getState"],[41,63,39,55],[41,64,39,56],[41,65,39,57],[41,66,39,58,"isProcessing"],[41,78,39,70],[42,8,40,16],[42,12,40,20,"isProcessing"],[42,24,40,32],[42,28,40,36,"event"],[42,33,40,41],[42,38,40,46],[42,49,40,57],[42,51,40,59],[43,10,41,20,"console"],[43,17,41,27],[43,18,41,28,"log"],[43,21,41,31],[43,22,41,32],[43,77,41,87],[43,78,41,88],[44,10,42,20,"setSession"],[44,20,42,30],[44,21,42,31,"newSession"],[44,31,42,41],[44,32,42,42],[45,10,43,20],[46,10,44,20],[47,8,45,16],[48,8,47,16],[48,12,47,20,"event"],[48,17,47,25],[48,22,47,30],[48,33,47,41],[48,37,47,45,"newSession"],[48,47,47,55],[48,49,47,57,"user"],[48,53,47,61],[48,55,47,63],[49,10,48,20,"setSession"],[49,20,48,30],[49,21,48,31,"newSession"],[49,31,48,41],[49,32,48,42],[50,10,49,20],[51,10,50,20],[51,16,50,26,"profileData"],[51,27,50,37],[51,30,50,40],[51,36,50,46,"fetchProfile"],[51,48,50,58],[51,49,50,59,"newSession"],[51,59,50,69],[51,60,50,70,"user"],[51,64,50,74],[51,65,50,75,"id"],[51,67,50,77],[51,68,50,78],[52,10,51,20],[52,14,51,24,"profileData"],[52,25,51,35],[52,27,51,37],[53,12,52,24,"console"],[53,19,52,31],[53,20,52,32,"log"],[53,23,52,35],[53,24,52,36],[53,62,52,74],[53,63,52,75],[54,12,53,24,"setUser"],[54,19,53,31],[54,20,53,32,"newSession"],[54,30,53,42],[54,31,53,43,"user"],[54,35,53,47],[54,36,53,48],[55,12,54,24,"setProfile"],[55,22,54,34],[55,23,54,35,"profileData"],[55,34,54,46],[55,35,54,47],[56,10,55,20],[56,11,55,21],[56,17,55,27],[57,12,56,24],[58,12,57,24,"console"],[58,19,57,31],[58,20,57,32,"log"],[58,23,57,35],[58,24,57,36],[58,73,57,85],[58,74,57,86],[59,12,58,24,"setUser"],[59,19,58,31],[59,20,58,32],[59,24,58,36],[59,25,58,37],[60,12,59,24,"setProfile"],[60,22,59,34],[60,23,59,35],[60,27,59,39],[60,28,59,40],[61,10,60,20],[62,10,61,20,"setLoading"],[62,20,61,30],[62,21,61,31],[62,26,61,36],[62,27,61,37],[63,8,62,16],[63,9,62,17],[63,15,62,23],[63,19,62,27,"event"],[63,24,62,32],[63,29,62,37],[63,41,62,49],[63,43,62,51],[64,10,63,20,"console"],[64,17,63,27],[64,18,63,28,"log"],[64,21,63,31],[64,22,63,32],[64,52,63,62],[64,53,63,63],[65,10,64,20,"setSession"],[65,20,64,30],[65,21,64,31],[65,25,64,35],[65,26,64,36],[66,10,65,20,"setUser"],[66,17,65,27],[66,18,65,28],[66,22,65,32],[66,23,65,33],[67,10,66,20,"setProfile"],[67,20,66,30],[67,21,66,31],[67,25,66,35],[67,26,66,36],[68,10,67,20,"setLoading"],[68,20,67,30],[68,21,67,31],[68,26,67,36],[68,27,67,37],[69,8,68,16],[69,9,68,17],[69,15,68,23],[69,19,68,27,"event"],[69,24,68,32],[69,29,68,37],[69,46,68,54],[69,50,68,58,"newSession"],[69,60,68,68],[69,62,68,70,"user"],[69,66,68,74],[69,68,68,76],[70,10,69,20],[71,10,70,20,"console"],[71,17,70,27],[71,18,70,28,"log"],[71,21,70,31],[71,22,70,32],[71,65,70,75],[71,66,70,76],[72,10,71,20,"setSession"],[72,20,71,30],[72,21,71,31,"newSession"],[72,31,71,41],[72,32,71,42],[73,10,72,20],[73,16,72,26,"profileData"],[73,27,72,37],[73,30,72,40],[73,36,72,46,"fetchProfile"],[73,48,72,58],[73,49,72,59,"newSession"],[73,59,72,69],[73,60,72,70,"user"],[73,64,72,74],[73,65,72,75,"id"],[73,67,72,77],[73,68,72,78],[74,10,73,20],[74,14,73,24,"profileData"],[74,25,73,35],[74,27,73,37],[75,12,74,24,"setUser"],[75,19,74,31],[75,20,74,32,"newSession"],[75,30,74,42],[75,31,74,43,"user"],[75,35,74,47],[75,36,74,48],[76,12,75,24,"setProfile"],[76,22,75,34],[76,23,75,35,"profileData"],[76,34,75,46],[76,35,75,47],[77,10,76,20],[77,11,76,21],[77,17,76,27],[78,12,77,24,"console"],[78,19,77,31],[78,20,77,32,"warn"],[78,24,77,36],[78,25,77,37],[78,75,77,87],[78,76,77,88],[79,12,78,24,"signOut"],[79,19,78,31],[79,20,78,32],[79,21,78,33],[80,10,79,20],[81,8,80,16],[82,6,81,12],[82,7,82,8],[82,8,82,9],[83,6,84,8],[83,13,84,15],[83,19,84,21,"subscription"],[83,31,84,33],[83,32,84,34,"unsubscribe"],[83,43,84,45],[83,44,84,46],[83,45,84,47],[84,4,85,4],[84,5,85,5],[84,7,85,7],[84,9,85,9],[84,10,85,10],[86,4,87,4],[87,4,88,4],[87,8,88,4,"useEffect"],[87,14,88,13],[87,15,88,13,"useEffect"],[87,24,88,13],[87,26,88,14],[87,32,88,20],[88,6,89,8],[88,16,89,43],[88,23,89,50],[88,24,89,51],[90,6,91,8],[90,12,91,14,"handleVisibilityChange"],[90,34,91,36],[90,37,91,39],[90,43,91,39,"handleVisibilityChange"],[90,44,91,39],[90,49,91,51],[91,8,92,12],[91,12,92,16,"document"],[91,20,92,24],[91,21,92,25,"visibilityState"],[91,36,92,40],[91,41,92,45],[91,50,92,54],[91,54,92,58,"session"],[91,61,92,65],[91,63,92,67],[92,10,93,16,"console"],[92,17,93,23],[92,18,93,24,"log"],[92,21,93,27],[92,22,93,28],[92,63,93,69],[92,64,93,70],[93,10,94,16],[93,14,94,20],[94,12,95,20],[94,18,95,26],[95,14,95,28,"data"],[95,18,95,32],[95,20,95,34],[96,16,95,36,"session"],[96,23,95,43],[96,25,95,45,"currentSession"],[97,14,95,60],[97,15,95,61],[98,14,95,63,"error"],[99,12,95,69],[99,13,95,70],[99,16,95,73],[99,22,95,79,"supabase"],[99,39,95,87],[99,40,95,87,"supabase"],[99,48,95,87],[99,49,95,88,"auth"],[99,53,95,92],[99,54,95,93,"getSession"],[99,64,95,103],[99,65,95,104],[99,66,95,105],[100,12,97,20],[100,16,97,24,"error"],[100,21,97,29],[100,25,97,33],[100,26,97,34,"currentSession"],[100,40,97,48],[100,42,97,50],[101,14,98,24,"console"],[101,21,98,31],[101,22,98,32,"warn"],[101,26,98,36],[101,27,98,37],[101,71,98,81],[101,72,98,82],[102,14,99,24,"signOut"],[102,21,99,31],[102,22,99,32],[102,23,99,33],[103,12,100,20],[103,13,100,21],[103,19,100,27],[103,23,100,31,"currentSession"],[103,37,100,45],[103,38,100,46,"user"],[103,42,100,50],[103,43,100,51,"id"],[103,45,100,53],[103,50,100,58,"session"],[103,57,100,65],[103,58,100,66,"user"],[103,62,100,70],[103,63,100,71,"id"],[103,65,100,73],[103,67,100,75],[104,14,101,24],[105,14,102,24,"console"],[105,21,102,31],[105,22,102,32,"log"],[105,25,102,35],[105,26,102,36],[105,57,102,67],[105,58,102,68],[106,14,103,24,"window"],[106,20,103,30],[106,21,103,31,"location"],[106,29,103,39],[106,30,103,40,"reload"],[106,36,103,46],[106,37,103,47],[106,38,103,48],[107,12,104,20],[108,10,105,16],[108,11,105,17],[108,12,105,18],[108,19,105,25,"error"],[108,24,105,30],[108,26,105,32],[109,12,106,20,"console"],[109,19,106,27],[109,20,106,28,"error"],[109,25,106,33],[109,26,106,34],[109,51,106,59],[109,53,106,61,"error"],[109,58,106,66],[109,59,106,67],[110,10,107,16],[111,8,108,12],[112,6,109,8],[112,7,109,9],[113,6,111,8,"document"],[113,14,111,16],[113,15,111,17,"addEventListener"],[113,31,111,33],[113,32,111,34],[113,50,111,52],[113,52,111,54,"handleVisibilityChange"],[113,74,111,76],[113,75,111,77],[114,6,112,8],[114,13,112,15],[114,19,112,21,"document"],[114,27,112,29],[114,28,112,30,"removeEventListener"],[114,47,112,49],[114,48,112,50],[114,66,112,68],[114,68,112,70,"handleVisibilityChange"],[114,90,112,92],[114,91,112,93],[115,4,113,4],[115,5,113,5],[115,7,113,7],[115,8,113,8,"session"],[115,15,113,15],[115,16,113,16],[115,17,113,17],[116,4,115,4],[116,10,115,10,"initializeAuth"],[116,24,115,24],[116,27,115,27],[116,33,115,27,"initializeAuth"],[116,34,115,27],[116,39,115,39],[117,6,116,8],[117,10,116,12],[118,8,117,12],[118,14,117,18],[119,10,117,20,"data"],[119,14,117,24],[119,16,117,26],[120,12,117,28,"session"],[121,10,117,36],[122,8,117,38],[122,9,117,39],[122,12,117,42],[122,18,117,48,"supabase"],[122,35,117,56],[122,36,117,56,"supabase"],[122,44,117,56],[122,45,117,57,"auth"],[122,49,117,61],[122,50,117,62,"getSession"],[122,60,117,72],[122,61,117,73],[122,62,117,74],[123,8,118,12,"console"],[123,15,118,19],[123,16,118,20,"log"],[123,19,118,23],[123,20,118,24],[123,41,118,45],[123,43,118,47,"session"],[123,50,118,54],[123,52,118,56,"user"],[123,56,118,60],[123,58,118,62,"email"],[123,63,118,67],[123,64,118,68],[124,8,120,12],[124,12,120,16,"session"],[124,19,120,23],[124,21,120,25,"user"],[124,25,120,29],[124,27,120,31],[125,10,121,16,"setSession"],[125,20,121,26],[125,21,121,27,"session"],[125,28,121,34],[125,29,121,35],[126,10,122,16],[126,16,122,22,"profileData"],[126,27,122,33],[126,30,122,36],[126,36,122,42,"fetchProfile"],[126,48,122,54],[126,49,122,55,"session"],[126,56,122,62],[126,57,122,63,"user"],[126,61,122,67],[126,62,122,68,"id"],[126,64,122,70],[126,65,122,71],[127,10,123,16],[127,14,123,20,"profileData"],[127,25,123,31],[127,27,123,33],[128,12,124,20,"setUser"],[128,19,124,27],[128,20,124,28,"session"],[128,27,124,35],[128,28,124,36,"user"],[128,32,124,40],[128,33,124,41],[129,12,125,20,"setProfile"],[129,22,125,30],[129,23,125,31,"profileData"],[129,34,125,42],[129,35,125,43],[130,10,126,16],[130,11,126,17],[130,17,126,23],[131,12,127,20,"console"],[131,19,127,27],[131,20,127,28,"log"],[131,23,127,31],[131,24,127,32],[131,46,127,54],[131,47,127,55],[132,12,128,20,"setUser"],[132,19,128,27],[132,20,128,28],[132,24,128,32],[132,25,128,33],[133,10,129,16],[134,8,130,12],[135,6,131,8],[135,7,131,9],[135,8,131,10],[135,15,131,17,"error"],[135,20,131,27],[135,22,131,29],[136,8,132,12],[137,8,133,12],[137,12,133,16,"error"],[137,17,133,21],[137,18,133,22,"name"],[137,22,133,26],[137,27,133,31],[137,39,133,43],[137,43,133,47,"error"],[137,48,133,52],[137,50,133,54,"message"],[137,57,133,61],[137,59,133,63,"includes"],[137,67,133,71],[137,68,133,72],[137,77,133,81],[137,78,133,82],[137,80,133,84],[138,10,134,16,"console"],[138,17,134,23],[138,18,134,24,"log"],[138,21,134,27],[138,22,134,28],[138,61,134,67],[138,62,134,68],[139,8,135,12],[139,9,135,13],[139,15,135,19],[140,10,136,16,"console"],[140,17,136,23],[140,18,136,24,"error"],[140,23,136,29],[140,24,136,30],[140,42,136,48],[140,44,136,50,"error"],[140,49,136,55],[140,50,136,56],[141,8,137,12],[142,6,138,8],[142,7,138,9],[142,16,138,18],[143,8,139,12,"setLoading"],[143,18,139,22],[143,19,139,23],[143,24,139,28],[143,25,139,29],[144,6,140,8],[145,4,141,4],[145,5,141,5],[147,4,143,4],[148,4,144,4],[148,10,144,10,"fetchProfile"],[148,22,144,22],[148,25,144,25],[148,31,144,32,"userId"],[148,37,144,46],[148,41,144,72],[149,6,145,8],[150,6,146,8],[150,11,146,13],[150,15,146,17,"i"],[150,16,146,18],[150,19,146,21],[150,20,146,22],[150,22,146,24,"i"],[150,23,146,25],[150,26,146,28],[150,27,146,29],[150,29,146,31,"i"],[150,30,146,32],[150,32,146,34],[150,34,146,36],[151,8,147,12],[151,12,147,16],[152,10,148,16,"console"],[152,17,148,23],[152,18,148,24,"log"],[152,21,148,27],[152,22,148,28],[152,50,148,56,"userId"],[152,56,148,62],[152,69,148,75,"i"],[152,70,148,76],[152,73,148,79],[152,74,148,80],[152,77,148,83],[152,78,148,84],[154,10,150,16],[155,10,151,16],[155,16,151,22,"timeoutPromise"],[155,30,151,36],[155,33,151,39],[155,37,151,43,"Promise"],[155,44,151,50],[155,45,151,57],[155,46,151,58,"_"],[155,47,151,59],[155,49,151,61,"reject"],[155,55,151,67],[155,60,152,20,"setTimeout"],[155,70,152,30],[155,71,152,31],[155,77,152,37,"reject"],[155,83,152,43],[155,84,152,44],[155,88,152,48,"Error"],[155,93,152,53],[155,94,152,54],[155,117,152,77],[155,118,152,78],[155,119,152,79],[155,121,152,81],[155,125,152,85],[155,126,153,16],[155,127,153,17],[156,10,155,16],[156,16,155,22,"fetchPromise"],[156,28,155,34],[156,31,155,37,"supabase"],[156,48,155,45],[156,49,155,45,"supabase"],[156,57,155,45],[156,58,156,21,"from"],[156,62,156,25],[156,63,156,26],[156,73,156,36],[156,74,156,37],[156,75,157,21,"select"],[156,81,157,27],[156,82,157,28],[156,85,157,31],[156,86,157,32],[156,87,158,21,"eq"],[156,89,158,23],[156,90,158,24],[156,94,158,28],[156,96,158,30,"userId"],[156,102,158,36],[156,103,158,37],[156,104,159,21,"single"],[156,110,159,27],[156,111,159,28],[156,112,159,29],[157,10,161,16],[157,16,161,22],[158,12,161,24,"data"],[158,16,161,28],[159,12,161,30,"error"],[160,10,161,36],[160,11,161,37],[160,14,161,40],[160,20,161,46,"Promise"],[160,27,161,53],[160,28,161,54,"race"],[160,32,161,58],[160,33,161,59],[160,34,162,20,"fetchPromise"],[160,46,162,32],[160,48,163,20,"timeoutPromise"],[160,62,163,34],[160,63,164,17],[160,64,164,25],[161,10,166,16],[161,14,166,20,"error"],[161,19,166,25],[161,21,166,27],[162,12,167,20],[163,12,168,20],[163,16,168,24,"error"],[163,21,168,29],[163,22,168,30,"code"],[163,26,168,34],[163,31,168,39],[163,41,168,49],[163,43,168,51],[164,14,169,24,"console"],[164,21,169,31],[164,22,169,32,"log"],[164,25,169,35],[164,26,169,36],[164,68,169,78],[164,69,169,79],[165,14,170,24],[165,21,170,31],[165,25,170,35],[166,12,171,20],[168,12,173,20],[169,12,174,20,"console"],[169,19,174,27],[169,20,174,28,"warn"],[169,24,174,32],[169,25,174,33],[169,60,174,68,"i"],[169,61,174,69],[169,64,174,72],[169,65,174,73],[169,69,174,77],[169,71,174,79,"error"],[169,76,174,84],[169,77,174,85,"message"],[169,84,174,92],[169,85,174,93],[170,12,175,20],[170,16,175,24,"i"],[170,17,175,25],[170,22,175,30],[170,23,175,31],[170,25,175,33],[170,32,175,40],[170,36,175,44],[170,37,175,45],[170,38,175,46],[171,12,176,20],[171,18,176,26],[171,22,176,30,"Promise"],[171,29,176,37],[171,30,176,38,"r"],[171,31,176,39],[171,35,176,43,"setTimeout"],[171,45,176,53],[171,46,176,54,"r"],[171,47,176,55],[171,49,176,57],[171,52,176,60],[171,53,176,61],[171,54,176,62],[171,55,176,63],[171,56,176,64],[172,12,177,20],[173,10,178,16],[174,10,180,16],[174,14,180,20,"data"],[174,18,180,24],[174,20,180,26],[175,12,181,20,"console"],[175,19,181,27],[175,20,181,28,"log"],[175,23,181,31],[175,24,181,32],[175,42,181,50],[175,44,181,52,"data"],[175,48,181,56],[175,49,181,57,"email"],[175,54,181,62],[175,55,181,63],[176,12,182,20],[176,19,182,27,"data"],[176,23,182,31],[177,10,183,16],[177,11,183,17],[177,17,183,23],[178,12,184,20,"console"],[178,19,184,27],[178,20,184,28,"log"],[178,23,184,31],[178,24,184,32],[178,59,184,67],[178,60,184,68],[179,12,185,20],[179,19,185,27],[179,23,185,31],[180,10,186,16],[181,8,187,12],[181,9,187,13],[181,10,187,14],[181,17,187,21,"error"],[181,22,187,31],[181,24,187,33],[182,10,188,16,"console"],[182,17,188,23],[182,18,188,24,"error"],[182,23,188,29],[182,24,188,30],[182,62,188,68,"i"],[182,63,188,69],[182,66,188,72],[182,67,188,73],[182,71,188,77],[182,73,188,79,"error"],[182,78,188,84],[182,79,188,85,"message"],[182,86,188,92],[182,87,188,93],[183,10,189,16],[183,14,189,20,"i"],[183,15,189,21],[183,20,189,26],[183,21,189,27],[183,23,189,29],[183,30,189,36],[183,34,189,40],[184,10,190,16],[184,16,190,22],[184,20,190,26,"Promise"],[184,27,190,33],[184,28,190,34,"r"],[184,29,190,35],[184,33,190,39,"setTimeout"],[184,43,190,49],[184,44,190,50,"r"],[184,45,190,51],[184,47,190,53],[184,50,190,56],[184,51,190,57],[184,52,190,58],[185,8,191,12],[186,6,192,8],[187,6,193,8],[187,13,193,15],[187,17,193,19],[188,4,194,4],[188,5,194,5],[189,4,196,4],[189,10,196,10,"refreshProfile"],[189,24,196,24],[189,27,196,27],[189,33,196,27,"refreshProfile"],[189,34,196,27],[189,39,196,39],[190,6,197,8],[190,10,197,12,"session"],[190,17,197,19],[190,19,197,21,"user"],[190,23,197,25],[190,25,197,27],[191,8,198,12],[191,14,198,18,"profileData"],[191,25,198,29],[191,28,198,32],[191,34,198,38,"fetchProfile"],[191,46,198,50],[191,47,198,51,"session"],[191,54,198,58],[191,55,198,59,"user"],[191,59,198,63],[191,60,198,64,"id"],[191,62,198,66],[191,63,198,67],[192,8,199,12],[192,12,199,16,"profileData"],[192,23,199,27],[192,25,199,29],[193,10,200,16,"setProfile"],[193,20,200,26],[193,21,200,27,"profileData"],[193,32,200,38],[193,33,200,39],[194,10,201,16,"setUser"],[194,17,201,23],[194,18,201,24,"session"],[194,25,201,31],[194,26,201,32,"user"],[194,30,201,36],[194,31,201,37],[195,8,202,12],[196,6,203,8],[197,4,204,4],[197,5,204,5],[198,4,206,4],[198,10,206,10,"signOut"],[198,17,206,17],[198,20,206,20],[198,26,206,20,"signOut"],[198,27,206,20],[198,32,206,32],[199,6,207,8],[199,10,207,12],[200,8,208,12,"setSession"],[200,18,208,22],[200,19,208,23],[200,23,208,27],[200,24,208,28],[201,8,209,12,"setUser"],[201,15,209,19],[201,16,209,20],[201,20,209,24],[201,21,209,25],[202,8,210,12,"setProfile"],[202,18,210,22],[202,19,210,23],[202,23,210,27],[202,24,210,28],[203,8,211,12],[203,14,211,18,"supabase"],[203,31,211,26],[203,32,211,26,"supabase"],[203,40,211,26],[203,41,211,27,"auth"],[203,45,211,31],[203,46,211,32,"signOut"],[203,53,211,39],[203,54,211,40],[203,55,211,41],[204,6,212,8],[204,7,212,9],[204,8,212,10],[204,15,212,17,"error"],[204,20,212,22],[204,22,212,24],[205,8,213,12,"console"],[205,15,213,19],[205,16,213,20,"error"],[205,21,213,25],[205,22,213,26],[205,39,213,43],[205,41,213,45,"error"],[205,46,213,50],[205,47,213,51],[206,6,214,8],[207,4,215,4],[207,5,215,5],[208,4,217,4],[208,10,217,10,"value"],[208,15,217,15],[208,18,217,18],[209,6,218,8,"session"],[209,13,218,15],[210,6,219,8,"user"],[210,10,219,12],[211,6,220,8,"profile"],[211,13,220,15],[212,6,221,8,"loading"],[212,13,221,15],[213,6,222,8,"signOut"],[213,13,222,15],[214,6,223,8,"refreshProfile"],[215,4,224,4],[215,5,224,5],[216,4,226,4],[216,24,226,11],[216,28,226,11,"_reactJsxDevRuntime"],[216,47,226,11],[216,48,226,11,"jsxDEV"],[216,54,226,11],[216,56,226,12,"AuthContext"],[216,67,226,23],[216,68,226,24,"Provider"],[216,76,226,32],[217,6,226,33,"value"],[217,11,226,38],[217,13,226,40,"value"],[217,18,226,46],[218,6,226,46,"children"],[218,14,226,46],[218,16,226,48,"children"],[219,4,226,56],[220,6,226,56,"fileName"],[220,14,226,56],[220,16,226,56,"_jsxFileName"],[220,28,226,56],[221,6,226,56,"lineNumber"],[221,16,226,56],[222,6,226,56,"columnNumber"],[222,18,226,56],[223,4,226,56],[223,11,226,79],[223,12,226,80],[224,2,227,0],[225,2,229,7],[225,11,229,16,"useAuth"],[225,18,229,23,"useAuth"],[225,19,229,23],[225,21,229,26],[226,4,230,4],[226,10,230,10,"context"],[226,17,230,17],[226,20,230,20],[226,24,230,20,"useContext"],[226,30,230,30],[226,31,230,30,"useContext"],[226,41,230,30],[226,43,230,31,"AuthContext"],[226,54,230,42],[226,55,230,43],[227,4,231,4],[227,8,231,8,"context"],[227,15,231,15],[227,20,231,20,"undefined"],[227,29,231,29],[227,31,231,31],[228,6,232,8],[228,12,232,14],[228,16,232,18,"Error"],[228,21,232,23],[228,22,232,24],[228,67,232,69],[228,68,232,70],[229,4,233,4],[230,4,234,4],[230,11,234,11,"context"],[230,18,234,18],[231,2,235,0],[232,0,235,1],[232,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","supabase.auth.onAuthStateChange$argument_0","<anonymous>","handleVisibilityChange","initializeAuth","fetchProfile","Promise$argument_0","setTimeout$argument_0","refreshProfile","signOut","useAuth"],"mappings":"AAA;OCgB;cCM;YCY;aD8C;eEG,gCF;KDC;cCG;uCGG;SHkB;eEG,8EF;KDC;2BKE;KL0B;yBMG;yDCO;+BCC,gDD,OD;sCCwB,uBD;kCCc,uBD;KNI;2BSE;KTQ;oBUE;KVS;CDY;OYE;CZM"},"hasCjsExports":false},"type":"js/module"}]}