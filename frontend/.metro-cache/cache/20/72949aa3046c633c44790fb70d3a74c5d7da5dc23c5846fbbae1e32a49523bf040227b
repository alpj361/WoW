{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":86,"index":86}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":142},"end":{"line":3,"column":70,"index":212}}],"key":"KPiafkkHXMyy0AQm6tuLQc7uw64=","exportNames":["*"],"imports":1}},{"name":"../utils/authState","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":213},"end":{"line":4,"column":47,"index":260}}],"key":"NiKTyVyV9HlvikffeNdGsZOd0CQ=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/Users/pj/Desktop/Wow/frontend/src/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesSupabase = require(_dependencyMap[1], \"../services/supabase\");\n  var _utilsAuthState = require(_dependencyMap[2], \"../utils/authState\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    const [session, setSession] = (0, _react.useState)(null);\n    const [user, setUser] = (0, _react.useState)(null);\n    const [profile, setProfile] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const isInitializing = (0, _react.useRef)(false);\n\n    // Refs to track state inside callbacks without re-subscribing\n    const userRef = (0, _react.useRef)(null);\n    const profileRef = (0, _react.useRef)(null);\n    (0, _react.useEffect)(() => {\n      userRef.current = user;\n    }, [user]);\n    (0, _react.useEffect)(() => {\n      profileRef.current = profile;\n    }, [profile]);\n    (0, _react.useEffect)(() => {\n      if (!(0, _servicesSupabase.isSupabaseConfigured)()) {\n        console.log('âš ï¸ Supabase not configured');\n        setLoading(false);\n        return;\n      }\n\n      // Prevent race condition with double initialization\n      if (isInitializing.current) {\n        console.log('âš ï¸ Already initializing, skipping duplicate call');\n        return;\n      }\n      isInitializing.current = true;\n\n      // Get initial session\n      initializeAuth();\n\n      // Listen for auth changes\n      const {\n        data: {\n          subscription\n        }\n      } = _servicesSupabase.supabase.auth.onAuthStateChange(async (event, newSession) => {\n        console.log('ðŸ” Auth state change:', event, newSession?.user?.email);\n\n        // Check if auth-callback is processing - don't interfere\n        const isProcessing = _utilsAuthState.authState.getState().isProcessing;\n        if (isProcessing && event === 'SIGNED_IN') {\n          console.log('â³ Auth callback is processing, skipping profile check');\n          setSession(newSession);\n          // Don't set user yet - let auth-callback handle it\n          return;\n        }\n        if (event === 'SIGNED_IN' && newSession?.user) {\n          setSession(newSession);\n          // Check profile\n          const profileData = await fetchProfile(newSession.user.id);\n          if (profileData) {\n            console.log('âœ… Profile found in onAuthStateChange');\n            setUser(newSession.user);\n            setProfile(profileData);\n          } else {\n            // FIX: If we already have a user/profile and the fetch failed (likely timeout), \n            // don't kick them out immediately. Only kick out if we truly have no data.\n            // Use refs to check current state without closure staleness\n            if (userRef.current && profileRef.current && userRef.current.id === newSession.user.id) {\n              console.warn('âš ï¸ Profile fetch failed, but using cached profile data');\n              // Keep existing user/profile\n            } else {\n              // No profile = not fully registered\n              console.log('âŒ No profile in onAuthStateChange, user not set');\n              setUser(null);\n              setProfile(null);\n            }\n          }\n          setLoading(false);\n        } else if (event === 'SIGNED_OUT') {\n          console.log('ðŸšª SIGNED_OUT event received');\n          setSession(null);\n          setUser(null);\n          setProfile(null);\n          setLoading(false);\n        } else if (event === 'TOKEN_REFRESHED' && newSession?.user) {\n          // Token refresh - always re-fetch profile to ensure consistency\n          console.log('ðŸ”„ Token refreshed, re-validating profile');\n          setSession(newSession);\n          const profileData = await fetchProfile(newSession.user.id);\n          if (profileData) {\n            setUser(newSession.user);\n            setProfile(profileData);\n          } else {\n            // FIX: On token refresh, if profile fetch fails (timeout), \n            // ABSOLUTELY DO NOT SIGN OUT if we already have data.\n            if (userRef.current && profileRef.current && userRef.current.id === newSession.user.id) {\n              console.warn('âš ï¸ Profile fetch failed on refresh, keeping existing session');\n            } else {\n              console.warn('âš ï¸ Profile lost after token refresh, signing out');\n              signOut();\n            }\n          }\n        }\n      });\n      return () => subscription.unsubscribe();\n    }, []);\n\n    // Auto-recovery: Re-validate session when user returns to the page\n    (0, _react.useEffect)(() => {\n      if (true) return; // Only on web\n\n      const handleVisibilityChange = async () => {\n        if (document.visibilityState === 'visible' && session) {\n          console.log('ðŸ‘ï¸ Page visible, re-validating session');\n          try {\n            const {\n              data: {\n                session: currentSession\n              },\n              error\n            } = await _servicesSupabase.supabase.auth.getSession();\n            if (error || !currentSession) {\n              console.warn('âš ï¸ Session expired while away, signing out');\n              signOut();\n            } else if (currentSession.user.id !== session.user.id) {\n              // Session changed (different user) - reload\n              console.log('ðŸ”„ Session changed, reloading');\n              window.location.reload();\n            }\n          } catch (error) {\n            console.error('Error checking session:', error);\n          }\n        }\n      };\n      document.addEventListener('visibilitychange', handleVisibilityChange);\n      return () => document.removeEventListener('visibilitychange', handleVisibilityChange);\n    }, [session]);\n    const initializeAuth = async () => {\n      try {\n        const {\n          data: {\n            session\n          }\n        } = await _servicesSupabase.supabase.auth.getSession();\n        console.log('ðŸ” Initial session:', session?.user?.email);\n        if (session?.user) {\n          setSession(session);\n          const profileData = await fetchProfile(session.user.id);\n          if (profileData) {\n            setUser(session.user);\n            setProfile(profileData);\n          } else {\n            console.log('âŒ No profile on init');\n            setUser(null);\n          }\n        }\n      } catch (error) {\n        // Ignore abort errors which happen on hot reload or fast navigation\n        if (error.name === 'AbortError' || error?.message?.includes('aborted')) {\n          console.log('âš ï¸ Auth init aborted (safe to ignore)');\n        } else {\n          console.error('Init auth error:', error);\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    // Fetch profile, returns profile data or null\n    const fetchProfile = async userId => {\n      // Retry logic with faster timeout for profile fetch\n      for (let i = 0; i < 2; i++) {\n        try {\n          console.log(`ðŸ” Fetching profile for: ${userId} (attempt ${i + 1})`);\n\n          // Set a 15 second timeout for each attempt (increased from 5s)\n          const timeoutPromise = new Promise((_, reject) => setTimeout(() => reject(new Error('Profile fetch timeout')), 15000));\n          const fetchPromise = _servicesSupabase.supabase.from('profiles').select('*').eq('id', userId).single();\n          const {\n            data,\n            error\n          } = await Promise.race([fetchPromise, timeoutPromise]);\n          if (error) {\n            // If it's a \"not found\" error, return null immediately (no retry)\n            if (error.code === 'PGRST116') {\n              console.log('âŒ No profile found (user not registered)');\n              return null;\n            }\n\n            // For other errors, retry\n            console.warn(`âš ï¸ Profile fetch error (attempt ${i + 1}):`, error.message);\n            if (i === 1) return null; // Give up after 2 tries\n            await new Promise(r => setTimeout(r, 500)); // Wait 500ms\n            continue;\n          }\n          if (data) {\n            console.log('âœ… Profile found:', data.email);\n            return data;\n          } else {\n            console.log('âŒ No profile found (data is null)');\n            return null;\n          }\n        } catch (error) {\n          console.error(`âŒ Profile fetch exception (attempt ${i + 1}):`, error.message);\n          if (i === 1) return null;\n          await new Promise(r => setTimeout(r, 500));\n        }\n      }\n      return null;\n    };\n    const refreshProfile = async () => {\n      if (session?.user) {\n        const profileData = await fetchProfile(session.user.id);\n        if (profileData) {\n          setProfile(profileData);\n          setUser(session.user);\n        }\n      }\n    };\n    const signOut = async () => {\n      try {\n        setSession(null);\n        setUser(null);\n        setProfile(null);\n        await _servicesSupabase.supabase.auth.signOut();\n      } catch (error) {\n        console.error('Sign out error:', error);\n      }\n    };\n    const value = {\n      session,\n      user,\n      profile,\n      loading,\n      signOut,\n      refreshProfile\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 12\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":264,"map":[[8,2,17,0,"exports"],[8,9,17,0],[8,10,17,0,"AuthProvider"],[8,22,17,0],[8,25,17,0,"AuthProvider"],[8,37,17,0],[9,2,258,0,"exports"],[9,9,258,0],[9,10,258,0,"useAuth"],[9,17,258,0],[9,20,258,0,"useAuth"],[9,27,258,0],[10,2,1,0],[10,6,1,0,"_react"],[10,12,1,0],[10,15,1,0,"require"],[10,22,1,0],[10,23,1,0,"_dependencyMap"],[10,37,1,0],[11,2,3,0],[11,6,3,0,"_servicesSupabase"],[11,23,3,0],[11,26,3,0,"require"],[11,33,3,0],[11,34,3,0,"_dependencyMap"],[11,48,3,0],[12,2,4,0],[12,6,4,0,"_utilsAuthState"],[12,21,4,0],[12,24,4,0,"require"],[12,31,4,0],[12,32,4,0,"_dependencyMap"],[12,46,4,0],[13,2,4,47],[13,6,4,47,"_reactJsxDevRuntime"],[13,25,4,47],[13,28,4,47,"require"],[13,35,4,47],[13,36,4,47,"_dependencyMap"],[13,50,4,47],[14,2,15,0],[14,8,15,6,"AuthContext"],[14,19,15,17],[14,35,15,20],[14,39,15,20,"createContext"],[14,45,15,33],[14,46,15,33,"createContext"],[14,59,15,33],[14,61,15,63,"undefined"],[14,70,15,72],[14,71,15,73],[15,2,17,7],[15,11,17,16,"AuthProvider"],[15,23,17,28,"AuthProvider"],[15,24,17,29],[16,4,17,31,"children"],[17,2,17,71],[17,3,17,72],[17,5,17,74],[18,4,18,4],[18,10,18,10],[18,11,18,11,"session"],[18,18,18,18],[18,20,18,20,"setSession"],[18,30,18,30],[18,31,18,31],[18,34,18,34],[18,38,18,34,"useState"],[18,44,18,42],[18,45,18,42,"useState"],[18,53,18,42],[18,55,18,59],[18,59,18,63],[18,60,18,64],[19,4,19,4],[19,10,19,10],[19,11,19,11,"user"],[19,15,19,15],[19,17,19,17,"setUser"],[19,24,19,24],[19,25,19,25],[19,28,19,28],[19,32,19,28,"useState"],[19,38,19,36],[19,39,19,36,"useState"],[19,47,19,36],[19,49,19,50],[19,53,19,54],[19,54,19,55],[20,4,20,4],[20,10,20,10],[20,11,20,11,"profile"],[20,18,20,18],[20,20,20,20,"setProfile"],[20,30,20,30],[20,31,20,31],[20,34,20,34],[20,38,20,34,"useState"],[20,44,20,42],[20,45,20,42,"useState"],[20,53,20,42],[20,55,20,55],[20,59,20,59],[20,60,20,60],[21,4,21,4],[21,10,21,10],[21,11,21,11,"loading"],[21,18,21,18],[21,20,21,20,"setLoading"],[21,30,21,30],[21,31,21,31],[21,34,21,34],[21,38,21,34,"useState"],[21,44,21,42],[21,45,21,42,"useState"],[21,53,21,42],[21,55,21,43],[21,59,21,47],[21,60,21,48],[22,4,22,4],[22,10,22,10,"isInitializing"],[22,24,22,24],[22,27,22,27],[22,31,22,27,"useRef"],[22,37,22,33],[22,38,22,33,"useRef"],[22,44,22,33],[22,46,22,34],[22,51,22,39],[22,52,22,40],[24,4,24,4],[25,4,25,4],[25,10,25,10,"userRef"],[25,17,25,17],[25,20,25,20],[25,24,25,20,"useRef"],[25,30,25,26],[25,31,25,26,"useRef"],[25,37,25,26],[25,39,25,40],[25,43,25,44],[25,44,25,45],[26,4,26,4],[26,10,26,10,"profileRef"],[26,20,26,20],[26,23,26,23],[26,27,26,23,"useRef"],[26,33,26,29],[26,34,26,29,"useRef"],[26,40,26,29],[26,42,26,42],[26,46,26,46],[26,47,26,47],[27,4,28,4],[27,8,28,4,"useEffect"],[27,14,28,13],[27,15,28,13,"useEffect"],[27,24,28,13],[27,26,28,14],[27,32,28,20],[28,6,28,22,"userRef"],[28,13,28,29],[28,14,28,30,"current"],[28,21,28,37],[28,24,28,40,"user"],[28,28,28,44],[29,4,28,46],[29,5,28,47],[29,7,28,49],[29,8,28,50,"user"],[29,12,28,54],[29,13,28,55],[29,14,28,56],[30,4,29,4],[30,8,29,4,"useEffect"],[30,14,29,13],[30,15,29,13,"useEffect"],[30,24,29,13],[30,26,29,14],[30,32,29,20],[31,6,29,22,"profileRef"],[31,16,29,32],[31,17,29,33,"current"],[31,24,29,40],[31,27,29,43,"profile"],[31,34,29,50],[32,4,29,52],[32,5,29,53],[32,7,29,55],[32,8,29,56,"profile"],[32,15,29,63],[32,16,29,64],[32,17,29,65],[33,4,31,4],[33,8,31,4,"useEffect"],[33,14,31,13],[33,15,31,13,"useEffect"],[33,24,31,13],[33,26,31,14],[33,32,31,20],[34,6,32,8],[34,10,32,12],[34,11,32,13],[34,15,32,13,"isSupabaseConfigured"],[34,32,32,33],[34,33,32,33,"isSupabaseConfigured"],[34,53,32,33],[34,55,32,34],[34,56,32,35],[34,58,32,37],[35,8,33,12,"console"],[35,15,33,19],[35,16,33,20,"log"],[35,19,33,23],[35,20,33,24],[35,48,33,52],[35,49,33,53],[36,8,34,12,"setLoading"],[36,18,34,22],[36,19,34,23],[36,24,34,28],[36,25,34,29],[37,8,35,12],[38,6,36,8],[40,6,38,8],[41,6,39,8],[41,10,39,12,"isInitializing"],[41,24,39,26],[41,25,39,27,"current"],[41,32,39,34],[41,34,39,36],[42,8,40,12,"console"],[42,15,40,19],[42,16,40,20,"log"],[42,19,40,23],[42,20,40,24],[42,70,40,74],[42,71,40,75],[43,8,41,12],[44,6,42,8],[45,6,43,8,"isInitializing"],[45,20,43,22],[45,21,43,23,"current"],[45,28,43,30],[45,31,43,33],[45,35,43,37],[47,6,45,8],[48,6,46,8,"initializeAuth"],[48,20,46,22],[48,21,46,23],[48,22,46,24],[50,6,48,8],[51,6,49,8],[51,12,49,14],[52,8,49,16,"data"],[52,12,49,20],[52,14,49,22],[53,10,49,24,"subscription"],[54,8,49,37],[55,6,49,39],[55,7,49,40],[55,10,49,43,"supabase"],[55,27,49,51],[55,28,49,51,"supabase"],[55,36,49,51],[55,37,49,52,"auth"],[55,41,49,56],[55,42,49,57,"onAuthStateChange"],[55,59,49,74],[55,60,50,12],[55,67,50,19,"event"],[55,72,50,24],[55,74,50,26,"newSession"],[55,84,50,36],[55,89,50,41],[56,8,51,16,"console"],[56,15,51,23],[56,16,51,24,"log"],[56,19,51,27],[56,20,51,28],[56,43,51,51],[56,45,51,53,"event"],[56,50,51,58],[56,52,51,60,"newSession"],[56,62,51,70],[56,64,51,72,"user"],[56,68,51,76],[56,70,51,78,"email"],[56,75,51,83],[56,76,51,84],[58,8,53,16],[59,8,54,16],[59,14,54,22,"isProcessing"],[59,26,54,34],[59,29,54,37,"authState"],[59,44,54,46],[59,45,54,46,"authState"],[59,54,54,46],[59,55,54,47,"getState"],[59,63,54,55],[59,64,54,56],[59,65,54,57],[59,66,54,58,"isProcessing"],[59,78,54,70],[60,8,55,16],[60,12,55,20,"isProcessing"],[60,24,55,32],[60,28,55,36,"event"],[60,33,55,41],[60,38,55,46],[60,49,55,57],[60,51,55,59],[61,10,56,20,"console"],[61,17,56,27],[61,18,56,28,"log"],[61,21,56,31],[61,22,56,32],[61,77,56,87],[61,78,56,88],[62,10,57,20,"setSession"],[62,20,57,30],[62,21,57,31,"newSession"],[62,31,57,41],[62,32,57,42],[63,10,58,20],[64,10,59,20],[65,8,60,16],[66,8,62,16],[66,12,62,20,"event"],[66,17,62,25],[66,22,62,30],[66,33,62,41],[66,37,62,45,"newSession"],[66,47,62,55],[66,49,62,57,"user"],[66,53,62,61],[66,55,62,63],[67,10,63,20,"setSession"],[67,20,63,30],[67,21,63,31,"newSession"],[67,31,63,41],[67,32,63,42],[68,10,64,20],[69,10,65,20],[69,16,65,26,"profileData"],[69,27,65,37],[69,30,65,40],[69,36,65,46,"fetchProfile"],[69,48,65,58],[69,49,65,59,"newSession"],[69,59,65,69],[69,60,65,70,"user"],[69,64,65,74],[69,65,65,75,"id"],[69,67,65,77],[69,68,65,78],[70,10,66,20],[70,14,66,24,"profileData"],[70,25,66,35],[70,27,66,37],[71,12,67,24,"console"],[71,19,67,31],[71,20,67,32,"log"],[71,23,67,35],[71,24,67,36],[71,62,67,74],[71,63,67,75],[72,12,68,24,"setUser"],[72,19,68,31],[72,20,68,32,"newSession"],[72,30,68,42],[72,31,68,43,"user"],[72,35,68,47],[72,36,68,48],[73,12,69,24,"setProfile"],[73,22,69,34],[73,23,69,35,"profileData"],[73,34,69,46],[73,35,69,47],[74,10,70,20],[74,11,70,21],[74,17,70,27],[75,12,71,24],[76,12,72,24],[77,12,73,24],[78,12,74,24],[78,16,74,28,"userRef"],[78,23,74,35],[78,24,74,36,"current"],[78,31,74,43],[78,35,74,47,"profileRef"],[78,45,74,57],[78,46,74,58,"current"],[78,53,74,65],[78,57,74,69,"userRef"],[78,64,74,76],[78,65,74,77,"current"],[78,72,74,84],[78,73,74,85,"id"],[78,75,74,87],[78,80,74,92,"newSession"],[78,90,74,102],[78,91,74,103,"user"],[78,95,74,107],[78,96,74,108,"id"],[78,98,74,110],[78,100,74,112],[79,14,75,28,"console"],[79,21,75,35],[79,22,75,36,"warn"],[79,26,75,40],[79,27,75,41],[79,83,75,97],[79,84,75,98],[80,14,76,28],[81,12,77,24],[81,13,77,25],[81,19,77,31],[82,14,78,28],[83,14,79,28,"console"],[83,21,79,35],[83,22,79,36,"log"],[83,25,79,39],[83,26,79,40],[83,75,79,89],[83,76,79,90],[84,14,80,28,"setUser"],[84,21,80,35],[84,22,80,36],[84,26,80,40],[84,27,80,41],[85,14,81,28,"setProfile"],[85,24,81,38],[85,25,81,39],[85,29,81,43],[85,30,81,44],[86,12,82,24],[87,10,83,20],[88,10,84,20,"setLoading"],[88,20,84,30],[88,21,84,31],[88,26,84,36],[88,27,84,37],[89,8,85,16],[89,9,85,17],[89,15,85,23],[89,19,85,27,"event"],[89,24,85,32],[89,29,85,37],[89,41,85,49],[89,43,85,51],[90,10,86,20,"console"],[90,17,86,27],[90,18,86,28,"log"],[90,21,86,31],[90,22,86,32],[90,52,86,62],[90,53,86,63],[91,10,87,20,"setSession"],[91,20,87,30],[91,21,87,31],[91,25,87,35],[91,26,87,36],[92,10,88,20,"setUser"],[92,17,88,27],[92,18,88,28],[92,22,88,32],[92,23,88,33],[93,10,89,20,"setProfile"],[93,20,89,30],[93,21,89,31],[93,25,89,35],[93,26,89,36],[94,10,90,20,"setLoading"],[94,20,90,30],[94,21,90,31],[94,26,90,36],[94,27,90,37],[95,8,91,16],[95,9,91,17],[95,15,91,23],[95,19,91,27,"event"],[95,24,91,32],[95,29,91,37],[95,46,91,54],[95,50,91,58,"newSession"],[95,60,91,68],[95,62,91,70,"user"],[95,66,91,74],[95,68,91,76],[96,10,92,20],[97,10,93,20,"console"],[97,17,93,27],[97,18,93,28,"log"],[97,21,93,31],[97,22,93,32],[97,65,93,75],[97,66,93,76],[98,10,94,20,"setSession"],[98,20,94,30],[98,21,94,31,"newSession"],[98,31,94,41],[98,32,94,42],[99,10,95,20],[99,16,95,26,"profileData"],[99,27,95,37],[99,30,95,40],[99,36,95,46,"fetchProfile"],[99,48,95,58],[99,49,95,59,"newSession"],[99,59,95,69],[99,60,95,70,"user"],[99,64,95,74],[99,65,95,75,"id"],[99,67,95,77],[99,68,95,78],[100,10,96,20],[100,14,96,24,"profileData"],[100,25,96,35],[100,27,96,37],[101,12,97,24,"setUser"],[101,19,97,31],[101,20,97,32,"newSession"],[101,30,97,42],[101,31,97,43,"user"],[101,35,97,47],[101,36,97,48],[102,12,98,24,"setProfile"],[102,22,98,34],[102,23,98,35,"profileData"],[102,34,98,46],[102,35,98,47],[103,10,99,20],[103,11,99,21],[103,17,99,27],[104,12,100,24],[105,12,101,24],[106,12,102,24],[106,16,102,28,"userRef"],[106,23,102,35],[106,24,102,36,"current"],[106,31,102,43],[106,35,102,47,"profileRef"],[106,45,102,57],[106,46,102,58,"current"],[106,53,102,65],[106,57,102,69,"userRef"],[106,64,102,76],[106,65,102,77,"current"],[106,72,102,84],[106,73,102,85,"id"],[106,75,102,87],[106,80,102,92,"newSession"],[106,90,102,102],[106,91,102,103,"user"],[106,95,102,107],[106,96,102,108,"id"],[106,98,102,110],[106,100,102,112],[107,14,103,28,"console"],[107,21,103,35],[107,22,103,36,"warn"],[107,26,103,40],[107,27,103,41],[107,89,103,103],[107,90,103,104],[108,12,104,24],[108,13,104,25],[108,19,104,31],[109,14,105,28,"console"],[109,21,105,35],[109,22,105,36,"warn"],[109,26,105,40],[109,27,105,41],[109,77,105,91],[109,78,105,92],[110,14,106,28,"signOut"],[110,21,106,35],[110,22,106,36],[110,23,106,37],[111,12,107,24],[112,10,108,20],[113,8,109,16],[114,6,110,12],[114,7,111,8],[114,8,111,9],[115,6,113,8],[115,13,113,15],[115,19,113,21,"subscription"],[115,31,113,33],[115,32,113,34,"unsubscribe"],[115,43,113,45],[115,44,113,46],[115,45,113,47],[116,4,114,4],[116,5,114,5],[116,7,114,7],[116,9,114,9],[116,10,114,10],[118,4,116,4],[119,4,117,4],[119,8,117,4,"useEffect"],[119,14,117,13],[119,15,117,13,"useEffect"],[119,24,117,13],[119,26,117,14],[119,32,117,20],[120,6,118,8],[120,16,118,43],[120,23,118,50],[120,24,118,51],[122,6,120,8],[122,12,120,14,"handleVisibilityChange"],[122,34,120,36],[122,37,120,39],[122,43,120,39,"handleVisibilityChange"],[122,44,120,39],[122,49,120,51],[123,8,121,12],[123,12,121,16,"document"],[123,20,121,24],[123,21,121,25,"visibilityState"],[123,36,121,40],[123,41,121,45],[123,50,121,54],[123,54,121,58,"session"],[123,61,121,65],[123,63,121,67],[124,10,122,16,"console"],[124,17,122,23],[124,18,122,24,"log"],[124,21,122,27],[124,22,122,28],[124,63,122,69],[124,64,122,70],[125,10,123,16],[125,14,123,20],[126,12,124,20],[126,18,124,26],[127,14,124,28,"data"],[127,18,124,32],[127,20,124,34],[128,16,124,36,"session"],[128,23,124,43],[128,25,124,45,"currentSession"],[129,14,124,60],[129,15,124,61],[130,14,124,63,"error"],[131,12,124,69],[131,13,124,70],[131,16,124,73],[131,22,124,79,"supabase"],[131,39,124,87],[131,40,124,87,"supabase"],[131,48,124,87],[131,49,124,88,"auth"],[131,53,124,92],[131,54,124,93,"getSession"],[131,64,124,103],[131,65,124,104],[131,66,124,105],[132,12,126,20],[132,16,126,24,"error"],[132,21,126,29],[132,25,126,33],[132,26,126,34,"currentSession"],[132,40,126,48],[132,42,126,50],[133,14,127,24,"console"],[133,21,127,31],[133,22,127,32,"warn"],[133,26,127,36],[133,27,127,37],[133,71,127,81],[133,72,127,82],[134,14,128,24,"signOut"],[134,21,128,31],[134,22,128,32],[134,23,128,33],[135,12,129,20],[135,13,129,21],[135,19,129,27],[135,23,129,31,"currentSession"],[135,37,129,45],[135,38,129,46,"user"],[135,42,129,50],[135,43,129,51,"id"],[135,45,129,53],[135,50,129,58,"session"],[135,57,129,65],[135,58,129,66,"user"],[135,62,129,70],[135,63,129,71,"id"],[135,65,129,73],[135,67,129,75],[136,14,130,24],[137,14,131,24,"console"],[137,21,131,31],[137,22,131,32,"log"],[137,25,131,35],[137,26,131,36],[137,57,131,67],[137,58,131,68],[138,14,132,24,"window"],[138,20,132,30],[138,21,132,31,"location"],[138,29,132,39],[138,30,132,40,"reload"],[138,36,132,46],[138,37,132,47],[138,38,132,48],[139,12,133,20],[140,10,134,16],[140,11,134,17],[140,12,134,18],[140,19,134,25,"error"],[140,24,134,30],[140,26,134,32],[141,12,135,20,"console"],[141,19,135,27],[141,20,135,28,"error"],[141,25,135,33],[141,26,135,34],[141,51,135,59],[141,53,135,61,"error"],[141,58,135,66],[141,59,135,67],[142,10,136,16],[143,8,137,12],[144,6,138,8],[144,7,138,9],[145,6,140,8,"document"],[145,14,140,16],[145,15,140,17,"addEventListener"],[145,31,140,33],[145,32,140,34],[145,50,140,52],[145,52,140,54,"handleVisibilityChange"],[145,74,140,76],[145,75,140,77],[146,6,141,8],[146,13,141,15],[146,19,141,21,"document"],[146,27,141,29],[146,28,141,30,"removeEventListener"],[146,47,141,49],[146,48,141,50],[146,66,141,68],[146,68,141,70,"handleVisibilityChange"],[146,90,141,92],[146,91,141,93],[147,4,142,4],[147,5,142,5],[147,7,142,7],[147,8,142,8,"session"],[147,15,142,15],[147,16,142,16],[147,17,142,17],[148,4,144,4],[148,10,144,10,"initializeAuth"],[148,24,144,24],[148,27,144,27],[148,33,144,27,"initializeAuth"],[148,34,144,27],[148,39,144,39],[149,6,145,8],[149,10,145,12],[150,8,146,12],[150,14,146,18],[151,10,146,20,"data"],[151,14,146,24],[151,16,146,26],[152,12,146,28,"session"],[153,10,146,36],[154,8,146,38],[154,9,146,39],[154,12,146,42],[154,18,146,48,"supabase"],[154,35,146,56],[154,36,146,56,"supabase"],[154,44,146,56],[154,45,146,57,"auth"],[154,49,146,61],[154,50,146,62,"getSession"],[154,60,146,72],[154,61,146,73],[154,62,146,74],[155,8,147,12,"console"],[155,15,147,19],[155,16,147,20,"log"],[155,19,147,23],[155,20,147,24],[155,41,147,45],[155,43,147,47,"session"],[155,50,147,54],[155,52,147,56,"user"],[155,56,147,60],[155,58,147,62,"email"],[155,63,147,67],[155,64,147,68],[156,8,149,12],[156,12,149,16,"session"],[156,19,149,23],[156,21,149,25,"user"],[156,25,149,29],[156,27,149,31],[157,10,150,16,"setSession"],[157,20,150,26],[157,21,150,27,"session"],[157,28,150,34],[157,29,150,35],[158,10,151,16],[158,16,151,22,"profileData"],[158,27,151,33],[158,30,151,36],[158,36,151,42,"fetchProfile"],[158,48,151,54],[158,49,151,55,"session"],[158,56,151,62],[158,57,151,63,"user"],[158,61,151,67],[158,62,151,68,"id"],[158,64,151,70],[158,65,151,71],[159,10,152,16],[159,14,152,20,"profileData"],[159,25,152,31],[159,27,152,33],[160,12,153,20,"setUser"],[160,19,153,27],[160,20,153,28,"session"],[160,27,153,35],[160,28,153,36,"user"],[160,32,153,40],[160,33,153,41],[161,12,154,20,"setProfile"],[161,22,154,30],[161,23,154,31,"profileData"],[161,34,154,42],[161,35,154,43],[162,10,155,16],[162,11,155,17],[162,17,155,23],[163,12,156,20,"console"],[163,19,156,27],[163,20,156,28,"log"],[163,23,156,31],[163,24,156,32],[163,46,156,54],[163,47,156,55],[164,12,157,20,"setUser"],[164,19,157,27],[164,20,157,28],[164,24,157,32],[164,25,157,33],[165,10,158,16],[166,8,159,12],[167,6,160,8],[167,7,160,9],[167,8,160,10],[167,15,160,17,"error"],[167,20,160,27],[167,22,160,29],[168,8,161,12],[169,8,162,12],[169,12,162,16,"error"],[169,17,162,21],[169,18,162,22,"name"],[169,22,162,26],[169,27,162,31],[169,39,162,43],[169,43,162,47,"error"],[169,48,162,52],[169,50,162,54,"message"],[169,57,162,61],[169,59,162,63,"includes"],[169,67,162,71],[169,68,162,72],[169,77,162,81],[169,78,162,82],[169,80,162,84],[170,10,163,16,"console"],[170,17,163,23],[170,18,163,24,"log"],[170,21,163,27],[170,22,163,28],[170,61,163,67],[170,62,163,68],[171,8,164,12],[171,9,164,13],[171,15,164,19],[172,10,165,16,"console"],[172,17,165,23],[172,18,165,24,"error"],[172,23,165,29],[172,24,165,30],[172,42,165,48],[172,44,165,50,"error"],[172,49,165,55],[172,50,165,56],[173,8,166,12],[174,6,167,8],[174,7,167,9],[174,16,167,18],[175,8,168,12,"setLoading"],[175,18,168,22],[175,19,168,23],[175,24,168,28],[175,25,168,29],[176,6,169,8],[177,4,170,4],[177,5,170,5],[179,4,172,4],[180,4,173,4],[180,10,173,10,"fetchProfile"],[180,22,173,22],[180,25,173,25],[180,31,173,32,"userId"],[180,37,173,46],[180,41,173,72],[181,6,174,8],[182,6,175,8],[182,11,175,13],[182,15,175,17,"i"],[182,16,175,18],[182,19,175,21],[182,20,175,22],[182,22,175,24,"i"],[182,23,175,25],[182,26,175,28],[182,27,175,29],[182,29,175,31,"i"],[182,30,175,32],[182,32,175,34],[182,34,175,36],[183,8,176,12],[183,12,176,16],[184,10,177,16,"console"],[184,17,177,23],[184,18,177,24,"log"],[184,21,177,27],[184,22,177,28],[184,50,177,56,"userId"],[184,56,177,62],[184,69,177,75,"i"],[184,70,177,76],[184,73,177,79],[184,74,177,80],[184,77,177,83],[184,78,177,84],[186,10,179,16],[187,10,180,16],[187,16,180,22,"timeoutPromise"],[187,30,180,36],[187,33,180,39],[187,37,180,43,"Promise"],[187,44,180,50],[187,45,180,57],[187,46,180,58,"_"],[187,47,180,59],[187,49,180,61,"reject"],[187,55,180,67],[187,60,181,20,"setTimeout"],[187,70,181,30],[187,71,181,31],[187,77,181,37,"reject"],[187,83,181,43],[187,84,181,44],[187,88,181,48,"Error"],[187,93,181,53],[187,94,181,54],[187,117,181,77],[187,118,181,78],[187,119,181,79],[187,121,181,81],[187,126,181,86],[187,127,182,16],[187,128,182,17],[188,10,184,16],[188,16,184,22,"fetchPromise"],[188,28,184,34],[188,31,184,37,"supabase"],[188,48,184,45],[188,49,184,45,"supabase"],[188,57,184,45],[188,58,185,21,"from"],[188,62,185,25],[188,63,185,26],[188,73,185,36],[188,74,185,37],[188,75,186,21,"select"],[188,81,186,27],[188,82,186,28],[188,85,186,31],[188,86,186,32],[188,87,187,21,"eq"],[188,89,187,23],[188,90,187,24],[188,94,187,28],[188,96,187,30,"userId"],[188,102,187,36],[188,103,187,37],[188,104,188,21,"single"],[188,110,188,27],[188,111,188,28],[188,112,188,29],[189,10,190,16],[189,16,190,22],[190,12,190,24,"data"],[190,16,190,28],[191,12,190,30,"error"],[192,10,190,36],[192,11,190,37],[192,14,190,40],[192,20,190,46,"Promise"],[192,27,190,53],[192,28,190,54,"race"],[192,32,190,58],[192,33,190,59],[192,34,191,20,"fetchPromise"],[192,46,191,32],[192,48,192,20,"timeoutPromise"],[192,62,192,34],[192,63,193,17],[192,64,193,25],[193,10,195,16],[193,14,195,20,"error"],[193,19,195,25],[193,21,195,27],[194,12,196,20],[195,12,197,20],[195,16,197,24,"error"],[195,21,197,29],[195,22,197,30,"code"],[195,26,197,34],[195,31,197,39],[195,41,197,49],[195,43,197,51],[196,14,198,24,"console"],[196,21,198,31],[196,22,198,32,"log"],[196,25,198,35],[196,26,198,36],[196,68,198,78],[196,69,198,79],[197,14,199,24],[197,21,199,31],[197,25,199,35],[198,12,200,20],[200,12,202,20],[201,12,203,20,"console"],[201,19,203,27],[201,20,203,28,"warn"],[201,24,203,32],[201,25,203,33],[201,60,203,68,"i"],[201,61,203,69],[201,64,203,72],[201,65,203,73],[201,69,203,77],[201,71,203,79,"error"],[201,76,203,84],[201,77,203,85,"message"],[201,84,203,92],[201,85,203,93],[202,12,204,20],[202,16,204,24,"i"],[202,17,204,25],[202,22,204,30],[202,23,204,31],[202,25,204,33],[202,32,204,40],[202,36,204,44],[202,37,204,45],[202,38,204,46],[203,12,205,20],[203,18,205,26],[203,22,205,30,"Promise"],[203,29,205,37],[203,30,205,38,"r"],[203,31,205,39],[203,35,205,43,"setTimeout"],[203,45,205,53],[203,46,205,54,"r"],[203,47,205,55],[203,49,205,57],[203,52,205,60],[203,53,205,61],[203,54,205,62],[203,55,205,63],[203,56,205,64],[204,12,206,20],[205,10,207,16],[206,10,209,16],[206,14,209,20,"data"],[206,18,209,24],[206,20,209,26],[207,12,210,20,"console"],[207,19,210,27],[207,20,210,28,"log"],[207,23,210,31],[207,24,210,32],[207,42,210,50],[207,44,210,52,"data"],[207,48,210,56],[207,49,210,57,"email"],[207,54,210,62],[207,55,210,63],[208,12,211,20],[208,19,211,27,"data"],[208,23,211,31],[209,10,212,16],[209,11,212,17],[209,17,212,23],[210,12,213,20,"console"],[210,19,213,27],[210,20,213,28,"log"],[210,23,213,31],[210,24,213,32],[210,59,213,67],[210,60,213,68],[211,12,214,20],[211,19,214,27],[211,23,214,31],[212,10,215,16],[213,8,216,12],[213,9,216,13],[213,10,216,14],[213,17,216,21,"error"],[213,22,216,31],[213,24,216,33],[214,10,217,16,"console"],[214,17,217,23],[214,18,217,24,"error"],[214,23,217,29],[214,24,217,30],[214,62,217,68,"i"],[214,63,217,69],[214,66,217,72],[214,67,217,73],[214,71,217,77],[214,73,217,79,"error"],[214,78,217,84],[214,79,217,85,"message"],[214,86,217,92],[214,87,217,93],[215,10,218,16],[215,14,218,20,"i"],[215,15,218,21],[215,20,218,26],[215,21,218,27],[215,23,218,29],[215,30,218,36],[215,34,218,40],[216,10,219,16],[216,16,219,22],[216,20,219,26,"Promise"],[216,27,219,33],[216,28,219,34,"r"],[216,29,219,35],[216,33,219,39,"setTimeout"],[216,43,219,49],[216,44,219,50,"r"],[216,45,219,51],[216,47,219,53],[216,50,219,56],[216,51,219,57],[216,52,219,58],[217,8,220,12],[218,6,221,8],[219,6,222,8],[219,13,222,15],[219,17,222,19],[220,4,223,4],[220,5,223,5],[221,4,225,4],[221,10,225,10,"refreshProfile"],[221,24,225,24],[221,27,225,27],[221,33,225,27,"refreshProfile"],[221,34,225,27],[221,39,225,39],[222,6,226,8],[222,10,226,12,"session"],[222,17,226,19],[222,19,226,21,"user"],[222,23,226,25],[222,25,226,27],[223,8,227,12],[223,14,227,18,"profileData"],[223,25,227,29],[223,28,227,32],[223,34,227,38,"fetchProfile"],[223,46,227,50],[223,47,227,51,"session"],[223,54,227,58],[223,55,227,59,"user"],[223,59,227,63],[223,60,227,64,"id"],[223,62,227,66],[223,63,227,67],[224,8,228,12],[224,12,228,16,"profileData"],[224,23,228,27],[224,25,228,29],[225,10,229,16,"setProfile"],[225,20,229,26],[225,21,229,27,"profileData"],[225,32,229,38],[225,33,229,39],[226,10,230,16,"setUser"],[226,17,230,23],[226,18,230,24,"session"],[226,25,230,31],[226,26,230,32,"user"],[226,30,230,36],[226,31,230,37],[227,8,231,12],[228,6,232,8],[229,4,233,4],[229,5,233,5],[230,4,235,4],[230,10,235,10,"signOut"],[230,17,235,17],[230,20,235,20],[230,26,235,20,"signOut"],[230,27,235,20],[230,32,235,32],[231,6,236,8],[231,10,236,12],[232,8,237,12,"setSession"],[232,18,237,22],[232,19,237,23],[232,23,237,27],[232,24,237,28],[233,8,238,12,"setUser"],[233,15,238,19],[233,16,238,20],[233,20,238,24],[233,21,238,25],[234,8,239,12,"setProfile"],[234,18,239,22],[234,19,239,23],[234,23,239,27],[234,24,239,28],[235,8,240,12],[235,14,240,18,"supabase"],[235,31,240,26],[235,32,240,26,"supabase"],[235,40,240,26],[235,41,240,27,"auth"],[235,45,240,31],[235,46,240,32,"signOut"],[235,53,240,39],[235,54,240,40],[235,55,240,41],[236,6,241,8],[236,7,241,9],[236,8,241,10],[236,15,241,17,"error"],[236,20,241,22],[236,22,241,24],[237,8,242,12,"console"],[237,15,242,19],[237,16,242,20,"error"],[237,21,242,25],[237,22,242,26],[237,39,242,43],[237,41,242,45,"error"],[237,46,242,50],[237,47,242,51],[238,6,243,8],[239,4,244,4],[239,5,244,5],[240,4,246,4],[240,10,246,10,"value"],[240,15,246,15],[240,18,246,18],[241,6,247,8,"session"],[241,13,247,15],[242,6,248,8,"user"],[242,10,248,12],[243,6,249,8,"profile"],[243,13,249,15],[244,6,250,8,"loading"],[244,13,250,15],[245,6,251,8,"signOut"],[245,13,251,15],[246,6,252,8,"refreshProfile"],[247,4,253,4],[247,5,253,5],[248,4,255,4],[248,24,255,11],[248,28,255,11,"_reactJsxDevRuntime"],[248,47,255,11],[248,48,255,11,"jsxDEV"],[248,54,255,11],[248,56,255,12,"AuthContext"],[248,67,255,23],[248,68,255,24,"Provider"],[248,76,255,32],[249,6,255,33,"value"],[249,11,255,38],[249,13,255,40,"value"],[249,18,255,46],[250,6,255,46,"children"],[250,14,255,46],[250,16,255,48,"children"],[251,4,255,56],[252,6,255,56,"fileName"],[252,14,255,56],[252,16,255,56,"_jsxFileName"],[252,28,255,56],[253,6,255,56,"lineNumber"],[253,16,255,56],[254,6,255,56,"columnNumber"],[254,18,255,56],[255,4,255,56],[255,11,255,79],[255,12,255,80],[256,2,256,0],[257,2,258,7],[257,11,258,16,"useAuth"],[257,18,258,23,"useAuth"],[257,19,258,23],[257,21,258,26],[258,4,259,4],[258,10,259,10,"context"],[258,17,259,17],[258,20,259,20],[258,24,259,20,"useContext"],[258,30,259,30],[258,31,259,30,"useContext"],[258,41,259,30],[258,43,259,31,"AuthContext"],[258,54,259,42],[258,55,259,43],[259,4,260,4],[259,8,260,8,"context"],[259,15,260,15],[259,20,260,20,"undefined"],[259,29,260,29],[259,31,260,31],[260,6,261,8],[260,12,261,14],[260,16,261,18,"Error"],[260,21,261,23],[260,22,261,24],[260,67,261,69],[260,68,261,70],[261,4,262,4],[262,4,263,4],[262,11,263,11,"context"],[262,18,263,18],[263,2,264,0],[264,0,264,1],[264,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","supabase.auth.onAuthStateChange$argument_0","<anonymous>","handleVisibilityChange","initializeAuth","fetchProfile","Promise$argument_0","setTimeout$argument_0","refreshProfile","signOut","useAuth"],"mappings":"AAA;OCgB;cCW,iCD;cCC,uCD;cCE;YCmB;aD4D;eEG,gCF;KDC;cCG;uCGG;SHkB;eEG,8EF;KDC;2BKE;KL0B;yBMG;yDCO;+BCC,gDD,QD;sCCwB,uBD;kCCc,uBD;KNI;2BSE;KTQ;oBUE;KVS;CDY;OYE;CZM"},"hasCjsExports":false},"type":"js/module"}]}