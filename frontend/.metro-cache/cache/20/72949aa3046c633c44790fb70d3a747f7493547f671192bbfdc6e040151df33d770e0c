{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":86,"index":86}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":142},"end":{"line":3,"column":70,"index":212}}],"key":"KPiafkkHXMyy0AQm6tuLQc7uw64=","exportNames":["*"],"imports":1}},{"name":"../utils/authState","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":213},"end":{"line":4,"column":47,"index":260}}],"key":"NiKTyVyV9HlvikffeNdGsZOd0CQ=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/Users/pj/Desktop/Wow/frontend/src/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesSupabase = require(_dependencyMap[1], \"../services/supabase\");\n  var _utilsAuthState = require(_dependencyMap[2], \"../utils/authState\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    const [session, setSession] = (0, _react.useState)(null);\n    const [user, setUser] = (0, _react.useState)(null);\n    const [profile, setProfile] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const isInitializing = (0, _react.useRef)(false);\n    (0, _react.useEffect)(() => {\n      if (!(0, _servicesSupabase.isSupabaseConfigured)()) {\n        console.log('âš ï¸ Supabase not configured');\n        setLoading(false);\n        return;\n      }\n\n      // Prevent race condition with double initialization\n      if (isInitializing.current) {\n        console.log('âš ï¸ Already initializing, skipping duplicate call');\n        return;\n      }\n      isInitializing.current = true;\n\n      // Get initial session\n      initializeAuth();\n\n      // Listen for auth changes\n      const {\n        data: {\n          subscription\n        }\n      } = _servicesSupabase.supabase.auth.onAuthStateChange(async (event, newSession) => {\n        console.log('ðŸ” Auth state change:', event, newSession?.user?.email);\n\n        // Check if auth-callback is processing - don't interfere\n        const isProcessing = _utilsAuthState.authState.getState().isProcessing;\n        if (isProcessing && event === 'SIGNED_IN') {\n          console.log('â³ Auth callback is processing, skipping profile check');\n          setSession(newSession);\n          // Don't set user yet - let auth-callback handle it\n          return;\n        }\n        if (event === 'SIGNED_IN' && newSession?.user) {\n          setSession(newSession);\n          // Check profile\n          const profileData = await fetchProfile(newSession.user.id);\n          if (profileData) {\n            console.log('âœ… Profile found in onAuthStateChange');\n            setUser(newSession.user);\n            setProfile(profileData);\n          } else {\n            // No profile = not fully registered\n            console.log('âŒ No profile in onAuthStateChange, user not set');\n            setUser(null);\n            setProfile(null);\n          }\n          setLoading(false);\n        } else if (event === 'SIGNED_OUT') {\n          console.log('ðŸšª SIGNED_OUT event received');\n          setSession(null);\n          setUser(null);\n          setProfile(null);\n          setLoading(false);\n        } else if (event === 'TOKEN_REFRESHED' && newSession?.user) {\n          // Token refresh - always re-fetch profile to ensure consistency\n          console.log('ðŸ”„ Token refreshed, re-validating profile');\n          setSession(newSession);\n          const profileData = await fetchProfile(newSession.user.id);\n          if (profileData) {\n            setUser(newSession.user);\n            setProfile(profileData);\n          } else {\n            console.warn('âš ï¸ Profile lost after token refresh, signing out');\n            signOut();\n          }\n        }\n      });\n      return () => subscription.unsubscribe();\n    }, []);\n\n    // Auto-recovery: Re-validate session when user returns to the page\n    (0, _react.useEffect)(() => {\n      if (true) return; // Only on web\n\n      const handleVisibilityChange = async () => {\n        if (document.visibilityState === 'visible' && session) {\n          console.log('ðŸ‘ï¸ Page visible, re-validating session');\n          try {\n            const {\n              data: {\n                session: currentSession\n              },\n              error\n            } = await _servicesSupabase.supabase.auth.getSession();\n            if (error || !currentSession) {\n              console.warn('âš ï¸ Session expired while away, signing out');\n              signOut();\n            } else if (currentSession.user.id !== session.user.id) {\n              // Session changed (different user) - reload\n              console.log('ðŸ”„ Session changed, reloading');\n              window.location.reload();\n            }\n          } catch (error) {\n            console.error('Error checking session:', error);\n          }\n        }\n      };\n      document.addEventListener('visibilitychange', handleVisibilityChange);\n      return () => document.removeEventListener('visibilitychange', handleVisibilityChange);\n    }, [session]);\n    const initializeAuth = async () => {\n      try {\n        const {\n          data: {\n            session\n          }\n        } = await _servicesSupabase.supabase.auth.getSession();\n        console.log('ðŸ” Initial session:', session?.user?.email);\n        if (session?.user) {\n          setSession(session);\n          const profileData = await fetchProfile(session.user.id);\n          if (profileData) {\n            setUser(session.user);\n            setProfile(profileData);\n          } else {\n            console.log('âŒ No profile on init');\n            setUser(null);\n          }\n        }\n      } catch (error) {\n        // Ignore abort errors which happen on hot reload or fast navigation\n        if (error.name === 'AbortError' || error?.message?.includes('aborted')) {\n          console.log('âš ï¸ Auth init aborted (safe to ignore)');\n        } else {\n          console.error('Init auth error:', error);\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    // Fetch profile, returns profile data or null\n    const fetchProfile = async userId => {\n      // Retry logic with faster timeout for profile fetch\n      for (let i = 0; i < 2; i++) {\n        try {\n          console.log(`ðŸ” Fetching profile for: ${userId} (attempt ${i + 1})`);\n\n          // Set a 5 second timeout for each attempt\n          const timeoutPromise = new Promise((_, reject) => setTimeout(() => reject(new Error('Profile fetch timeout')), 5000));\n          const fetchPromise = _servicesSupabase.supabase.from('profiles').select('*').eq('id', userId).single();\n          const {\n            data,\n            error\n          } = await Promise.race([fetchPromise, timeoutPromise]);\n          if (error) {\n            // If it's a \"not found\" error, return null immediately (no retry)\n            if (error.code === 'PGRST116') {\n              console.log('âŒ No profile found (user not registered)');\n              return null;\n            }\n\n            // For other errors, retry\n            console.warn(`âš ï¸ Profile fetch error (attempt ${i + 1}):`, error.message);\n            if (i === 1) return null; // Give up after 2 tries\n            await new Promise(r => setTimeout(r, 500)); // Wait 500ms\n            continue;\n          }\n          if (data) {\n            console.log('âœ… Profile found:', data.email);\n            return data;\n          } else {\n            console.log('âŒ No profile found (data is null)');\n            return null;\n          }\n        } catch (error) {\n          console.error(`âŒ Profile fetch exception (attempt ${i + 1}):`, error.message);\n          if (i === 1) return null;\n          await new Promise(r => setTimeout(r, 500));\n        }\n      }\n      return null;\n    };\n    const refreshProfile = async () => {\n      if (session?.user) {\n        const profileData = await fetchProfile(session.user.id);\n        if (profileData) {\n          setProfile(profileData);\n          setUser(session.user);\n        }\n      }\n    };\n    const signOut = async () => {\n      try {\n        setSession(null);\n        setUser(null);\n        setProfile(null);\n        await _servicesSupabase.supabase.auth.signOut();\n      } catch (error) {\n        console.error('Sign out error:', error);\n      }\n    };\n    const value = {\n      session,\n      user,\n      profile,\n      loading,\n      signOut,\n      refreshProfile\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 12\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":240,"map":[[8,2,17,0,"exports"],[8,9,17,0],[8,10,17,0,"AuthProvider"],[8,22,17,0],[8,25,17,0,"AuthProvider"],[8,37,17,0],[9,2,237,0,"exports"],[9,9,237,0],[9,10,237,0,"useAuth"],[9,17,237,0],[9,20,237,0,"useAuth"],[9,27,237,0],[10,2,1,0],[10,6,1,0,"_react"],[10,12,1,0],[10,15,1,0,"require"],[10,22,1,0],[10,23,1,0,"_dependencyMap"],[10,37,1,0],[11,2,3,0],[11,6,3,0,"_servicesSupabase"],[11,23,3,0],[11,26,3,0,"require"],[11,33,3,0],[11,34,3,0,"_dependencyMap"],[11,48,3,0],[12,2,4,0],[12,6,4,0,"_utilsAuthState"],[12,21,4,0],[12,24,4,0,"require"],[12,31,4,0],[12,32,4,0,"_dependencyMap"],[12,46,4,0],[13,2,4,47],[13,6,4,47,"_reactJsxDevRuntime"],[13,25,4,47],[13,28,4,47,"require"],[13,35,4,47],[13,36,4,47,"_dependencyMap"],[13,50,4,47],[14,2,15,0],[14,8,15,6,"AuthContext"],[14,19,15,17],[14,35,15,20],[14,39,15,20,"createContext"],[14,45,15,33],[14,46,15,33,"createContext"],[14,59,15,33],[14,61,15,63,"undefined"],[14,70,15,72],[14,71,15,73],[15,2,17,7],[15,11,17,16,"AuthProvider"],[15,23,17,28,"AuthProvider"],[15,24,17,29],[16,4,17,31,"children"],[17,2,17,71],[17,3,17,72],[17,5,17,74],[18,4,18,4],[18,10,18,10],[18,11,18,11,"session"],[18,18,18,18],[18,20,18,20,"setSession"],[18,30,18,30],[18,31,18,31],[18,34,18,34],[18,38,18,34,"useState"],[18,44,18,42],[18,45,18,42,"useState"],[18,53,18,42],[18,55,18,59],[18,59,18,63],[18,60,18,64],[19,4,19,4],[19,10,19,10],[19,11,19,11,"user"],[19,15,19,15],[19,17,19,17,"setUser"],[19,24,19,24],[19,25,19,25],[19,28,19,28],[19,32,19,28,"useState"],[19,38,19,36],[19,39,19,36,"useState"],[19,47,19,36],[19,49,19,50],[19,53,19,54],[19,54,19,55],[20,4,20,4],[20,10,20,10],[20,11,20,11,"profile"],[20,18,20,18],[20,20,20,20,"setProfile"],[20,30,20,30],[20,31,20,31],[20,34,20,34],[20,38,20,34,"useState"],[20,44,20,42],[20,45,20,42,"useState"],[20,53,20,42],[20,55,20,55],[20,59,20,59],[20,60,20,60],[21,4,21,4],[21,10,21,10],[21,11,21,11,"loading"],[21,18,21,18],[21,20,21,20,"setLoading"],[21,30,21,30],[21,31,21,31],[21,34,21,34],[21,38,21,34,"useState"],[21,44,21,42],[21,45,21,42,"useState"],[21,53,21,42],[21,55,21,43],[21,59,21,47],[21,60,21,48],[22,4,22,4],[22,10,22,10,"isInitializing"],[22,24,22,24],[22,27,22,27],[22,31,22,27,"useRef"],[22,37,22,33],[22,38,22,33,"useRef"],[22,44,22,33],[22,46,22,34],[22,51,22,39],[22,52,22,40],[23,4,24,4],[23,8,24,4,"useEffect"],[23,14,24,13],[23,15,24,13,"useEffect"],[23,24,24,13],[23,26,24,14],[23,32,24,20],[24,6,25,8],[24,10,25,12],[24,11,25,13],[24,15,25,13,"isSupabaseConfigured"],[24,32,25,33],[24,33,25,33,"isSupabaseConfigured"],[24,53,25,33],[24,55,25,34],[24,56,25,35],[24,58,25,37],[25,8,26,12,"console"],[25,15,26,19],[25,16,26,20,"log"],[25,19,26,23],[25,20,26,24],[25,48,26,52],[25,49,26,53],[26,8,27,12,"setLoading"],[26,18,27,22],[26,19,27,23],[26,24,27,28],[26,25,27,29],[27,8,28,12],[28,6,29,8],[30,6,31,8],[31,6,32,8],[31,10,32,12,"isInitializing"],[31,24,32,26],[31,25,32,27,"current"],[31,32,32,34],[31,34,32,36],[32,8,33,12,"console"],[32,15,33,19],[32,16,33,20,"log"],[32,19,33,23],[32,20,33,24],[32,70,33,74],[32,71,33,75],[33,8,34,12],[34,6,35,8],[35,6,36,8,"isInitializing"],[35,20,36,22],[35,21,36,23,"current"],[35,28,36,30],[35,31,36,33],[35,35,36,37],[37,6,38,8],[38,6,39,8,"initializeAuth"],[38,20,39,22],[38,21,39,23],[38,22,39,24],[40,6,41,8],[41,6,42,8],[41,12,42,14],[42,8,42,16,"data"],[42,12,42,20],[42,14,42,22],[43,10,42,24,"subscription"],[44,8,42,37],[45,6,42,39],[45,7,42,40],[45,10,42,43,"supabase"],[45,27,42,51],[45,28,42,51,"supabase"],[45,36,42,51],[45,37,42,52,"auth"],[45,41,42,56],[45,42,42,57,"onAuthStateChange"],[45,59,42,74],[45,60,43,12],[45,67,43,19,"event"],[45,72,43,24],[45,74,43,26,"newSession"],[45,84,43,36],[45,89,43,41],[46,8,44,16,"console"],[46,15,44,23],[46,16,44,24,"log"],[46,19,44,27],[46,20,44,28],[46,43,44,51],[46,45,44,53,"event"],[46,50,44,58],[46,52,44,60,"newSession"],[46,62,44,70],[46,64,44,72,"user"],[46,68,44,76],[46,70,44,78,"email"],[46,75,44,83],[46,76,44,84],[48,8,46,16],[49,8,47,16],[49,14,47,22,"isProcessing"],[49,26,47,34],[49,29,47,37,"authState"],[49,44,47,46],[49,45,47,46,"authState"],[49,54,47,46],[49,55,47,47,"getState"],[49,63,47,55],[49,64,47,56],[49,65,47,57],[49,66,47,58,"isProcessing"],[49,78,47,70],[50,8,48,16],[50,12,48,20,"isProcessing"],[50,24,48,32],[50,28,48,36,"event"],[50,33,48,41],[50,38,48,46],[50,49,48,57],[50,51,48,59],[51,10,49,20,"console"],[51,17,49,27],[51,18,49,28,"log"],[51,21,49,31],[51,22,49,32],[51,77,49,87],[51,78,49,88],[52,10,50,20,"setSession"],[52,20,50,30],[52,21,50,31,"newSession"],[52,31,50,41],[52,32,50,42],[53,10,51,20],[54,10,52,20],[55,8,53,16],[56,8,55,16],[56,12,55,20,"event"],[56,17,55,25],[56,22,55,30],[56,33,55,41],[56,37,55,45,"newSession"],[56,47,55,55],[56,49,55,57,"user"],[56,53,55,61],[56,55,55,63],[57,10,56,20,"setSession"],[57,20,56,30],[57,21,56,31,"newSession"],[57,31,56,41],[57,32,56,42],[58,10,57,20],[59,10,58,20],[59,16,58,26,"profileData"],[59,27,58,37],[59,30,58,40],[59,36,58,46,"fetchProfile"],[59,48,58,58],[59,49,58,59,"newSession"],[59,59,58,69],[59,60,58,70,"user"],[59,64,58,74],[59,65,58,75,"id"],[59,67,58,77],[59,68,58,78],[60,10,59,20],[60,14,59,24,"profileData"],[60,25,59,35],[60,27,59,37],[61,12,60,24,"console"],[61,19,60,31],[61,20,60,32,"log"],[61,23,60,35],[61,24,60,36],[61,62,60,74],[61,63,60,75],[62,12,61,24,"setUser"],[62,19,61,31],[62,20,61,32,"newSession"],[62,30,61,42],[62,31,61,43,"user"],[62,35,61,47],[62,36,61,48],[63,12,62,24,"setProfile"],[63,22,62,34],[63,23,62,35,"profileData"],[63,34,62,46],[63,35,62,47],[64,10,63,20],[64,11,63,21],[64,17,63,27],[65,12,64,24],[66,12,65,24,"console"],[66,19,65,31],[66,20,65,32,"log"],[66,23,65,35],[66,24,65,36],[66,73,65,85],[66,74,65,86],[67,12,66,24,"setUser"],[67,19,66,31],[67,20,66,32],[67,24,66,36],[67,25,66,37],[68,12,67,24,"setProfile"],[68,22,67,34],[68,23,67,35],[68,27,67,39],[68,28,67,40],[69,10,68,20],[70,10,69,20,"setLoading"],[70,20,69,30],[70,21,69,31],[70,26,69,36],[70,27,69,37],[71,8,70,16],[71,9,70,17],[71,15,70,23],[71,19,70,27,"event"],[71,24,70,32],[71,29,70,37],[71,41,70,49],[71,43,70,51],[72,10,71,20,"console"],[72,17,71,27],[72,18,71,28,"log"],[72,21,71,31],[72,22,71,32],[72,52,71,62],[72,53,71,63],[73,10,72,20,"setSession"],[73,20,72,30],[73,21,72,31],[73,25,72,35],[73,26,72,36],[74,10,73,20,"setUser"],[74,17,73,27],[74,18,73,28],[74,22,73,32],[74,23,73,33],[75,10,74,20,"setProfile"],[75,20,74,30],[75,21,74,31],[75,25,74,35],[75,26,74,36],[76,10,75,20,"setLoading"],[76,20,75,30],[76,21,75,31],[76,26,75,36],[76,27,75,37],[77,8,76,16],[77,9,76,17],[77,15,76,23],[77,19,76,27,"event"],[77,24,76,32],[77,29,76,37],[77,46,76,54],[77,50,76,58,"newSession"],[77,60,76,68],[77,62,76,70,"user"],[77,66,76,74],[77,68,76,76],[78,10,77,20],[79,10,78,20,"console"],[79,17,78,27],[79,18,78,28,"log"],[79,21,78,31],[79,22,78,32],[79,65,78,75],[79,66,78,76],[80,10,79,20,"setSession"],[80,20,79,30],[80,21,79,31,"newSession"],[80,31,79,41],[80,32,79,42],[81,10,80,20],[81,16,80,26,"profileData"],[81,27,80,37],[81,30,80,40],[81,36,80,46,"fetchProfile"],[81,48,80,58],[81,49,80,59,"newSession"],[81,59,80,69],[81,60,80,70,"user"],[81,64,80,74],[81,65,80,75,"id"],[81,67,80,77],[81,68,80,78],[82,10,81,20],[82,14,81,24,"profileData"],[82,25,81,35],[82,27,81,37],[83,12,82,24,"setUser"],[83,19,82,31],[83,20,82,32,"newSession"],[83,30,82,42],[83,31,82,43,"user"],[83,35,82,47],[83,36,82,48],[84,12,83,24,"setProfile"],[84,22,83,34],[84,23,83,35,"profileData"],[84,34,83,46],[84,35,83,47],[85,10,84,20],[85,11,84,21],[85,17,84,27],[86,12,85,24,"console"],[86,19,85,31],[86,20,85,32,"warn"],[86,24,85,36],[86,25,85,37],[86,75,85,87],[86,76,85,88],[87,12,86,24,"signOut"],[87,19,86,31],[87,20,86,32],[87,21,86,33],[88,10,87,20],[89,8,88,16],[90,6,89,12],[90,7,90,8],[90,8,90,9],[91,6,92,8],[91,13,92,15],[91,19,92,21,"subscription"],[91,31,92,33],[91,32,92,34,"unsubscribe"],[91,43,92,45],[91,44,92,46],[91,45,92,47],[92,4,93,4],[92,5,93,5],[92,7,93,7],[92,9,93,9],[92,10,93,10],[94,4,95,4],[95,4,96,4],[95,8,96,4,"useEffect"],[95,14,96,13],[95,15,96,13,"useEffect"],[95,24,96,13],[95,26,96,14],[95,32,96,20],[96,6,97,8],[96,16,97,43],[96,23,97,50],[96,24,97,51],[98,6,99,8],[98,12,99,14,"handleVisibilityChange"],[98,34,99,36],[98,37,99,39],[98,43,99,39,"handleVisibilityChange"],[98,44,99,39],[98,49,99,51],[99,8,100,12],[99,12,100,16,"document"],[99,20,100,24],[99,21,100,25,"visibilityState"],[99,36,100,40],[99,41,100,45],[99,50,100,54],[99,54,100,58,"session"],[99,61,100,65],[99,63,100,67],[100,10,101,16,"console"],[100,17,101,23],[100,18,101,24,"log"],[100,21,101,27],[100,22,101,28],[100,63,101,69],[100,64,101,70],[101,10,102,16],[101,14,102,20],[102,12,103,20],[102,18,103,26],[103,14,103,28,"data"],[103,18,103,32],[103,20,103,34],[104,16,103,36,"session"],[104,23,103,43],[104,25,103,45,"currentSession"],[105,14,103,60],[105,15,103,61],[106,14,103,63,"error"],[107,12,103,69],[107,13,103,70],[107,16,103,73],[107,22,103,79,"supabase"],[107,39,103,87],[107,40,103,87,"supabase"],[107,48,103,87],[107,49,103,88,"auth"],[107,53,103,92],[107,54,103,93,"getSession"],[107,64,103,103],[107,65,103,104],[107,66,103,105],[108,12,105,20],[108,16,105,24,"error"],[108,21,105,29],[108,25,105,33],[108,26,105,34,"currentSession"],[108,40,105,48],[108,42,105,50],[109,14,106,24,"console"],[109,21,106,31],[109,22,106,32,"warn"],[109,26,106,36],[109,27,106,37],[109,71,106,81],[109,72,106,82],[110,14,107,24,"signOut"],[110,21,107,31],[110,22,107,32],[110,23,107,33],[111,12,108,20],[111,13,108,21],[111,19,108,27],[111,23,108,31,"currentSession"],[111,37,108,45],[111,38,108,46,"user"],[111,42,108,50],[111,43,108,51,"id"],[111,45,108,53],[111,50,108,58,"session"],[111,57,108,65],[111,58,108,66,"user"],[111,62,108,70],[111,63,108,71,"id"],[111,65,108,73],[111,67,108,75],[112,14,109,24],[113,14,110,24,"console"],[113,21,110,31],[113,22,110,32,"log"],[113,25,110,35],[113,26,110,36],[113,57,110,67],[113,58,110,68],[114,14,111,24,"window"],[114,20,111,30],[114,21,111,31,"location"],[114,29,111,39],[114,30,111,40,"reload"],[114,36,111,46],[114,37,111,47],[114,38,111,48],[115,12,112,20],[116,10,113,16],[116,11,113,17],[116,12,113,18],[116,19,113,25,"error"],[116,24,113,30],[116,26,113,32],[117,12,114,20,"console"],[117,19,114,27],[117,20,114,28,"error"],[117,25,114,33],[117,26,114,34],[117,51,114,59],[117,53,114,61,"error"],[117,58,114,66],[117,59,114,67],[118,10,115,16],[119,8,116,12],[120,6,117,8],[120,7,117,9],[121,6,119,8,"document"],[121,14,119,16],[121,15,119,17,"addEventListener"],[121,31,119,33],[121,32,119,34],[121,50,119,52],[121,52,119,54,"handleVisibilityChange"],[121,74,119,76],[121,75,119,77],[122,6,120,8],[122,13,120,15],[122,19,120,21,"document"],[122,27,120,29],[122,28,120,30,"removeEventListener"],[122,47,120,49],[122,48,120,50],[122,66,120,68],[122,68,120,70,"handleVisibilityChange"],[122,90,120,92],[122,91,120,93],[123,4,121,4],[123,5,121,5],[123,7,121,7],[123,8,121,8,"session"],[123,15,121,15],[123,16,121,16],[123,17,121,17],[124,4,123,4],[124,10,123,10,"initializeAuth"],[124,24,123,24],[124,27,123,27],[124,33,123,27,"initializeAuth"],[124,34,123,27],[124,39,123,39],[125,6,124,8],[125,10,124,12],[126,8,125,12],[126,14,125,18],[127,10,125,20,"data"],[127,14,125,24],[127,16,125,26],[128,12,125,28,"session"],[129,10,125,36],[130,8,125,38],[130,9,125,39],[130,12,125,42],[130,18,125,48,"supabase"],[130,35,125,56],[130,36,125,56,"supabase"],[130,44,125,56],[130,45,125,57,"auth"],[130,49,125,61],[130,50,125,62,"getSession"],[130,60,125,72],[130,61,125,73],[130,62,125,74],[131,8,126,12,"console"],[131,15,126,19],[131,16,126,20,"log"],[131,19,126,23],[131,20,126,24],[131,41,126,45],[131,43,126,47,"session"],[131,50,126,54],[131,52,126,56,"user"],[131,56,126,60],[131,58,126,62,"email"],[131,63,126,67],[131,64,126,68],[132,8,128,12],[132,12,128,16,"session"],[132,19,128,23],[132,21,128,25,"user"],[132,25,128,29],[132,27,128,31],[133,10,129,16,"setSession"],[133,20,129,26],[133,21,129,27,"session"],[133,28,129,34],[133,29,129,35],[134,10,130,16],[134,16,130,22,"profileData"],[134,27,130,33],[134,30,130,36],[134,36,130,42,"fetchProfile"],[134,48,130,54],[134,49,130,55,"session"],[134,56,130,62],[134,57,130,63,"user"],[134,61,130,67],[134,62,130,68,"id"],[134,64,130,70],[134,65,130,71],[135,10,131,16],[135,14,131,20,"profileData"],[135,25,131,31],[135,27,131,33],[136,12,132,20,"setUser"],[136,19,132,27],[136,20,132,28,"session"],[136,27,132,35],[136,28,132,36,"user"],[136,32,132,40],[136,33,132,41],[137,12,133,20,"setProfile"],[137,22,133,30],[137,23,133,31,"profileData"],[137,34,133,42],[137,35,133,43],[138,10,134,16],[138,11,134,17],[138,17,134,23],[139,12,135,20,"console"],[139,19,135,27],[139,20,135,28,"log"],[139,23,135,31],[139,24,135,32],[139,46,135,54],[139,47,135,55],[140,12,136,20,"setUser"],[140,19,136,27],[140,20,136,28],[140,24,136,32],[140,25,136,33],[141,10,137,16],[142,8,138,12],[143,6,139,8],[143,7,139,9],[143,8,139,10],[143,15,139,17,"error"],[143,20,139,27],[143,22,139,29],[144,8,140,12],[145,8,141,12],[145,12,141,16,"error"],[145,17,141,21],[145,18,141,22,"name"],[145,22,141,26],[145,27,141,31],[145,39,141,43],[145,43,141,47,"error"],[145,48,141,52],[145,50,141,54,"message"],[145,57,141,61],[145,59,141,63,"includes"],[145,67,141,71],[145,68,141,72],[145,77,141,81],[145,78,141,82],[145,80,141,84],[146,10,142,16,"console"],[146,17,142,23],[146,18,142,24,"log"],[146,21,142,27],[146,22,142,28],[146,61,142,67],[146,62,142,68],[147,8,143,12],[147,9,143,13],[147,15,143,19],[148,10,144,16,"console"],[148,17,144,23],[148,18,144,24,"error"],[148,23,144,29],[148,24,144,30],[148,42,144,48],[148,44,144,50,"error"],[148,49,144,55],[148,50,144,56],[149,8,145,12],[150,6,146,8],[150,7,146,9],[150,16,146,18],[151,8,147,12,"setLoading"],[151,18,147,22],[151,19,147,23],[151,24,147,28],[151,25,147,29],[152,6,148,8],[153,4,149,4],[153,5,149,5],[155,4,151,4],[156,4,152,4],[156,10,152,10,"fetchProfile"],[156,22,152,22],[156,25,152,25],[156,31,152,32,"userId"],[156,37,152,46],[156,41,152,72],[157,6,153,8],[158,6,154,8],[158,11,154,13],[158,15,154,17,"i"],[158,16,154,18],[158,19,154,21],[158,20,154,22],[158,22,154,24,"i"],[158,23,154,25],[158,26,154,28],[158,27,154,29],[158,29,154,31,"i"],[158,30,154,32],[158,32,154,34],[158,34,154,36],[159,8,155,12],[159,12,155,16],[160,10,156,16,"console"],[160,17,156,23],[160,18,156,24,"log"],[160,21,156,27],[160,22,156,28],[160,50,156,56,"userId"],[160,56,156,62],[160,69,156,75,"i"],[160,70,156,76],[160,73,156,79],[160,74,156,80],[160,77,156,83],[160,78,156,84],[162,10,158,16],[163,10,159,16],[163,16,159,22,"timeoutPromise"],[163,30,159,36],[163,33,159,39],[163,37,159,43,"Promise"],[163,44,159,50],[163,45,159,57],[163,46,159,58,"_"],[163,47,159,59],[163,49,159,61,"reject"],[163,55,159,67],[163,60,160,20,"setTimeout"],[163,70,160,30],[163,71,160,31],[163,77,160,37,"reject"],[163,83,160,43],[163,84,160,44],[163,88,160,48,"Error"],[163,93,160,53],[163,94,160,54],[163,117,160,77],[163,118,160,78],[163,119,160,79],[163,121,160,81],[163,125,160,85],[163,126,161,16],[163,127,161,17],[164,10,163,16],[164,16,163,22,"fetchPromise"],[164,28,163,34],[164,31,163,37,"supabase"],[164,48,163,45],[164,49,163,45,"supabase"],[164,57,163,45],[164,58,164,21,"from"],[164,62,164,25],[164,63,164,26],[164,73,164,36],[164,74,164,37],[164,75,165,21,"select"],[164,81,165,27],[164,82,165,28],[164,85,165,31],[164,86,165,32],[164,87,166,21,"eq"],[164,89,166,23],[164,90,166,24],[164,94,166,28],[164,96,166,30,"userId"],[164,102,166,36],[164,103,166,37],[164,104,167,21,"single"],[164,110,167,27],[164,111,167,28],[164,112,167,29],[165,10,169,16],[165,16,169,22],[166,12,169,24,"data"],[166,16,169,28],[167,12,169,30,"error"],[168,10,169,36],[168,11,169,37],[168,14,169,40],[168,20,169,46,"Promise"],[168,27,169,53],[168,28,169,54,"race"],[168,32,169,58],[168,33,169,59],[168,34,170,20,"fetchPromise"],[168,46,170,32],[168,48,171,20,"timeoutPromise"],[168,62,171,34],[168,63,172,17],[168,64,172,25],[169,10,174,16],[169,14,174,20,"error"],[169,19,174,25],[169,21,174,27],[170,12,175,20],[171,12,176,20],[171,16,176,24,"error"],[171,21,176,29],[171,22,176,30,"code"],[171,26,176,34],[171,31,176,39],[171,41,176,49],[171,43,176,51],[172,14,177,24,"console"],[172,21,177,31],[172,22,177,32,"log"],[172,25,177,35],[172,26,177,36],[172,68,177,78],[172,69,177,79],[173,14,178,24],[173,21,178,31],[173,25,178,35],[174,12,179,20],[176,12,181,20],[177,12,182,20,"console"],[177,19,182,27],[177,20,182,28,"warn"],[177,24,182,32],[177,25,182,33],[177,60,182,68,"i"],[177,61,182,69],[177,64,182,72],[177,65,182,73],[177,69,182,77],[177,71,182,79,"error"],[177,76,182,84],[177,77,182,85,"message"],[177,84,182,92],[177,85,182,93],[178,12,183,20],[178,16,183,24,"i"],[178,17,183,25],[178,22,183,30],[178,23,183,31],[178,25,183,33],[178,32,183,40],[178,36,183,44],[178,37,183,45],[178,38,183,46],[179,12,184,20],[179,18,184,26],[179,22,184,30,"Promise"],[179,29,184,37],[179,30,184,38,"r"],[179,31,184,39],[179,35,184,43,"setTimeout"],[179,45,184,53],[179,46,184,54,"r"],[179,47,184,55],[179,49,184,57],[179,52,184,60],[179,53,184,61],[179,54,184,62],[179,55,184,63],[179,56,184,64],[180,12,185,20],[181,10,186,16],[182,10,188,16],[182,14,188,20,"data"],[182,18,188,24],[182,20,188,26],[183,12,189,20,"console"],[183,19,189,27],[183,20,189,28,"log"],[183,23,189,31],[183,24,189,32],[183,42,189,50],[183,44,189,52,"data"],[183,48,189,56],[183,49,189,57,"email"],[183,54,189,62],[183,55,189,63],[184,12,190,20],[184,19,190,27,"data"],[184,23,190,31],[185,10,191,16],[185,11,191,17],[185,17,191,23],[186,12,192,20,"console"],[186,19,192,27],[186,20,192,28,"log"],[186,23,192,31],[186,24,192,32],[186,59,192,67],[186,60,192,68],[187,12,193,20],[187,19,193,27],[187,23,193,31],[188,10,194,16],[189,8,195,12],[189,9,195,13],[189,10,195,14],[189,17,195,21,"error"],[189,22,195,31],[189,24,195,33],[190,10,196,16,"console"],[190,17,196,23],[190,18,196,24,"error"],[190,23,196,29],[190,24,196,30],[190,62,196,68,"i"],[190,63,196,69],[190,66,196,72],[190,67,196,73],[190,71,196,77],[190,73,196,79,"error"],[190,78,196,84],[190,79,196,85,"message"],[190,86,196,92],[190,87,196,93],[191,10,197,16],[191,14,197,20,"i"],[191,15,197,21],[191,20,197,26],[191,21,197,27],[191,23,197,29],[191,30,197,36],[191,34,197,40],[192,10,198,16],[192,16,198,22],[192,20,198,26,"Promise"],[192,27,198,33],[192,28,198,34,"r"],[192,29,198,35],[192,33,198,39,"setTimeout"],[192,43,198,49],[192,44,198,50,"r"],[192,45,198,51],[192,47,198,53],[192,50,198,56],[192,51,198,57],[192,52,198,58],[193,8,199,12],[194,6,200,8],[195,6,201,8],[195,13,201,15],[195,17,201,19],[196,4,202,4],[196,5,202,5],[197,4,204,4],[197,10,204,10,"refreshProfile"],[197,24,204,24],[197,27,204,27],[197,33,204,27,"refreshProfile"],[197,34,204,27],[197,39,204,39],[198,6,205,8],[198,10,205,12,"session"],[198,17,205,19],[198,19,205,21,"user"],[198,23,205,25],[198,25,205,27],[199,8,206,12],[199,14,206,18,"profileData"],[199,25,206,29],[199,28,206,32],[199,34,206,38,"fetchProfile"],[199,46,206,50],[199,47,206,51,"session"],[199,54,206,58],[199,55,206,59,"user"],[199,59,206,63],[199,60,206,64,"id"],[199,62,206,66],[199,63,206,67],[200,8,207,12],[200,12,207,16,"profileData"],[200,23,207,27],[200,25,207,29],[201,10,208,16,"setProfile"],[201,20,208,26],[201,21,208,27,"profileData"],[201,32,208,38],[201,33,208,39],[202,10,209,16,"setUser"],[202,17,209,23],[202,18,209,24,"session"],[202,25,209,31],[202,26,209,32,"user"],[202,30,209,36],[202,31,209,37],[203,8,210,12],[204,6,211,8],[205,4,212,4],[205,5,212,5],[206,4,214,4],[206,10,214,10,"signOut"],[206,17,214,17],[206,20,214,20],[206,26,214,20,"signOut"],[206,27,214,20],[206,32,214,32],[207,6,215,8],[207,10,215,12],[208,8,216,12,"setSession"],[208,18,216,22],[208,19,216,23],[208,23,216,27],[208,24,216,28],[209,8,217,12,"setUser"],[209,15,217,19],[209,16,217,20],[209,20,217,24],[209,21,217,25],[210,8,218,12,"setProfile"],[210,18,218,22],[210,19,218,23],[210,23,218,27],[210,24,218,28],[211,8,219,12],[211,14,219,18,"supabase"],[211,31,219,26],[211,32,219,26,"supabase"],[211,40,219,26],[211,41,219,27,"auth"],[211,45,219,31],[211,46,219,32,"signOut"],[211,53,219,39],[211,54,219,40],[211,55,219,41],[212,6,220,8],[212,7,220,9],[212,8,220,10],[212,15,220,17,"error"],[212,20,220,22],[212,22,220,24],[213,8,221,12,"console"],[213,15,221,19],[213,16,221,20,"error"],[213,21,221,25],[213,22,221,26],[213,39,221,43],[213,41,221,45,"error"],[213,46,221,50],[213,47,221,51],[214,6,222,8],[215,4,223,4],[215,5,223,5],[216,4,225,4],[216,10,225,10,"value"],[216,15,225,15],[216,18,225,18],[217,6,226,8,"session"],[217,13,226,15],[218,6,227,8,"user"],[218,10,227,12],[219,6,228,8,"profile"],[219,13,228,15],[220,6,229,8,"loading"],[220,13,229,15],[221,6,230,8,"signOut"],[221,13,230,15],[222,6,231,8,"refreshProfile"],[223,4,232,4],[223,5,232,5],[224,4,234,4],[224,24,234,11],[224,28,234,11,"_reactJsxDevRuntime"],[224,47,234,11],[224,48,234,11,"jsxDEV"],[224,54,234,11],[224,56,234,12,"AuthContext"],[224,67,234,23],[224,68,234,24,"Provider"],[224,76,234,32],[225,6,234,33,"value"],[225,11,234,38],[225,13,234,40,"value"],[225,18,234,46],[226,6,234,46,"children"],[226,14,234,46],[226,16,234,48,"children"],[227,4,234,56],[228,6,234,56,"fileName"],[228,14,234,56],[228,16,234,56,"_jsxFileName"],[228,28,234,56],[229,6,234,56,"lineNumber"],[229,16,234,56],[230,6,234,56,"columnNumber"],[230,18,234,56],[231,4,234,56],[231,11,234,79],[231,12,234,80],[232,2,235,0],[233,2,237,7],[233,11,237,16,"useAuth"],[233,18,237,23,"useAuth"],[233,19,237,23],[233,21,237,26],[234,4,238,4],[234,10,238,10,"context"],[234,17,238,17],[234,20,238,20],[234,24,238,20,"useContext"],[234,30,238,30],[234,31,238,30,"useContext"],[234,41,238,30],[234,43,238,31,"AuthContext"],[234,54,238,42],[234,55,238,43],[235,4,239,4],[235,8,239,8,"context"],[235,15,239,15],[235,20,239,20,"undefined"],[235,29,239,29],[235,31,239,31],[236,6,240,8],[236,12,240,14],[236,16,240,18,"Error"],[236,21,240,23],[236,22,240,24],[236,67,240,69],[236,68,240,70],[237,4,241,4],[238,4,242,4],[238,11,242,11,"context"],[238,18,242,18],[239,2,243,0],[240,0,243,1],[240,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","supabase.auth.onAuthStateChange$argument_0","<anonymous>","handleVisibilityChange","initializeAuth","fetchProfile","Promise$argument_0","setTimeout$argument_0","refreshProfile","signOut","useAuth"],"mappings":"AAA;OCgB;cCO;YCmB;aD8C;eEG,gCF;KDC;cCG;uCGG;SHkB;eEG,8EF;KDC;2BKE;KL0B;yBMG;yDCO;+BCC,gDD,OD;sCCwB,uBD;kCCc,uBD;KNI;2BSE;KTQ;oBUE;KVS;CDY;OYE;CZM"},"hasCjsExports":false},"type":"js/module"}]}